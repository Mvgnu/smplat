# Shared environment variables
NODE_ENV=development
DATABASE_URL=postgresql://magnusohle@localhost:5432/smplat
NEXTAUTH_SECRET=replace-with-strong-secret
NEXTAUTH_URL=http://localhost:3000

# Email provider placeholders
EMAIL_FROM=no-reply@smplat.test
EMAIL_FROM_NAME=SMPLAT
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=username
SMTP_PASSWORD=password

# Optional Resend API (leave blank to use SMTP)
RESEND_API_KEY=

# Sanity CMS
SANITY_PROJECT_ID=smplat
SANITY_DATASET=production
SANITY_API_VERSION=2025-10-15
SANITY_READ_TOKEN=
SANITY_PREVIEW_SECRET=
SANITY_REVALIDATE_SECRET=

# Payload CMS (set all values when running Payload-first flows)
PAYLOAD_URL=http://localhost:3050
PAYLOAD_API_TOKEN=
# Required for preview
PAYLOAD_PREVIEW_SECRET=
# Required for webhook revalidation
PAYLOAD_REVALIDATE_SECRET=
# Optional override when the frontend lives behind a proxy path
PAYLOAD_REVALIDATE_ENDPOINT=
CMS_ENV=development
NEXT_PUBLIC_CMS_ENV=development
DEV_SHORTCUT_CUSTOMER_EMAIL=customer@smplat.dev
DEV_SHORTCUT_ADMIN_EMAIL=admin@smplat.dev
DEV_SHORTCUT_TESTING_EMAIL=testing@smplat.dev
DEV_SHORTCUT_ANALYSIS_EMAIL=analysis@smplat.dev
# Comma-separated list of feature flags exposed to the storefront (e.g. pricing experiments)
NEXT_PUBLIC_FEATURE_FLAGS=

# Service endpoints
API_BASE_URL=http://localhost:8000

# Provider automation export defaults
SMPLAT_API_BASE_URL=http://localhost:8000
SMPLAT_AUTOMATION_EXPORT_DIR=exports/provider-automation
SMPLAT_AUTOMATION_AUTH_TOKEN=

# Storefront FX table (JSON string; 1 unit of FROM currency * rate = TO currency)
NEXT_PUBLIC_FX_RATES='{"USD":{"USD":1,"EUR":0.92},"EUR":{"EUR":1,"USD":1.09}}'

# Provider automation replay worker
PROVIDER_REPLAY_WORKER_ENABLED=false
PROVIDER_REPLAY_WORKER_INTERVAL_SECONDS=300
PROVIDER_REPLAY_WORKER_LIMIT=25
PROVIDER_AUTOMATION_ALERT_WORKER_ENABLED=false
PROVIDER_AUTOMATION_ALERT_INTERVAL_SECONDS=900
PROVIDER_AUTOMATION_ALERT_SNAPSHOT_LIMIT=25
PROVIDER_AUTOMATION_ALERT_GUARDRAIL_FAIL_THRESHOLD=3
PROVIDER_AUTOMATION_ALERT_GUARDRAIL_WARN_THRESHOLD=5
PROVIDER_AUTOMATION_ALERT_REPLAY_FAILURE_THRESHOLD=3
PROVIDER_AUTOMATION_ALERT_EMAIL_RECIPIENTS=
PROVIDER_AUTOMATION_ALERT_SLACK_WEBHOOK_URL=
PROVIDER_AUTOMATION_ALERT_SLACK_CHANNEL=
PROVIDER_LOAD_ALERT_ENABLED=true
PROVIDER_LOAD_ALERT_SHORT_WINDOW_DAYS=7
PROVIDER_LOAD_ALERT_LONG_WINDOW_DAYS=90
PROVIDER_LOAD_ALERT_SHARE_THRESHOLD=0.6
PROVIDER_LOAD_ALERT_DELTA_THRESHOLD=0.2
PROVIDER_LOAD_ALERT_MIN_ENGAGEMENTS=10
PROVIDER_LOAD_ALERT_MAX_RESULTS=25
PROVIDER_AUTOMATION_STATUS_HISTORY_LIMIT=20
GUARDRAIL_WORKFLOW_TELEMETRY_SUMMARY_URL=http://localhost:3000/api/reporting/guardrail-workflow?limit=500
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_DEFAULT_QUEUE=smplat-default
JOURNEY_RUNTIME_WORKER_ENABLED=false
JOURNEY_RUNTIME_TASK_QUEUE=journey-runtime
JOURNEY_RUNTIME_POLL_INTERVAL_SECONDS=5
JOURNEY_RUNTIME_BATCH_SIZE=10
JOURNEY_RUNTIME_RUNNER_URL=
JOURNEY_RUNTIME_RUNNER_API_KEY=
JOURNEY_RUNTIME_RUNNER_TIMEOUT_SECONDS=15
PROVIDER_AUTOMATION_REPLAY_TASK_QUEUE=provider-replay
PROVIDER_AUTOMATION_ALERT_TASK_QUEUE=provider-alerts

# Product media storage
ASSET_BUCKET=
ASSET_REGION=us-east-1
ASSET_PUBLIC_BASE_URL=
ASSET_UPLOAD_PREFIX=product-media
ASSET_S3_ENDPOINT=
ASSET_S3_FORCE_PATH_STYLE=false
ASSET_UPLOAD_EXPIRY_SECONDS=300
ASSET_CLEANUP_PREFIX=
ASSET_CLEANUP_MAX_AGE_MINUTES=60

# Receipt artifact storage
RECEIPT_STORAGE_BUCKET=
RECEIPT_STORAGE_REGION=us-east-1
RECEIPT_STORAGE_PREFIX=order-receipts
RECEIPT_STORAGE_PUBLIC_BASE_URL=
RECEIPT_STORAGE_ENDPOINT=
RECEIPT_STORAGE_FORCE_PATH_STYLE=false
RECEIPT_STORAGE_ACL=private
RECEIPT_PDF_FETCH_TIMEOUT_SECONDS=10
RECEIPT_STORAGE_PROBE_WORKER_ENABLED=false
RECEIPT_STORAGE_PROBE_INTERVAL_SECONDS=86400
RECEIPT_STORAGE_PROBE_MAX_STALE_HOURS=48
