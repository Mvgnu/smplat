"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity+client@6.29.1_debug@4.4.3";
exports.ids = ["vendor-chunks/@sanity+client@6.29.1_debug@4.4.3"];
exports.modules = {

/***/ "(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaClean.js":
/*!****************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaClean.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   C: () => (/* binding */ C),\n/* harmony export */   stegaClean: () => (/* binding */ stegaClean),\n/* harmony export */   vercelStegaCleanAll: () => (/* binding */ vercelStegaCleanAll)\n/* harmony export */ });\nvar s = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 8290,\n    4: 8291,\n    5: 8288,\n    6: 65279,\n    7: 8289,\n    8: 119155,\n    9: 119156,\n    a: 119157,\n    b: 119158,\n    c: 119159,\n    d: 119160,\n    e: 119161,\n    f: 119162\n}, c = {\n    0: 8203,\n    1: 8204,\n    2: 8205,\n    3: 65279\n}, u = new Array(4).fill(String.fromCodePoint(c[0])).join(\"\");\nfunction E(t) {\n    let e = JSON.stringify(t);\n    return `${u}${Array.from(e).map((r)=>{\n        let n = r.charCodeAt(0);\n        if (n > 255) throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);\n        return Array.from(n.toString(4).padStart(4, \"0\")).map((o)=>String.fromCodePoint(c[o])).join(\"\");\n    }).join(\"\")}`;\n}\nfunction I(t) {\n    return !Number.isNaN(Number(t)) || /[a-z]/i.test(t) && !/\\d+(?:[-:\\/]\\d+){2}(?:T\\d+(?:[-:\\/]\\d+){1,2}(\\.\\d+)?Z?)?/.test(t) ? !1 : !!Date.parse(t);\n}\nfunction T(t) {\n    try {\n        new URL(t, t.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return !1;\n    }\n    return !0;\n}\nfunction C(t, e, r = \"auto\") {\n    return r === !0 || r === \"auto\" && (I(t) || T(t)) ? t : `${t}${E(e)}`;\n}\nObject.fromEntries(Object.entries(c).map((t)=>t.reverse()));\nObject.fromEntries(Object.entries(s).map((t)=>t.reverse()));\nvar S = `${Object.values(s).map((t)=>`\\\\u{${t.toString(16)}}`).join(\"\")}`, f = new RegExp(`[${S}]{4,}`, \"gu\");\nfunction _(t) {\n    var e;\n    return {\n        cleaned: t.replace(f, \"\"),\n        encoded: ((e = t.match(f)) == null ? void 0 : e[0]) || \"\"\n    };\n}\nfunction O(t) {\n    return t && JSON.parse(_(JSON.stringify(t)).cleaned);\n}\nfunction stegaClean(result) {\n    return O(result);\n}\nconst vercelStegaCleanAll = stegaClean;\n //# sourceMappingURL=stegaClean.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYW5pdHkrY2xpZW50QDYuMjkuMV9kZWJ1Z0A0LjQuMy9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhQ2xlYW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsSUFBSTtJQUFFLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztJQUFNLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztJQUFNLEdBQUc7SUFBTyxHQUFHO0lBQU0sR0FBRztJQUFRLEdBQUc7SUFBUUMsR0FBRztJQUFRQyxHQUFHO0lBQVFDLEdBQUc7SUFBUUMsR0FBRztJQUFRQyxHQUFHO0lBQVFDLEdBQUc7QUFBTyxHQUFHSCxJQUFJO0lBQUUsR0FBRztJQUFNLEdBQUc7SUFBTSxHQUFHO0lBQU0sR0FBRztBQUFNLEdBQUdJLElBQUksSUFBSUMsTUFBTSxHQUFHQyxJQUFJLENBQUNDLE9BQU9DLGFBQWEsQ0FBQ1IsQ0FBQyxDQUFDLEVBQUUsR0FBR1MsSUFBSSxDQUFDO0FBQ2pSLFNBQVNDLEVBQUVDLENBQUM7SUFDVixJQUFJVCxJQUFJVSxLQUFLQyxTQUFTLENBQUNGO0lBQ3ZCLE9BQU8sQ0FBQyxFQUFFUCxFQUFFLEVBQUVDLE1BQU1TLElBQUksQ0FBQ1osR0FBR2EsR0FBRyxDQUFDLENBQUNDO1FBQy9CLElBQUlDLElBQUlELEVBQUVFLFVBQVUsQ0FBQztRQUNyQixJQUFJRCxJQUFJLEtBQUssTUFBTSxJQUFJRSxNQUFNLENBQUMsZ0VBQWdFLEVBQUVqQixFQUFFLGNBQWMsRUFBRWMsRUFBRSxFQUFFLEVBQUVDLEVBQUUsQ0FBQyxDQUFDO1FBQzVILE9BQU9aLE1BQU1TLElBQUksQ0FBQ0csRUFBRUcsUUFBUSxDQUFDLEdBQUdDLFFBQVEsQ0FBQyxHQUFHLE1BQU1OLEdBQUcsQ0FBQyxDQUFDTyxJQUFNZixPQUFPQyxhQUFhLENBQUNSLENBQUMsQ0FBQ3NCLEVBQUUsR0FBR2IsSUFBSSxDQUFDO0lBQ2hHLEdBQUdBLElBQUksQ0FBQyxJQUFJLENBQUM7QUFDZjtBQUNBLFNBQVNjLEVBQUVaLENBQUM7SUFDVixPQUFPLENBQUNhLE9BQU9DLEtBQUssQ0FBQ0QsT0FBT2IsT0FBTyxTQUFTZSxJQUFJLENBQUNmLE1BQU0sQ0FBQywyREFBMkRlLElBQUksQ0FBQ2YsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDZ0IsS0FBS0MsS0FBSyxDQUFDakI7QUFDako7QUFDQSxTQUFTa0IsRUFBRWxCLENBQUM7SUFDVixJQUFJO1FBQ0YsSUFBSW1CLElBQUluQixHQUFHQSxFQUFFb0IsVUFBVSxDQUFDLE9BQU8scUJBQXFCLEtBQUs7SUFDM0QsRUFBRSxPQUFNO1FBQ04sT0FBTyxDQUFDO0lBQ1Y7SUFDQSxPQUFPLENBQUM7QUFDVjtBQUNBLFNBQVNDLEVBQUVyQixDQUFDLEVBQUVULENBQUMsRUFBRWMsSUFBSSxNQUFNO0lBQ3pCLE9BQU9BLE1BQU0sQ0FBQyxLQUFLQSxNQUFNLFVBQVdPLENBQUFBLEVBQUVaLE1BQU1rQixFQUFFbEIsRUFBQyxJQUFLQSxJQUFJLENBQUMsRUFBRUEsRUFBRSxFQUFFRCxFQUFFUixHQUFHLENBQUM7QUFDdkU7QUFDQStCLE9BQU9DLFdBQVcsQ0FBQ0QsT0FBT0UsT0FBTyxDQUFDbkMsR0FBR2UsR0FBRyxDQUFDLENBQUNKLElBQU1BLEVBQUV5QixPQUFPO0FBQ3pESCxPQUFPQyxXQUFXLENBQUNELE9BQU9FLE9BQU8sQ0FBQ3RDLEdBQUdrQixHQUFHLENBQUMsQ0FBQ0osSUFBTUEsRUFBRXlCLE9BQU87QUFDekQsSUFBSUMsSUFBSSxDQUFDLEVBQUVKLE9BQU9LLE1BQU0sQ0FBQ3pDLEdBQUdrQixHQUFHLENBQUMsQ0FBQ0osSUFBTSxDQUFDLElBQUksRUFBRUEsRUFBRVMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUVYLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRU4sSUFBSSxJQUFJb0MsT0FBTyxDQUFDLENBQUMsRUFBRUYsRUFBRSxLQUFLLENBQUMsRUFBRTtBQUMxRyxTQUFTRyxFQUFFN0IsQ0FBQztJQUNWLElBQUlUO0lBQ0osT0FBTztRQUFFdUMsU0FBUzlCLEVBQUUrQixPQUFPLENBQUN2QyxHQUFHO1FBQUt3QyxTQUFTLENBQUMsQ0FBQ3pDLElBQUlTLEVBQUVpQyxLQUFLLENBQUN6QyxFQUFDLEtBQU0sT0FBTyxLQUFLLElBQUlELENBQUMsQ0FBQyxFQUFFLEtBQUs7SUFBRztBQUNoRztBQUNBLFNBQVMyQyxFQUFFbEMsQ0FBQztJQUNWLE9BQU9BLEtBQUtDLEtBQUtnQixLQUFLLENBQUNZLEVBQUU1QixLQUFLQyxTQUFTLENBQUNGLElBQUk4QixPQUFPO0FBQ3JEO0FBQ0EsU0FBU0ssV0FBV0MsTUFBTTtJQUN4QixPQUFPRixFQUFFRTtBQUNYO0FBQ0EsTUFBTUMsc0JBQXNCRjtBQUsxQixDQUNGLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BzbXBsYXQvd2ViLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FuaXR5K2NsaWVudEA2LjI5LjFfZGVidWdANC40LjMvbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvX2NodW5rcy1lcy9zdGVnYUNsZWFuLmpzP2Q0MzkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHMgPSB7IDA6IDgyMDMsIDE6IDgyMDQsIDI6IDgyMDUsIDM6IDgyOTAsIDQ6IDgyOTEsIDU6IDgyODgsIDY6IDY1Mjc5LCA3OiA4Mjg5LCA4OiAxMTkxNTUsIDk6IDExOTE1NiwgYTogMTE5MTU3LCBiOiAxMTkxNTgsIGM6IDExOTE1OSwgZDogMTE5MTYwLCBlOiAxMTkxNjEsIGY6IDExOTE2MiB9LCBjID0geyAwOiA4MjAzLCAxOiA4MjA0LCAyOiA4MjA1LCAzOiA2NTI3OSB9LCB1ID0gbmV3IEFycmF5KDQpLmZpbGwoU3RyaW5nLmZyb21Db2RlUG9pbnQoY1swXSkpLmpvaW4oXCJcIik7XG5mdW5jdGlvbiBFKHQpIHtcbiAgbGV0IGUgPSBKU09OLnN0cmluZ2lmeSh0KTtcbiAgcmV0dXJuIGAke3V9JHtBcnJheS5mcm9tKGUpLm1hcCgocikgPT4ge1xuICAgIGxldCBuID0gci5jaGFyQ29kZUF0KDApO1xuICAgIGlmIChuID4gMjU1KSB0aHJvdyBuZXcgRXJyb3IoYE9ubHkgQVNDSUkgZWRpdCBpbmZvIGNhbiBiZSBlbmNvZGVkLiBFcnJvciBhdHRlbXB0aW5nIHRvIGVuY29kZSAke2V9IG9uIGNoYXJhY3RlciAke3J9ICgke259KWApO1xuICAgIHJldHVybiBBcnJheS5mcm9tKG4udG9TdHJpbmcoNCkucGFkU3RhcnQoNCwgXCIwXCIpKS5tYXAoKG8pID0+IFN0cmluZy5mcm9tQ29kZVBvaW50KGNbb10pKS5qb2luKFwiXCIpO1xuICB9KS5qb2luKFwiXCIpfWA7XG59XG5mdW5jdGlvbiBJKHQpIHtcbiAgcmV0dXJuICFOdW1iZXIuaXNOYU4oTnVtYmVyKHQpKSB8fCAvW2Etel0vaS50ZXN0KHQpICYmICEvXFxkKyg/OlstOlxcL11cXGQrKXsyfSg/OlRcXGQrKD86Wy06XFwvXVxcZCspezEsMn0oXFwuXFxkKyk/Wj8pPy8udGVzdCh0KSA/ICExIDogISFEYXRlLnBhcnNlKHQpO1xufVxuZnVuY3Rpb24gVCh0KSB7XG4gIHRyeSB7XG4gICAgbmV3IFVSTCh0LCB0LnN0YXJ0c1dpdGgoXCIvXCIpID8gXCJodHRwczovL2FjbWUuY29tXCIgOiB2b2lkIDApO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gQyh0LCBlLCByID0gXCJhdXRvXCIpIHtcbiAgcmV0dXJuIHIgPT09ICEwIHx8IHIgPT09IFwiYXV0b1wiICYmIChJKHQpIHx8IFQodCkpID8gdCA6IGAke3R9JHtFKGUpfWA7XG59XG5PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoYykubWFwKCh0KSA9PiB0LnJldmVyc2UoKSkpO1xuT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHMpLm1hcCgodCkgPT4gdC5yZXZlcnNlKCkpKTtcbnZhciBTID0gYCR7T2JqZWN0LnZhbHVlcyhzKS5tYXAoKHQpID0+IGBcXFxcdXske3QudG9TdHJpbmcoMTYpfX1gKS5qb2luKFwiXCIpfWAsIGYgPSBuZXcgUmVnRXhwKGBbJHtTfV17NCx9YCwgXCJndVwiKTtcbmZ1bmN0aW9uIF8odCkge1xuICB2YXIgZTtcbiAgcmV0dXJuIHsgY2xlYW5lZDogdC5yZXBsYWNlKGYsIFwiXCIpLCBlbmNvZGVkOiAoKGUgPSB0Lm1hdGNoKGYpKSA9PSBudWxsID8gdm9pZCAwIDogZVswXSkgfHwgXCJcIiB9O1xufVxuZnVuY3Rpb24gTyh0KSB7XG4gIHJldHVybiB0ICYmIEpTT04ucGFyc2UoXyhKU09OLnN0cmluZ2lmeSh0KSkuY2xlYW5lZCk7XG59XG5mdW5jdGlvbiBzdGVnYUNsZWFuKHJlc3VsdCkge1xuICByZXR1cm4gTyhyZXN1bHQpO1xufVxuY29uc3QgdmVyY2VsU3RlZ2FDbGVhbkFsbCA9IHN0ZWdhQ2xlYW47XG5leHBvcnQge1xuICBDLFxuICBzdGVnYUNsZWFuLFxuICB2ZXJjZWxTdGVnYUNsZWFuQWxsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RlZ2FDbGVhbi5qcy5tYXBcbiJdLCJuYW1lcyI6WyJzIiwiYSIsImIiLCJjIiwiZCIsImUiLCJmIiwidSIsIkFycmF5IiwiZmlsbCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJqb2luIiwiRSIsInQiLCJKU09OIiwic3RyaW5naWZ5IiwiZnJvbSIsIm1hcCIsInIiLCJuIiwiY2hhckNvZGVBdCIsIkVycm9yIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIm8iLCJJIiwiTnVtYmVyIiwiaXNOYU4iLCJ0ZXN0IiwiRGF0ZSIsInBhcnNlIiwiVCIsIlVSTCIsInN0YXJ0c1dpdGgiLCJDIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwicmV2ZXJzZSIsIlMiLCJ2YWx1ZXMiLCJSZWdFeHAiLCJfIiwiY2xlYW5lZCIsInJlcGxhY2UiLCJlbmNvZGVkIiwibWF0Y2giLCJPIiwic3RlZ2FDbGVhbiIsInJlc3VsdCIsInZlcmNlbFN0ZWdhQ2xlYW5BbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js":
/*!**************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   encodeIntoResult: () => (/* binding */ encodeIntoResult),\n/* harmony export */   stegaEncodeSourceMap: () => (/* binding */ stegaEncodeSourceMap),\n/* harmony export */   stegaEncodeSourceMap$1: () => (/* binding */ stegaEncodeSourceMap$1)\n/* harmony export */ });\n/* harmony import */ var _stegaClean_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stegaClean.js */ \"(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\");\n\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n    return typeof segment == \"string\" ? reKeySegment.test(segment.trim()) : typeof segment == \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n    if (!Array.isArray(path)) throw new Error(\"Path is not an array\");\n    return path.reduce((target, segment, i)=>{\n        const segmentType = typeof segment;\n        if (segmentType === \"number\") return `${target}[${segment}]`;\n        if (segmentType === \"string\") return `${target}${i === 0 ? \"\" : \".\"}${segment}`;\n        if (isKeySegment(segment) && segment._key) return `${target}[_key==\"${segment._key}\"]`;\n        if (Array.isArray(segment)) {\n            const [from, to] = segment;\n            return `${target}[${from}:${to}]`;\n        }\n        throw new Error(`Unsupported path segment \\`${JSON.stringify(segment)}\\``);\n    }, \"\");\n}\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n}, UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": `\n`,\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n    return `$${path.map((segment)=>typeof segment == \"string\" ? `['${segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match)=>ESCAPE[match])}']` : typeof segment == \"number\" ? `[${segment}]` : segment._key !== \"\" ? `[?(@._key=='${segment._key.replace(/['\\\\]/g, (match)=>ESCAPE[match])}')]` : `[${segment._index}]`).join(\"\")}`;\n}\nfunction parseJsonPath(path) {\n    const parsed = [], parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n    let match;\n    for(; (match = parseRe.exec(path)) !== null;){\n        if (match[1] !== void 0) {\n            const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m)=>UNESCAPE[m]);\n            parsed.push(key);\n            continue;\n        }\n        if (match[2] !== void 0) {\n            parsed.push(parseInt(match[2], 10));\n            continue;\n        }\n        if (match[3] !== void 0) {\n            const _key = match[3].replace(/\\\\(\\\\')/g, (m)=>UNESCAPE[m]);\n            parsed.push({\n                _key,\n                _index: -1\n            });\n            continue;\n        }\n    }\n    return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n        if (segment._key !== \"\") return {\n            _key: segment._key\n        };\n        if (segment._index !== -1) return segment._index;\n        throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n    });\n}\nfunction jsonPathToMappingPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment == \"string\" || typeof segment == \"number\") return segment;\n        if (segment._index !== -1) return segment._index;\n        throw new Error(`invalid segment:${JSON.stringify(segment)}`);\n    });\n}\nfunction resolveMapping(resultPath, csm) {\n    if (!csm?.mappings) return;\n    const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n    if (csm.mappings[resultMappingPath] !== void 0) return {\n        mapping: csm.mappings[resultMappingPath],\n        matchedPath: resultMappingPath,\n        pathSuffix: \"\"\n    };\n    const mappings = Object.entries(csm.mappings).filter(([key])=>resultMappingPath.startsWith(key)).sort(([key1], [key2])=>key2.length - key1.length);\n    if (mappings.length == 0) return;\n    const [matchedPath, mapping] = mappings[0], pathSuffix = resultMappingPath.substring(matchedPath.length);\n    return {\n        mapping,\n        matchedPath,\n        pathSuffix\n    };\n}\nfunction isArray(value) {\n    return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value == \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn, path = []) {\n    if (isArray(value)) return value.map((v, idx)=>{\n        if (isRecord(v)) {\n            const _key = v._key;\n            if (typeof _key == \"string\") return walkMap(v, mappingFn, path.concat({\n                _key,\n                _index: idx\n            }));\n        }\n        return walkMap(v, mappingFn, path.concat(idx));\n    });\n    if (isRecord(value)) {\n        if (value._type === \"block\" || value._type === \"span\") {\n            const result = {\n                ...value\n            };\n            return value._type === \"block\" ? result.children = walkMap(value.children, mappingFn, path.concat(\"children\")) : value._type === \"span\" && (result.text = walkMap(value.text, mappingFn, path.concat(\"text\"))), result;\n        }\n        return Object.fromEntries(Object.entries(value).map(([k, v])=>[\n                k,\n                walkMap(v, mappingFn, path.concat(k))\n            ]));\n    }\n    return mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n    return walkMap(result, (value, path)=>{\n        if (typeof value != \"string\") return value;\n        const resolveMappingResult = resolveMapping(path, csm);\n        if (!resolveMappingResult) return value;\n        const { mapping, matchedPath } = resolveMappingResult;\n        if (mapping.type !== \"value\" || mapping.source.type !== \"documentValue\") return value;\n        const sourceDocument = csm.documents[mapping.source.document], sourcePath = csm.paths[mapping.source.path], matchPathSegments = parseJsonPath(matchedPath), fullSourceSegments = parseJsonPath(sourcePath).concat(path.slice(matchPathSegments.length));\n        return encoder({\n            sourcePath: fullSourceSegments,\n            sourceDocument,\n            resultPath: path,\n            value\n        });\n    });\n}\nconst DRAFTS_FOLDER = \"drafts\", VERSION_FOLDER = \"versions\", PATH_SEPARATOR = \".\", DRAFTS_PREFIX = `${DRAFTS_FOLDER}${PATH_SEPARATOR}`, VERSION_PREFIX = `${VERSION_FOLDER}${PATH_SEPARATOR}`;\nfunction isDraftId(id) {\n    return id.startsWith(DRAFTS_PREFIX);\n}\nfunction isVersionId(id) {\n    return id.startsWith(VERSION_PREFIX);\n}\nfunction isPublishedId(id) {\n    return !isDraftId(id) && !isVersionId(id);\n}\nfunction getVersionFromId(id) {\n    if (!isVersionId(id)) return;\n    const [_versionPrefix, versionId, ..._publishedId] = id.split(PATH_SEPARATOR);\n    return versionId;\n}\nfunction getPublishedId(id) {\n    return isVersionId(id) ? id.split(PATH_SEPARATOR).slice(2).join(PATH_SEPARATOR) : isDraftId(id) ? id.slice(DRAFTS_PREFIX.length) : id;\n}\nfunction createEditUrl(options) {\n    const { baseUrl, workspace: _workspace = \"default\", tool: _tool = \"default\", id: _id, type, path, projectId, dataset } = options;\n    if (!baseUrl) throw new Error(\"baseUrl is required\");\n    if (!path) throw new Error(\"path is required\");\n    if (!_id) throw new Error(\"id is required\");\n    if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) throw new Error(\"baseUrl must not end with a slash\");\n    const workspace = _workspace === \"default\" ? void 0 : _workspace, tool = _tool === \"default\" ? void 0 : _tool, id = getPublishedId(_id), stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path, searchParams = new URLSearchParams({\n        baseUrl,\n        id,\n        type,\n        path: stringifiedPath\n    });\n    if (workspace && searchParams.set(\"workspace\", workspace), tool && searchParams.set(\"tool\", tool), projectId && searchParams.set(\"projectId\", projectId), dataset && searchParams.set(\"dataset\", dataset), isPublishedId(_id)) searchParams.set(\"perspective\", \"published\");\n    else if (isVersionId(_id)) {\n        const versionId = getVersionFromId(_id);\n        searchParams.set(\"perspective\", versionId);\n    }\n    const segments = [\n        baseUrl === \"/\" ? \"\" : baseUrl\n    ];\n    workspace && segments.push(workspace);\n    const routerParams = [\n        \"mode=presentation\",\n        `id=${id}`,\n        `type=${type}`,\n        `path=${encodeURIComponent(stringifiedPath)}`\n    ];\n    return tool && routerParams.push(`tool=${tool}`), segments.push(\"intent\", \"edit\", `${routerParams.join(\";\")}?${searchParams}`), segments.join(\"/\");\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n    let baseUrl = typeof studioUrl == \"string\" ? studioUrl : studioUrl.baseUrl;\n    return baseUrl !== \"/\" && (baseUrl = baseUrl.replace(/\\/$/, \"\")), typeof studioUrl == \"string\" ? {\n        baseUrl\n    } : {\n        ...studioUrl,\n        baseUrl\n    };\n}\nconst filterDefault = ({ sourcePath, resultPath, value })=>{\n    if (isValidDate(value) || isValidURL(value)) return !1;\n    const endPath = sourcePath.at(-1);\n    return !(sourcePath.at(-2) === \"slug\" && endPath === \"current\" || typeof endPath == \"string\" && (endPath.startsWith(\"_\") || endPath.endsWith(\"Id\")) || sourcePath.some((path)=>path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\") || hasTypeLike(sourcePath) || hasTypeLike(resultPath) || typeof endPath == \"string\" && denylist.has(endPath));\n}, denylist = /* @__PURE__ */ new Set([\n    \"color\",\n    \"colour\",\n    \"currency\",\n    \"email\",\n    \"format\",\n    \"gid\",\n    \"hex\",\n    \"href\",\n    \"hsl\",\n    \"hsla\",\n    \"icon\",\n    \"id\",\n    \"index\",\n    \"key\",\n    \"language\",\n    \"layout\",\n    \"link\",\n    \"linkAction\",\n    \"locale\",\n    \"lqip\",\n    \"page\",\n    \"path\",\n    \"ref\",\n    \"rgb\",\n    \"rgba\",\n    \"route\",\n    \"secret\",\n    \"slug\",\n    \"status\",\n    \"tag\",\n    \"template\",\n    \"theme\",\n    \"type\",\n    \"textTheme\",\n    \"unit\",\n    \"url\",\n    \"username\",\n    \"variant\",\n    \"website\"\n]);\nfunction isValidDate(dateString) {\n    return /^\\d{4}-\\d{2}-\\d{2}/.test(dateString) ? !!Date.parse(dateString) : !1;\n}\nfunction isValidURL(url) {\n    try {\n        new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return !1;\n    }\n    return !0;\n}\nfunction hasTypeLike(path) {\n    return path.some((segment)=>typeof segment == \"string\" && segment.match(/type/i) !== null);\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n    const { filter, logger, enabled } = config;\n    if (!enabled) {\n        const msg = \"config.enabled must be true, don't call this function otherwise\";\n        throw logger?.error?.(`[@sanity/client]: ${msg}`, {\n            result,\n            resultSourceMap,\n            config\n        }), new TypeError(msg);\n    }\n    if (!resultSourceMap) return logger?.error?.(\"[@sanity/client]: Missing Content Source Map from response body\", {\n        result,\n        resultSourceMap,\n        config\n    }), result;\n    if (!config.studioUrl) {\n        const msg = \"config.studioUrl must be defined\";\n        throw logger?.error?.(`[@sanity/client]: ${msg}`, {\n            result,\n            resultSourceMap,\n            config\n        }), new TypeError(msg);\n    }\n    const report = {\n        encoded: [],\n        skipped: []\n    }, resultWithStega = encodeIntoResult(result, resultSourceMap, ({ sourcePath, sourceDocument, resultPath, value })=>{\n        if ((typeof filter == \"function\" ? filter({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        }) : filterDefault({\n            sourcePath,\n            resultPath,\n            value\n        })) === !1) return logger && report.skipped.push({\n            path: prettyPathForLogging(sourcePath),\n            value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n            length: value.length\n        }), value;\n        logger && report.encoded.push({\n            path: prettyPathForLogging(sourcePath),\n            value: `${value.slice(0, TRUNCATE_LENGTH)}${value.length > TRUNCATE_LENGTH ? \"...\" : \"\"}`,\n            length: value.length\n        });\n        const { baseUrl, workspace, tool } = resolveStudioBaseRoute(typeof config.studioUrl == \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n        if (!baseUrl) return value;\n        const { _id: id, _type: type, _projectId: projectId, _dataset: dataset } = sourceDocument;\n        return (0,_stegaClean_js__WEBPACK_IMPORTED_MODULE_0__.C)(value, {\n            origin: \"sanity.io\",\n            href: createEditUrl({\n                baseUrl,\n                workspace,\n                tool,\n                id,\n                type,\n                path: sourcePath,\n                ...!config.omitCrossDatasetReferenceData && {\n                    dataset,\n                    projectId\n                }\n            })\n        }, // We use custom logic to determine if we should skip encoding\n        !1);\n    });\n    if (logger) {\n        const isSkipping = report.skipped.length, isEncoding = report.encoded.length;\n        if ((isSkipping || isEncoding) && ((logger?.groupCollapsed || logger.log)?.(\"[@sanity/client]: Encoding source map into result\"), logger.log?.(`[@sanity/client]: Paths encoded: ${report.encoded.length}, skipped: ${report.skipped.length}`)), report.encoded.length > 0 && (logger?.log?.(\"[@sanity/client]: Table of encoded paths\"), (logger?.table || logger.log)?.(report.encoded)), report.skipped.length > 0) {\n            const skipped = /* @__PURE__ */ new Set();\n            for (const { path } of report.skipped)skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n            logger?.log?.(\"[@sanity/client]: List of skipped paths\", [\n                ...skipped.values()\n            ]);\n        }\n        (isSkipping || isEncoding) && logger?.groupEnd?.();\n    }\n    return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n    return toString(jsonPathToStudioPath(path));\n}\nvar stegaEncodeSourceMap$1 = /* @__PURE__ */ Object.freeze({\n    __proto__: null,\n    stegaEncodeSourceMap\n});\n //# sourceMappingURL=stegaEncodeSourceMap.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYW5pdHkrY2xpZW50QDYuMjkuMV9kZWJ1Z0A0LjQuMy9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzLWVzL3N0ZWdhRW5jb2RlU291cmNlTWFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0M7QUFDcEMsTUFBTUMsZUFBZTtBQUNyQixTQUFTQyxhQUFhQyxPQUFPO0lBQzNCLE9BQU8sT0FBT0EsV0FBVyxXQUFXRixhQUFhRyxJQUFJLENBQUNELFFBQVFFLElBQUksTUFBTSxPQUFPRixXQUFXLFlBQVksVUFBVUE7QUFDbEg7QUFDQSxTQUFTRyxTQUFTQyxJQUFJO0lBQ3BCLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDRixPQUNqQixNQUFNLElBQUlHLE1BQU07SUFDbEIsT0FBT0gsS0FBS0ksTUFBTSxDQUFDLENBQUNDLFFBQVFULFNBQVNVO1FBQ25DLE1BQU1DLGNBQWMsT0FBT1g7UUFDM0IsSUFBSVcsZ0JBQWdCLFVBQ2xCLE9BQU8sQ0FBQyxFQUFFRixPQUFPLENBQUMsRUFBRVQsUUFBUSxDQUFDLENBQUM7UUFDaEMsSUFBSVcsZ0JBQWdCLFVBQ2xCLE9BQU8sQ0FBQyxFQUFFRixPQUFPLEVBQUVDLE1BQU0sSUFBSSxLQUFLLElBQUksRUFBRVYsUUFBUSxDQUFDO1FBQ25ELElBQUlELGFBQWFDLFlBQVlBLFFBQVFZLElBQUksRUFDdkMsT0FBTyxDQUFDLEVBQUVILE9BQU8sUUFBUSxFQUFFVCxRQUFRWSxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQzdDLElBQUlQLE1BQU1DLE9BQU8sQ0FBQ04sVUFBVTtZQUMxQixNQUFNLENBQUNhLE1BQU1DLEdBQUcsR0FBR2Q7WUFDbkIsT0FBTyxDQUFDLEVBQUVTLE9BQU8sQ0FBQyxFQUFFSSxLQUFLLENBQUMsRUFBRUMsR0FBRyxDQUFDLENBQUM7UUFDbkM7UUFDQSxNQUFNLElBQUlQLE1BQU0sQ0FBQywyQkFBMkIsRUFBRVEsS0FB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T0FBT0MsT0FBTyxDQUFDeEYsTUFBTSxHQUFHLEtBQU1rRixDQUFBQSxRQUFRa0IsTUFBTSw2Q0FBOENsQixDQUFBQSxRQUFRbUIsU0FBU25CLE9BQU9rQixHQUFHLElBQUliLE9BQU9DLE9BQU8sSUFBSUQsT0FBT0UsT0FBTyxDQUFDekYsTUFBTSxHQUFHLEdBQUc7WUFDeEssTUFBTXlGLFVBQVUsYUFBYSxHQUFHLElBQUlqQjtZQUNwQyxLQUFLLE1BQU0sRUFBRXRILElBQUksRUFBRSxJQUFJcUksT0FBT0UsT0FBTyxDQUNuQ0EsUUFBUWEsR0FBRyxDQUFDcEosS0FBS2lCLE9BQU8sQ0FBQ3ZCLGNBQWMsS0FBS3VCLE9BQU8sQ0FBQyxZQUFZO1lBQ2xFK0csUUFBUWtCLE1BQU0sMkNBQTJDO21CQUFJWCxRQUFRYyxNQUFNO2FBQUc7UUFDaEY7UUFDQ04sQ0FBQUEsY0FBY0MsVUFBUyxLQUFNaEIsUUFBUXNCO0lBQ3hDO0lBQ0EsT0FBT2Q7QUFDVDtBQUNBLFNBQVNDLHFCQUFxQnpJLElBQUk7SUFDaEMsT0FBT0QsU0FBUzhCLHFCQUFxQjdCO0FBQ3ZDO0FBQ0EsSUFBSXVKLHlCQUF5QixhQUFhLEdBQUdoSCxPQUFPaUgsTUFBTSxDQUFDO0lBQ3pEQyxXQUFXO0lBQ1g1QjtBQUNGO0FBS0UsQ0FDRixnREFBZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac21wbGF0L3dlYi8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhbml0eStjbGllbnRANi4yOS4xX2RlYnVnQDQuNC4zL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L19jaHVua3MtZXMvc3RlZ2FFbmNvZGVTb3VyY2VNYXAuanM/MTlkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDIH0gZnJvbSBcIi4vc3RlZ2FDbGVhbi5qc1wiO1xuY29uc3QgcmVLZXlTZWdtZW50ID0gL19rZXlcXHMqPT1cXHMqWydcIl0oLiopWydcIl0vO1xuZnVuY3Rpb24gaXNLZXlTZWdtZW50KHNlZ21lbnQpIHtcbiAgcmV0dXJuIHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgPyByZUtleVNlZ21lbnQudGVzdChzZWdtZW50LnRyaW0oKSkgOiB0eXBlb2Ygc2VnbWVudCA9PSBcIm9iamVjdFwiICYmIFwiX2tleVwiIGluIHNlZ21lbnQ7XG59XG5mdW5jdGlvbiB0b1N0cmluZyhwYXRoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXRoKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXRoIGlzIG5vdCBhbiBhcnJheVwiKTtcbiAgcmV0dXJuIHBhdGgucmVkdWNlKCh0YXJnZXQsIHNlZ21lbnQsIGkpID0+IHtcbiAgICBjb25zdCBzZWdtZW50VHlwZSA9IHR5cGVvZiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50VHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9WyR7c2VnbWVudH1dYDtcbiAgICBpZiAoc2VnbWVudFR5cGUgPT09IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gYCR7dGFyZ2V0fSR7aSA9PT0gMCA/IFwiXCIgOiBcIi5cIn0ke3NlZ21lbnR9YDtcbiAgICBpZiAoaXNLZXlTZWdtZW50KHNlZ21lbnQpICYmIHNlZ21lbnQuX2tleSlcbiAgICAgIHJldHVybiBgJHt0YXJnZXR9W19rZXk9PVwiJHtzZWdtZW50Ll9rZXl9XCJdYDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzZWdtZW50KSkge1xuICAgICAgY29uc3QgW2Zyb20sIHRvXSA9IHNlZ21lbnQ7XG4gICAgICByZXR1cm4gYCR7dGFyZ2V0fVske2Zyb219OiR7dG99XWA7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGF0aCBzZWdtZW50IFxcYCR7SlNPTi5zdHJpbmdpZnkoc2VnbWVudCl9XFxgYCk7XG4gIH0sIFwiXCIpO1xufVxuY29uc3QgRVNDQVBFID0ge1xuICBcIlxcZlwiOiBcIlxcXFxmXCIsXG4gIFwiXFxuXCI6IFwiXFxcXG5cIixcbiAgXCJcXHJcIjogXCJcXFxcclwiLFxuICBcIlx0XCI6IFwiXFxcXHRcIixcbiAgXCInXCI6IFwiXFxcXCdcIixcbiAgXCJcXFxcXCI6IFwiXFxcXFxcXFxcIlxufSwgVU5FU0NBUEUgPSB7XG4gIFwiXFxcXGZcIjogXCJcXGZcIixcbiAgXCJcXFxcblwiOiBgXG5gLFxuICBcIlxcXFxyXCI6IFwiXFxyXCIsXG4gIFwiXFxcXHRcIjogXCJcdFwiLFxuICBcIlxcXFwnXCI6IFwiJ1wiLFxuICBcIlxcXFxcXFxcXCI6IFwiXFxcXFwiXG59O1xuZnVuY3Rpb24ganNvblBhdGgocGF0aCkge1xuICByZXR1cm4gYCQke3BhdGgubWFwKChzZWdtZW50KSA9PiB0eXBlb2Ygc2VnbWVudCA9PSBcInN0cmluZ1wiID8gYFsnJHtzZWdtZW50LnJlcGxhY2UoL1tcXGZcXG5cXHJcXHQnXFxcXF0vZywgKG1hdGNoKSA9PiBFU0NBUEVbbWF0Y2hdKX0nXWAgOiB0eXBlb2Ygc2VnbWVudCA9PSBcIm51bWJlclwiID8gYFske3NlZ21lbnR9XWAgOiBzZWdtZW50Ll9rZXkgIT09IFwiXCIgPyBgWz8oQC5fa2V5PT0nJHtzZWdtZW50Ll9rZXkucmVwbGFjZSgvWydcXFxcXS9nLCAobWF0Y2gpID0+IEVTQ0FQRVttYXRjaF0pfScpXWAgOiBgWyR7c2VnbWVudC5faW5kZXh9XWApLmpvaW4oXCJcIil9YDtcbn1cbmZ1bmN0aW9uIHBhcnNlSnNvblBhdGgocGF0aCkge1xuICBjb25zdCBwYXJzZWQgPSBbXSwgcGFyc2VSZSA9IC9cXFsnKC4qPyknXFxdfFxcWyhcXGQrKVxcXXxcXFtcXD9cXChAXFwuX2tleT09JyguKj8pJ1xcKVxcXS9nO1xuICBsZXQgbWF0Y2g7XG4gIGZvciAoOyAobWF0Y2ggPSBwYXJzZVJlLmV4ZWMocGF0aCkpICE9PSBudWxsOyApIHtcbiAgICBpZiAobWF0Y2hbMV0gIT09IHZvaWQgMCkge1xuICAgICAgY29uc3Qga2V5ID0gbWF0Y2hbMV0ucmVwbGFjZSgvXFxcXChcXFxcfGZ8bnxyfHR8JykvZywgKG0pID0+IFVORVNDQVBFW21dKTtcbiAgICAgIHBhcnNlZC5wdXNoKGtleSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1hdGNoWzJdICE9PSB2b2lkIDApIHtcbiAgICAgIHBhcnNlZC5wdXNoKHBhcnNlSW50KG1hdGNoWzJdLCAxMCkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChtYXRjaFszXSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBfa2V5ID0gbWF0Y2hbM10ucmVwbGFjZSgvXFxcXChcXFxcJykvZywgKG0pID0+IFVORVNDQVBFW21dKTtcbiAgICAgIHBhcnNlZC5wdXNoKHtcbiAgICAgICAgX2tleSxcbiAgICAgICAgX2luZGV4OiAtMVxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHNlZ21lbnQgPT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50Ll9rZXkgIT09IFwiXCIpXG4gICAgICByZXR1cm4geyBfa2V5OiBzZWdtZW50Ll9rZXkgfTtcbiAgICBpZiAoc2VnbWVudC5faW5kZXggIT09IC0xKVxuICAgICAgcmV0dXJuIHNlZ21lbnQuX2luZGV4O1xuICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBzZWdtZW50OiR7SlNPTi5zdHJpbmdpZnkoc2VnbWVudCl9YCk7XG4gIH0pO1xufVxuZnVuY3Rpb24ganNvblBhdGhUb01hcHBpbmdQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGgubWFwKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHNlZ21lbnQgPT0gXCJudW1iZXJcIilcbiAgICAgIHJldHVybiBzZWdtZW50O1xuICAgIGlmIChzZWdtZW50Ll9pbmRleCAhPT0gLTEpXG4gICAgICByZXR1cm4gc2VnbWVudC5faW5kZXg7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHNlZ21lbnQ6JHtKU09OLnN0cmluZ2lmeShzZWdtZW50KX1gKTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZXNvbHZlTWFwcGluZyhyZXN1bHRQYXRoLCBjc20pIHtcbiAgaWYgKCFjc20/Lm1hcHBpbmdzKVxuICAgIHJldHVybjtcbiAgY29uc3QgcmVzdWx0TWFwcGluZ1BhdGggPSBqc29uUGF0aChqc29uUGF0aFRvTWFwcGluZ1BhdGgocmVzdWx0UGF0aCkpO1xuICBpZiAoY3NtLm1hcHBpbmdzW3Jlc3VsdE1hcHBpbmdQYXRoXSAhPT0gdm9pZCAwKVxuICAgIHJldHVybiB7XG4gICAgICBtYXBwaW5nOiBjc20ubWFwcGluZ3NbcmVzdWx0TWFwcGluZ1BhdGhdLFxuICAgICAgbWF0Y2hlZFBhdGg6IHJlc3VsdE1hcHBpbmdQYXRoLFxuICAgICAgcGF0aFN1ZmZpeDogXCJcIlxuICAgIH07XG4gIGNvbnN0IG1hcHBpbmdzID0gT2JqZWN0LmVudHJpZXMoY3NtLm1hcHBpbmdzKS5maWx0ZXIoKFtrZXldKSA9PiByZXN1bHRNYXBwaW5nUGF0aC5zdGFydHNXaXRoKGtleSkpLnNvcnQoKFtrZXkxXSwgW2tleTJdKSA9PiBrZXkyLmxlbmd0aCAtIGtleTEubGVuZ3RoKTtcbiAgaWYgKG1hcHBpbmdzLmxlbmd0aCA9PSAwKVxuICAgIHJldHVybjtcbiAgY29uc3QgW21hdGNoZWRQYXRoLCBtYXBwaW5nXSA9IG1hcHBpbmdzWzBdLCBwYXRoU3VmZml4ID0gcmVzdWx0TWFwcGluZ1BhdGguc3Vic3RyaW5nKG1hdGNoZWRQYXRoLmxlbmd0aCk7XG4gIHJldHVybiB7IG1hcHBpbmcsIG1hdGNoZWRQYXRoLCBwYXRoU3VmZml4IH07XG59XG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHdhbGtNYXAodmFsdWUsIG1hcHBpbmdGbiwgcGF0aCA9IFtdKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSlcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2LCBpZHgpID0+IHtcbiAgICAgIGlmIChpc1JlY29yZCh2KSkge1xuICAgICAgICBjb25zdCBfa2V5ID0gdi5fa2V5O1xuICAgICAgICBpZiAodHlwZW9mIF9rZXkgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICByZXR1cm4gd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KHsgX2tleSwgX2luZGV4OiBpZHggfSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdhbGtNYXAodiwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChpZHgpKTtcbiAgICB9KTtcbiAgaWYgKGlzUmVjb3JkKHZhbHVlKSkge1xuICAgIGlmICh2YWx1ZS5fdHlwZSA9PT0gXCJibG9ja1wiIHx8IHZhbHVlLl90eXBlID09PSBcInNwYW5cIikge1xuICAgICAgY29uc3QgcmVzdWx0ID0geyAuLi52YWx1ZSB9O1xuICAgICAgcmV0dXJuIHZhbHVlLl90eXBlID09PSBcImJsb2NrXCIgPyByZXN1bHQuY2hpbGRyZW4gPSB3YWxrTWFwKHZhbHVlLmNoaWxkcmVuLCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KFwiY2hpbGRyZW5cIikpIDogdmFsdWUuX3R5cGUgPT09IFwic3BhblwiICYmIChyZXN1bHQudGV4dCA9IHdhbGtNYXAodmFsdWUudGV4dCwgbWFwcGluZ0ZuLCBwYXRoLmNvbmNhdChcInRleHRcIikpKSwgcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW2ssIHZdKSA9PiBbaywgd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KGspKV0pXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbWFwcGluZ0ZuKHZhbHVlLCBwYXRoKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUludG9SZXN1bHQocmVzdWx0LCBjc20sIGVuY29kZXIpIHtcbiAgcmV0dXJuIHdhbGtNYXAocmVzdWx0LCAodmFsdWUsIHBhdGgpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9IFwic3RyaW5nXCIpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgcmVzb2x2ZU1hcHBpbmdSZXN1bHQgPSByZXNvbHZlTWFwcGluZyhwYXRoLCBjc20pO1xuICAgIGlmICghcmVzb2x2ZU1hcHBpbmdSZXN1bHQpXG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgY29uc3QgeyBtYXBwaW5nLCBtYXRjaGVkUGF0aCB9ID0gcmVzb2x2ZU1hcHBpbmdSZXN1bHQ7XG4gICAgaWYgKG1hcHBpbmcudHlwZSAhPT0gXCJ2YWx1ZVwiIHx8IG1hcHBpbmcuc291cmNlLnR5cGUgIT09IFwiZG9jdW1lbnRWYWx1ZVwiKVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIGNvbnN0IHNvdXJjZURvY3VtZW50ID0gY3NtLmRvY3VtZW50c1ttYXBwaW5nLnNvdXJjZS5kb2N1bWVudF0sIHNvdXJjZVBhdGggPSBjc20ucGF0aHNbbWFwcGluZy5zb3VyY2UucGF0aF0sIG1hdGNoUGF0aFNlZ21lbnRzID0gcGFyc2VKc29uUGF0aChtYXRjaGVkUGF0aCksIGZ1bGxTb3VyY2VTZWdtZW50cyA9IHBhcnNlSnNvblBhdGgoc291cmNlUGF0aCkuY29uY2F0KHBhdGguc2xpY2UobWF0Y2hQYXRoU2VnbWVudHMubGVuZ3RoKSk7XG4gICAgcmV0dXJuIGVuY29kZXIoe1xuICAgICAgc291cmNlUGF0aDogZnVsbFNvdXJjZVNlZ21lbnRzLFxuICAgICAgc291cmNlRG9jdW1lbnQsXG4gICAgICByZXN1bHRQYXRoOiBwYXRoLFxuICAgICAgdmFsdWVcbiAgICB9KTtcbiAgfSk7XG59XG5jb25zdCBEUkFGVFNfRk9MREVSID0gXCJkcmFmdHNcIiwgVkVSU0lPTl9GT0xERVIgPSBcInZlcnNpb25zXCIsIFBBVEhfU0VQQVJBVE9SID0gXCIuXCIsIERSQUZUU19QUkVGSVggPSBgJHtEUkFGVFNfRk9MREVSfSR7UEFUSF9TRVBBUkFUT1J9YCwgVkVSU0lPTl9QUkVGSVggPSBgJHtWRVJTSU9OX0ZPTERFUn0ke1BBVEhfU0VQQVJBVE9SfWA7XG5mdW5jdGlvbiBpc0RyYWZ0SWQoaWQpIHtcbiAgcmV0dXJuIGlkLnN0YXJ0c1dpdGgoRFJBRlRTX1BSRUZJWCk7XG59XG5mdW5jdGlvbiBpc1ZlcnNpb25JZChpZCkge1xuICByZXR1cm4gaWQuc3RhcnRzV2l0aChWRVJTSU9OX1BSRUZJWCk7XG59XG5mdW5jdGlvbiBpc1B1Ymxpc2hlZElkKGlkKSB7XG4gIHJldHVybiAhaXNEcmFmdElkKGlkKSAmJiAhaXNWZXJzaW9uSWQoaWQpO1xufVxuZnVuY3Rpb24gZ2V0VmVyc2lvbkZyb21JZChpZCkge1xuICBpZiAoIWlzVmVyc2lvbklkKGlkKSkgcmV0dXJuO1xuICBjb25zdCBbX3ZlcnNpb25QcmVmaXgsIHZlcnNpb25JZCwgLi4uX3B1Ymxpc2hlZElkXSA9IGlkLnNwbGl0KFBBVEhfU0VQQVJBVE9SKTtcbiAgcmV0dXJuIHZlcnNpb25JZDtcbn1cbmZ1bmN0aW9uIGdldFB1Ymxpc2hlZElkKGlkKSB7XG4gIHJldHVybiBpc1ZlcnNpb25JZChpZCkgPyBpZC5zcGxpdChQQVRIX1NFUEFSQVRPUikuc2xpY2UoMikuam9pbihQQVRIX1NFUEFSQVRPUikgOiBpc0RyYWZ0SWQoaWQpID8gaWQuc2xpY2UoRFJBRlRTX1BSRUZJWC5sZW5ndGgpIDogaWQ7XG59XG5mdW5jdGlvbiBjcmVhdGVFZGl0VXJsKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIGJhc2VVcmwsXG4gICAgd29ya3NwYWNlOiBfd29ya3NwYWNlID0gXCJkZWZhdWx0XCIsXG4gICAgdG9vbDogX3Rvb2wgPSBcImRlZmF1bHRcIixcbiAgICBpZDogX2lkLFxuICAgIHR5cGUsXG4gICAgcGF0aCxcbiAgICBwcm9qZWN0SWQsXG4gICAgZGF0YXNldFxuICB9ID0gb3B0aW9ucztcbiAgaWYgKCFiYXNlVXJsKVxuICAgIHRocm93IG5ldyBFcnJvcihcImJhc2VVcmwgaXMgcmVxdWlyZWRcIik7XG4gIGlmICghcGF0aClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJwYXRoIGlzIHJlcXVpcmVkXCIpO1xuICBpZiAoIV9pZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpZCBpcyByZXF1aXJlZFwiKTtcbiAgaWYgKGJhc2VVcmwgIT09IFwiL1wiICYmIGJhc2VVcmwuZW5kc1dpdGgoXCIvXCIpKVxuICAgIHRocm93IG5ldyBFcnJvcihcImJhc2VVcmwgbXVzdCBub3QgZW5kIHdpdGggYSBzbGFzaFwiKTtcbiAgY29uc3Qgd29ya3NwYWNlID0gX3dvcmtzcGFjZSA9PT0gXCJkZWZhdWx0XCIgPyB2b2lkIDAgOiBfd29ya3NwYWNlLCB0b29sID0gX3Rvb2wgPT09IFwiZGVmYXVsdFwiID8gdm9pZCAwIDogX3Rvb2wsIGlkID0gZ2V0UHVibGlzaGVkSWQoX2lkKSwgc3RyaW5naWZpZWRQYXRoID0gQXJyYXkuaXNBcnJheShwYXRoKSA/IHRvU3RyaW5nKGpzb25QYXRoVG9TdHVkaW9QYXRoKHBhdGgpKSA6IHBhdGgsIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgIGJhc2VVcmwsXG4gICAgaWQsXG4gICAgdHlwZSxcbiAgICBwYXRoOiBzdHJpbmdpZmllZFBhdGhcbiAgfSk7XG4gIGlmICh3b3Jrc3BhY2UgJiYgc2VhcmNoUGFyYW1zLnNldChcIndvcmtzcGFjZVwiLCB3b3Jrc3BhY2UpLCB0b29sICYmIHNlYXJjaFBhcmFtcy5zZXQoXCJ0b29sXCIsIHRvb2wpLCBwcm9qZWN0SWQgJiYgc2VhcmNoUGFyYW1zLnNldChcInByb2plY3RJZFwiLCBwcm9qZWN0SWQpLCBkYXRhc2V0ICYmIHNlYXJjaFBhcmFtcy5zZXQoXCJkYXRhc2V0XCIsIGRhdGFzZXQpLCBpc1B1Ymxpc2hlZElkKF9pZCkpXG4gICAgc2VhcmNoUGFyYW1zLnNldChcInBlcnNwZWN0aXZlXCIsIFwicHVibGlzaGVkXCIpO1xuICBlbHNlIGlmIChpc1ZlcnNpb25JZChfaWQpKSB7XG4gICAgY29uc3QgdmVyc2lvbklkID0gZ2V0VmVyc2lvbkZyb21JZChfaWQpO1xuICAgIHNlYXJjaFBhcmFtcy5zZXQoXCJwZXJzcGVjdGl2ZVwiLCB2ZXJzaW9uSWQpO1xuICB9XG4gIGNvbnN0IHNlZ21lbnRzID0gW2Jhc2VVcmwgPT09IFwiL1wiID8gXCJcIiA6IGJhc2VVcmxdO1xuICB3b3Jrc3BhY2UgJiYgc2VnbWVudHMucHVzaCh3b3Jrc3BhY2UpO1xuICBjb25zdCByb3V0ZXJQYXJhbXMgPSBbXG4gICAgXCJtb2RlPXByZXNlbnRhdGlvblwiLFxuICAgIGBpZD0ke2lkfWAsXG4gICAgYHR5cGU9JHt0eXBlfWAsXG4gICAgYHBhdGg9JHtlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZpZWRQYXRoKX1gXG4gIF07XG4gIHJldHVybiB0b29sICYmIHJvdXRlclBhcmFtcy5wdXNoKGB0b29sPSR7dG9vbH1gKSwgc2VnbWVudHMucHVzaChcImludGVudFwiLCBcImVkaXRcIiwgYCR7cm91dGVyUGFyYW1zLmpvaW4oXCI7XCIpfT8ke3NlYXJjaFBhcmFtc31gKSwgc2VnbWVudHMuam9pbihcIi9cIik7XG59XG5mdW5jdGlvbiByZXNvbHZlU3R1ZGlvQmFzZVJvdXRlKHN0dWRpb1VybCkge1xuICBsZXQgYmFzZVVybCA9IHR5cGVvZiBzdHVkaW9VcmwgPT0gXCJzdHJpbmdcIiA/IHN0dWRpb1VybCA6IHN0dWRpb1VybC5iYXNlVXJsO1xuICByZXR1cm4gYmFzZVVybCAhPT0gXCIvXCIgJiYgKGJhc2VVcmwgPSBiYXNlVXJsLnJlcGxhY2UoL1xcLyQvLCBcIlwiKSksIHR5cGVvZiBzdHVkaW9VcmwgPT0gXCJzdHJpbmdcIiA/IHsgYmFzZVVybCB9IDogeyAuLi5zdHVkaW9VcmwsIGJhc2VVcmwgfTtcbn1cbmNvbnN0IGZpbHRlckRlZmF1bHQgPSAoeyBzb3VyY2VQYXRoLCByZXN1bHRQYXRoLCB2YWx1ZSB9KSA9PiB7XG4gIGlmIChpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNWYWxpZFVSTCh2YWx1ZSkpXG4gICAgcmV0dXJuICExO1xuICBjb25zdCBlbmRQYXRoID0gc291cmNlUGF0aC5hdCgtMSk7XG4gIHJldHVybiAhKHNvdXJjZVBhdGguYXQoLTIpID09PSBcInNsdWdcIiAmJiBlbmRQYXRoID09PSBcImN1cnJlbnRcIiB8fCB0eXBlb2YgZW5kUGF0aCA9PSBcInN0cmluZ1wiICYmIChlbmRQYXRoLnN0YXJ0c1dpdGgoXCJfXCIpIHx8IGVuZFBhdGguZW5kc1dpdGgoXCJJZFwiKSkgfHwgc291cmNlUGF0aC5zb21lKFxuICAgIChwYXRoKSA9PiBwYXRoID09PSBcIm1ldGFcIiB8fCBwYXRoID09PSBcIm1ldGFkYXRhXCIgfHwgcGF0aCA9PT0gXCJvcGVuR3JhcGhcIiB8fCBwYXRoID09PSBcInNlb1wiXG4gICkgfHwgaGFzVHlwZUxpa2Uoc291cmNlUGF0aCkgfHwgaGFzVHlwZUxpa2UocmVzdWx0UGF0aCkgfHwgdHlwZW9mIGVuZFBhdGggPT0gXCJzdHJpbmdcIiAmJiBkZW55bGlzdC5oYXMoZW5kUGF0aCkpO1xufSwgZGVueWxpc3QgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwiY29sb3JcIixcbiAgXCJjb2xvdXJcIixcbiAgXCJjdXJyZW5jeVwiLFxuICBcImVtYWlsXCIsXG4gIFwiZm9ybWF0XCIsXG4gIFwiZ2lkXCIsXG4gIFwiaGV4XCIsXG4gIFwiaHJlZlwiLFxuICBcImhzbFwiLFxuICBcImhzbGFcIixcbiAgXCJpY29uXCIsXG4gIFwiaWRcIixcbiAgXCJpbmRleFwiLFxuICBcImtleVwiLFxuICBcImxhbmd1YWdlXCIsXG4gIFwibGF5b3V0XCIsXG4gIFwibGlua1wiLFxuICBcImxpbmtBY3Rpb25cIixcbiAgXCJsb2NhbGVcIixcbiAgXCJscWlwXCIsXG4gIFwicGFnZVwiLFxuICBcInBhdGhcIixcbiAgXCJyZWZcIixcbiAgXCJyZ2JcIixcbiAgXCJyZ2JhXCIsXG4gIFwicm91dGVcIixcbiAgXCJzZWNyZXRcIixcbiAgXCJzbHVnXCIsXG4gIFwic3RhdHVzXCIsXG4gIFwidGFnXCIsXG4gIFwidGVtcGxhdGVcIixcbiAgXCJ0aGVtZVwiLFxuICBcInR5cGVcIixcbiAgXCJ0ZXh0VGhlbWVcIixcbiAgXCJ1bml0XCIsXG4gIFwidXJsXCIsXG4gIFwidXNlcm5hbWVcIixcbiAgXCJ2YXJpYW50XCIsXG4gIFwid2Vic2l0ZVwiXG5dKTtcbmZ1bmN0aW9uIGlzVmFsaWREYXRlKGRhdGVTdHJpbmcpIHtcbiAgcmV0dXJuIC9eXFxkezR9LVxcZHsyfS1cXGR7Mn0vLnRlc3QoZGF0ZVN0cmluZykgPyAhIURhdGUucGFyc2UoZGF0ZVN0cmluZykgOiAhMTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRVUkwodXJsKSB7XG4gIHRyeSB7XG4gICAgbmV3IFVSTCh1cmwsIHVybC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiaHR0cHM6Ly9hY21lLmNvbVwiIDogdm9pZCAwKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHJldHVybiAhMDtcbn1cbmZ1bmN0aW9uIGhhc1R5cGVMaWtlKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguc29tZSgoc2VnbWVudCkgPT4gdHlwZW9mIHNlZ21lbnQgPT0gXCJzdHJpbmdcIiAmJiBzZWdtZW50Lm1hdGNoKC90eXBlL2kpICE9PSBudWxsKTtcbn1cbmNvbnN0IFRSVU5DQVRFX0xFTkdUSCA9IDIwO1xuZnVuY3Rpb24gc3RlZ2FFbmNvZGVTb3VyY2VNYXAocmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIGNvbmZpZykge1xuICBjb25zdCB7IGZpbHRlciwgbG9nZ2VyLCBlbmFibGVkIH0gPSBjb25maWc7XG4gIGlmICghZW5hYmxlZCkge1xuICAgIGNvbnN0IG1zZyA9IFwiY29uZmlnLmVuYWJsZWQgbXVzdCBiZSB0cnVlLCBkb24ndCBjYWxsIHRoaXMgZnVuY3Rpb24gb3RoZXJ3aXNlXCI7XG4gICAgdGhyb3cgbG9nZ2VyPy5lcnJvcj8uKGBbQHNhbml0eS9jbGllbnRdOiAke21zZ31gLCB7IHJlc3VsdCwgcmVzdWx0U291cmNlTWFwLCBjb25maWcgfSksIG5ldyBUeXBlRXJyb3IobXNnKTtcbiAgfVxuICBpZiAoIXJlc3VsdFNvdXJjZU1hcClcbiAgICByZXR1cm4gbG9nZ2VyPy5lcnJvcj8uKFwiW0BzYW5pdHkvY2xpZW50XTogTWlzc2luZyBDb250ZW50IFNvdXJjZSBNYXAgZnJvbSByZXNwb25zZSBib2R5XCIsIHtcbiAgICAgIHJlc3VsdCxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgIGNvbmZpZ1xuICAgIH0pLCByZXN1bHQ7XG4gIGlmICghY29uZmlnLnN0dWRpb1VybCkge1xuICAgIGNvbnN0IG1zZyA9IFwiY29uZmlnLnN0dWRpb1VybCBtdXN0IGJlIGRlZmluZWRcIjtcbiAgICB0aHJvdyBsb2dnZXI/LmVycm9yPy4oYFtAc2FuaXR5L2NsaWVudF06ICR7bXNnfWAsIHsgcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIGNvbmZpZyB9KSwgbmV3IFR5cGVFcnJvcihtc2cpO1xuICB9XG4gIGNvbnN0IHJlcG9ydCA9IHtcbiAgICBlbmNvZGVkOiBbXSxcbiAgICBza2lwcGVkOiBbXVxuICB9LCByZXN1bHRXaXRoU3RlZ2EgPSBlbmNvZGVJbnRvUmVzdWx0KFxuICAgIHJlc3VsdCxcbiAgICByZXN1bHRTb3VyY2VNYXAsXG4gICAgKHsgc291cmNlUGF0aCwgc291cmNlRG9jdW1lbnQsIHJlc3VsdFBhdGgsIHZhbHVlIH0pID0+IHtcbiAgICAgIGlmICgodHlwZW9mIGZpbHRlciA9PSBcImZ1bmN0aW9uXCIgPyBmaWx0ZXIoeyBzb3VyY2VQYXRoLCByZXN1bHRQYXRoLCBmaWx0ZXJEZWZhdWx0LCBzb3VyY2VEb2N1bWVudCwgdmFsdWUgfSkgOiBmaWx0ZXJEZWZhdWx0KHsgc291cmNlUGF0aCwgcmVzdWx0UGF0aCwgdmFsdWUgfSkpID09PSAhMSlcbiAgICAgICAgcmV0dXJuIGxvZ2dlciAmJiByZXBvcnQuc2tpcHBlZC5wdXNoKHtcbiAgICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgICB2YWx1ZTogYCR7dmFsdWUuc2xpY2UoMCwgVFJVTkNBVEVfTEVOR1RIKX0ke3ZhbHVlLmxlbmd0aCA+IFRSVU5DQVRFX0xFTkdUSCA/IFwiLi4uXCIgOiBcIlwifWAsXG4gICAgICAgICAgbGVuZ3RoOiB2YWx1ZS5sZW5ndGhcbiAgICAgICAgfSksIHZhbHVlO1xuICAgICAgbG9nZ2VyICYmIHJlcG9ydC5lbmNvZGVkLnB1c2goe1xuICAgICAgICBwYXRoOiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhzb3VyY2VQYXRoKSxcbiAgICAgICAgdmFsdWU6IGAke3ZhbHVlLnNsaWNlKDAsIFRSVU5DQVRFX0xFTkdUSCl9JHt2YWx1ZS5sZW5ndGggPiBUUlVOQ0FURV9MRU5HVEggPyBcIi4uLlwiIDogXCJcIn1gLFxuICAgICAgICBsZW5ndGg6IHZhbHVlLmxlbmd0aFxuICAgICAgfSk7XG4gICAgICBjb25zdCB7IGJhc2VVcmwsIHdvcmtzcGFjZSwgdG9vbCB9ID0gcmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZShcbiAgICAgICAgdHlwZW9mIGNvbmZpZy5zdHVkaW9VcmwgPT0gXCJmdW5jdGlvblwiID8gY29uZmlnLnN0dWRpb1VybChzb3VyY2VEb2N1bWVudCkgOiBjb25maWcuc3R1ZGlvVXJsXG4gICAgICApO1xuICAgICAgaWYgKCFiYXNlVXJsKSByZXR1cm4gdmFsdWU7XG4gICAgICBjb25zdCB7IF9pZDogaWQsIF90eXBlOiB0eXBlLCBfcHJvamVjdElkOiBwcm9qZWN0SWQsIF9kYXRhc2V0OiBkYXRhc2V0IH0gPSBzb3VyY2VEb2N1bWVudDtcbiAgICAgIHJldHVybiBDKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAge1xuICAgICAgICAgIG9yaWdpbjogXCJzYW5pdHkuaW9cIixcbiAgICAgICAgICBocmVmOiBjcmVhdGVFZGl0VXJsKHtcbiAgICAgICAgICAgIGJhc2VVcmwsXG4gICAgICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgICAgICB0b29sLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcGF0aDogc291cmNlUGF0aCxcbiAgICAgICAgICAgIC4uLiFjb25maWcub21pdENyb3NzRGF0YXNldFJlZmVyZW5jZURhdGEgJiYgeyBkYXRhc2V0LCBwcm9qZWN0SWQgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFdlIHVzZSBjdXN0b20gbG9naWMgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBza2lwIGVuY29kaW5nXG4gICAgICAgICExXG4gICAgICApO1xuICAgIH1cbiAgKTtcbiAgaWYgKGxvZ2dlcikge1xuICAgIGNvbnN0IGlzU2tpcHBpbmcgPSByZXBvcnQuc2tpcHBlZC5sZW5ndGgsIGlzRW5jb2RpbmcgPSByZXBvcnQuZW5jb2RlZC5sZW5ndGg7XG4gICAgaWYgKChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpICYmICgobG9nZ2VyPy5ncm91cENvbGxhcHNlZCB8fCBsb2dnZXIubG9nKT8uKFwiW0BzYW5pdHkvY2xpZW50XTogRW5jb2Rpbmcgc291cmNlIG1hcCBpbnRvIHJlc3VsdFwiKSwgbG9nZ2VyLmxvZz8uKFxuICAgICAgYFtAc2FuaXR5L2NsaWVudF06IFBhdGhzIGVuY29kZWQ6ICR7cmVwb3J0LmVuY29kZWQubGVuZ3RofSwgc2tpcHBlZDogJHtyZXBvcnQuc2tpcHBlZC5sZW5ndGh9YFxuICAgICkpLCByZXBvcnQuZW5jb2RlZC5sZW5ndGggPiAwICYmIChsb2dnZXI/LmxvZz8uKFwiW0BzYW5pdHkvY2xpZW50XTogVGFibGUgb2YgZW5jb2RlZCBwYXRoc1wiKSwgKGxvZ2dlcj8udGFibGUgfHwgbG9nZ2VyLmxvZyk/LihyZXBvcnQuZW5jb2RlZCkpLCByZXBvcnQuc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBza2lwcGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGZvciAoY29uc3QgeyBwYXRoIH0gb2YgcmVwb3J0LnNraXBwZWQpXG4gICAgICAgIHNraXBwZWQuYWRkKHBhdGgucmVwbGFjZShyZUtleVNlZ21lbnQsIFwiMFwiKS5yZXBsYWNlKC9cXFtcXGQrXFxdL2csIFwiW11cIikpO1xuICAgICAgbG9nZ2VyPy5sb2c/LihcIltAc2FuaXR5L2NsaWVudF06IExpc3Qgb2Ygc2tpcHBlZCBwYXRoc1wiLCBbLi4uc2tpcHBlZC52YWx1ZXMoKV0pO1xuICAgIH1cbiAgICAoaXNTa2lwcGluZyB8fCBpc0VuY29kaW5nKSAmJiBsb2dnZXI/Lmdyb3VwRW5kPy4oKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0V2l0aFN0ZWdhO1xufVxuZnVuY3Rpb24gcHJldHR5UGF0aEZvckxvZ2dpbmcocGF0aCkge1xuICByZXR1cm4gdG9TdHJpbmcoanNvblBhdGhUb1N0dWRpb1BhdGgocGF0aCkpO1xufVxudmFyIHN0ZWdhRW5jb2RlU291cmNlTWFwJDEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgc3RlZ2FFbmNvZGVTb3VyY2VNYXBcbn0pO1xuZXhwb3J0IHtcbiAgZW5jb2RlSW50b1Jlc3VsdCxcbiAgc3RlZ2FFbmNvZGVTb3VyY2VNYXAsXG4gIHN0ZWdhRW5jb2RlU291cmNlTWFwJDFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGVnYUVuY29kZVNvdXJjZU1hcC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJDIiwicmVLZXlTZWdtZW50IiwiaXNLZXlTZWdtZW50Iiwic2VnbWVudCIsInRlc3QiLCJ0cmltIiwidG9TdHJpbmciLCJwYXRoIiwiQXJyYXkiLCJpc0FycmF5IiwiRXJyb3IiLCJyZWR1Y2UiLCJ0YXJnZXQiLCJpIiwic2VnbWVudFR5cGUiLCJfa2V5IiwiZnJvbSIsInRvIiwiSlNPTiIsInN0cmluZ2lmeSIsIkVTQ0FQRSIsIlVORVNDQVBFIiwianNvblBhdGgiLCJtYXAiLCJyZXBsYWNlIiwibWF0Y2giLCJfaW5kZXgiLCJqb2luIiwicGFyc2VKc29uUGF0aCIsInBhcnNlZCIsInBhcnNlUmUiLCJleGVjIiwia2V5IiwibSIsInB1c2giLCJwYXJzZUludCIsImpzb25QYXRoVG9TdHVkaW9QYXRoIiwianNvblBhdGhUb01hcHBpbmdQYXRoIiwicmVzb2x2ZU1hcHBpbmciLCJyZXN1bHRQYXRoIiwiY3NtIiwibWFwcGluZ3MiLCJyZXN1bHRNYXBwaW5nUGF0aCIsIm1hcHBpbmciLCJtYXRjaGVkUGF0aCIsInBhdGhTdWZmaXgiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsInNvcnQiLCJrZXkxIiwia2V5MiIsImxlbmd0aCIsInN1YnN0cmluZyIsInZhbHVlIiwiaXNSZWNvcmQiLCJ3YWxrTWFwIiwibWFwcGluZ0ZuIiwidiIsImlkeCIsImNvbmNhdCIsIl90eXBlIiwicmVzdWx0IiwiY2hpbGRyZW4iLCJ0ZXh0IiwiZnJvbUVudHJpZXMiLCJrIiwiZW5jb2RlSW50b1Jlc3VsdCIsImVuY29kZXIiLCJyZXNvbHZlTWFwcGluZ1Jlc3VsdCIsInR5cGUiLCJzb3VyY2UiLCJzb3VyY2VEb2N1bWVudCIsImRvY3VtZW50cyIsImRvY3VtZW50Iiwic291cmNlUGF0aCIsInBhdGhzIiwibWF0Y2hQYXRoU2VnbWVudHMiLCJmdWxsU291cmNlU2VnbWVudHMiLCJzbGljZSIsIkRSQUZUU19GT0xERVIiLCJWRVJTSU9OX0ZPTERFUiIsIlBBVEhfU0VQQVJBVE9SIiwiRFJBRlRTX1BSRUZJWCIsIlZFUlNJT05fUFJFRklYIiwiaXNEcmFmdElkIiwiaWQiLCJpc1ZlcnNpb25JZCIsImlzUHVibGlzaGVkSWQiLCJnZXRWZXJzaW9uRnJvbUlkIiwiX3ZlcnNpb25QcmVmaXgiLCJ2ZXJzaW9uSWQiLCJfcHVibGlzaGVkSWQiLCJzcGxpdCIsImdldFB1Ymxpc2hlZElkIiwiY3JlYXRlRWRpdFVybCIsIm9wdGlvbnMiLCJiYXNlVXJsIiwid29ya3NwYWNlIiwiX3dvcmtzcGFjZSIsInRvb2wiLCJfdG9vbCIsIl9pZCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJlbmRzV2l0aCIsInN0cmluZ2lmaWVkUGF0aCIsInNlYXJjaFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInNldCIsInNlZ21lbnRzIiwicm91dGVyUGFyYW1zIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZSIsInN0dWRpb1VybCIsImZpbHRlckRlZmF1bHQiLCJpc1ZhbGlkRGF0ZSIsImlzVmFsaWRVUkwiLCJlbmRQYXRoIiwiYXQiLCJzb21lIiwiaGFzVHlwZUxpa2UiLCJkZW55bGlzdCIsImhhcyIsIlNldCIsImRhdGVTdHJpbmciLCJEYXRlIiwicGFyc2UiLCJ1cmwiLCJVUkwiLCJUUlVOQ0FURV9MRU5HVEgiLCJzdGVnYUVuY29kZVNvdXJjZU1hcCIsInJlc3VsdFNvdXJjZU1hcCIsImNvbmZpZyIsImxvZ2dlciIsImVuYWJsZWQiLCJtc2ciLCJlcnJvciIsIlR5cGVFcnJvciIsInJlcG9ydCIsImVuY29kZWQiLCJza2lwcGVkIiwicmVzdWx0V2l0aFN0ZWdhIiwicHJldHR5UGF0aEZvckxvZ2dpbmciLCJfcHJvamVjdElkIiwiX2RhdGFzZXQiLCJvcmlnaW4iLCJocmVmIiwib21pdENyb3NzRGF0YXNldFJlZmVyZW5jZURhdGEiLCJpc1NraXBwaW5nIiwiaXNFbmNvZGluZyIsImdyb3VwQ29sbGFwc2VkIiwibG9nIiwidGFibGUiLCJhZGQiLCJ2YWx1ZXMiLCJncm91cEVuZCIsInN0ZWdhRW5jb2RlU291cmNlTWFwJDEiLCJmcmVlemUiLCJfX3Byb3RvX18iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js\n");

/***/ }),

/***/ "(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/index.browser.js":
/*!********************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/index.browser.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ChannelError: () => (/* binding */ ChannelError),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ConnectionFailedError: () => (/* binding */ ConnectionFailedError),\n/* harmony export */   CorsOriginError: () => (/* binding */ CorsOriginError),\n/* harmony export */   DisconnectError: () => (/* binding */ DisconnectError),\n/* harmony export */   MessageError: () => (/* binding */ MessageError),\n/* harmony export */   MessageParseError: () => (/* binding */ MessageParseError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   connectEventSource: () => (/* binding */ connectEventSource),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (/* binding */ deprecatedCreateClient),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_0__.adapter),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_0__.environment),\n/* harmony export */   validateApiPerspective: () => (/* binding */ validateApiPerspective)\n/* harmony export */ });\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-it */ \"(rsc)/../../node_modules/.pnpm/get-it@8.6.10_debug@4.4.3/node_modules/get-it/dist/index.react-server.js\");\n/* harmony import */ var get_it_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it/middleware */ \"(rsc)/../../node_modules/.pnpm/get-it@8.6.10_debug@4.4.3/node_modules/get-it/dist/middleware.browser.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/defer.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/util/isObservable.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/catchError.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/concat.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/timer.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/throwError.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/tap.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/finalize.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/share.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=EMPTY,Observable,catchError,concat,defer,finalize,from,isObservable,lastValueFrom,merge,mergeMap,of,share,shareReplay,tap,throwError,timer!=!rxjs */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/empty.js\");\n/* harmony import */ var _chunks_es_stegaClean_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./_chunks-es/stegaClean.js */ \"(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaClean.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ \"(rsc)/../../node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/cjs/operators/index.js\");\n\n\n\n\n\n\nclass ClientError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        var _temp;\n        _temp = super(props.message), this.statusCode = 400, _temp, Object.assign(this, props);\n    }\n}\nclass ServerError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        var _temp;\n        _temp = super(props.message), this.statusCode = 500, _temp, Object.assign(this, props);\n    }\n}\nfunction extractErrorProps(res) {\n    const body = res.body, props = {\n        response: res,\n        statusCode: res.statusCode,\n        responseBody: stringifyBody(body, res),\n        message: \"\",\n        details: void 0\n    };\n    if (body.error && body.message) return props.message = `${body.error} - ${body.message}`, props;\n    if (isMutationError(body) || isActionError(body)) {\n        const allItems = body.error.items || [], items = allItems.slice(0, 5).map((item)=>item.error?.description).filter(Boolean);\n        let itemsStr = items.length ? `:\n- ${items.join(`\n- `)}` : \"\";\n        return allItems.length > 5 && (itemsStr += `\n...and ${allItems.length - 5} more`), props.message = `${body.error.description}${itemsStr}`, props.details = body.error, props;\n    }\n    return body.error && body.error.description ? (props.message = body.error.description, props.details = body.error, props) : (props.message = body.error || body.message || httpErrorMessage(res), props);\n}\nfunction isMutationError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description == \"string\";\n}\nfunction isActionError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"actionError\" && typeof body.error.description == \"string\";\n}\nfunction isPlainObject(obj) {\n    return typeof obj == \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n    const statusMessage = res.statusMessage ? ` ${res.statusMessage}` : \"\";\n    return `${res.method}-request to ${res.url} resulted in HTTP ${res.statusCode}${statusMessage}`;\n}\nfunction stringifyBody(body, res) {\n    return (res.headers[\"content-type\"] || \"\").toLowerCase().indexOf(\"application/json\") !== -1 ? JSON.stringify(body, null, 2) : body;\n}\nclass CorsOriginError extends Error {\n    constructor({ projectId: projectId2 }){\n        super(\"CorsOriginError\"), this.name = \"CorsOriginError\", this.projectId = projectId2;\n        const url = new URL(`https://sanity.io/manage/project/${projectId2}/api`);\n        if (typeof location < \"u\") {\n            const { origin } = location;\n            url.searchParams.set(\"cors\", \"add\"), url.searchParams.set(\"origin\", origin), this.addOriginUrl = url, this.message = `The current origin is not allowed to connect to the Live Content API. Add it here: ${url}`;\n        } else this.message = `The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${url}`;\n    }\n}\nconst httpError = {\n    onResponse: (res)=>{\n        if (res.statusCode >= 500) throw new ServerError(res);\n        if (res.statusCode >= 400) throw new ClientError(res);\n        return res;\n    }\n};\nfunction printWarnings() {\n    const seen = {};\n    return {\n        onResponse: (res)=>{\n            const warn = res.headers[\"x-sanity-warning\"], warnings = Array.isArray(warn) ? warn : [\n                warn\n            ];\n            for (const msg of warnings)!msg || seen[msg] || (seen[msg] = !0, console.warn(msg));\n            return res;\n        }\n    };\n}\nfunction defineHttpRequest(envMiddleware2) {\n    return (0,get_it__WEBPACK_IMPORTED_MODULE_0__.getIt)([\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry)({\n            shouldRetry\n        }),\n        ...envMiddleware2,\n        printWarnings(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonRequest)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonResponse)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.progress)(),\n        httpError,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.observable)({\n            implementation: _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable\n        })\n    ]);\n}\nfunction shouldRetry(err, attempt, options) {\n    if (options.maxRetries === 0) return !1;\n    const isSafe = options.method === \"GET\" || options.method === \"HEAD\", isQuery2 = (options.uri || options.url).startsWith(\"/data/query\"), isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n    return (isSafe || isQuery2) && isRetriableResponse ? !0 : get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry.shouldRetry(err, attempt, options);\n}\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n    return BASE_URL + slug;\n}\nconst VALID_ASSET_TYPES = [\n    \"image\",\n    \"file\"\n], VALID_INSERT_LOCATIONS = [\n    \"before\",\n    \"after\",\n    \"replace\"\n], dataset = (name)=>{\n    if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n}, projectId = (id)=>{\n    if (!/^[-a-z0-9]+$/i.test(id)) throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n}, validateAssetType = (type)=>{\n    if (VALID_ASSET_TYPES.indexOf(type) === -1) throw new Error(`Invalid asset type: ${type}. Must be one of ${VALID_ASSET_TYPES.join(\", \")}`);\n}, validateObject = (op, val)=>{\n    if (val === null || typeof val != \"object\" || Array.isArray(val)) throw new Error(`${op}() takes an object of properties`);\n}, validateDocumentId = (op, id)=>{\n    if (typeof id != \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\")) throw new Error(`${op}(): \"${id}\" is not a valid document ID`);\n}, requireDocumentId = (op, doc)=>{\n    if (!doc._id) throw new Error(`${op}() requires that the document contains an ID (\"_id\" property)`);\n    validateDocumentId(op, doc._id);\n}, validateInsert = (at, selector, items)=>{\n    const signature = \"insert(at, selector, items)\";\n    if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n        const valid = VALID_INSERT_LOCATIONS.map((loc)=>`\"${loc}\"`).join(\", \");\n        throw new Error(`${signature} takes an \"at\"-argument which is one of: ${valid}`);\n    }\n    if (typeof selector != \"string\") throw new Error(`${signature} takes a \"selector\"-argument which must be a string`);\n    if (!Array.isArray(items)) throw new Error(`${signature} takes an \"items\"-argument which must be an array`);\n}, hasDataset = (config)=>{\n    if (!config.dataset) throw new Error(\"`dataset` must be provided to perform queries\");\n    return config.dataset || \"\";\n}, requestTag = (tag)=>{\n    if (typeof tag != \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n    return tag;\n}, resourceConfig = (config)=>{\n    if (!config[\"~experimental_resource\"]) throw new Error(\"`resource` must be provided to perform resource queries\");\n    const { type, id } = config[\"~experimental_resource\"];\n    switch(type){\n        case \"dataset\":\n            {\n                if (id.split(\".\").length !== 2) throw new Error('Dataset resource ID must be in the format \"project.dataset\"');\n                return;\n            }\n        case \"dashboard\":\n        case \"media-library\":\n        case \"canvas\":\n            return;\n        default:\n            throw new Error(`Unsupported resource type: ${type.toString()}`);\n    }\n}, resourceGuard = (service, config)=>{\n    if (config[\"~experimental_resource\"]) throw new Error(`\\`${service}\\` does not support resource-based operations`);\n};\nfunction once(fn) {\n    let didCall = !1, returnValue;\n    return (...args)=>(didCall || (returnValue = fn(...args), didCall = !0), returnValue);\n}\nconst createWarningPrinter = (message)=>// eslint-disable-next-line no-console\n    once((...args)=>console.warn(message.join(\" \"), ...args)), printCdnAndWithCredentialsWarning = createWarningPrinter([\n    \"Because you set `withCredentials` to true, we will override your `useCdn`\",\n    \"setting to be false since (cookie-based) credentials are never set on the CDN\"\n]), printCdnWarning = createWarningPrinter([\n    \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n    \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n    \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]), printCdnPreviewDraftsWarning = createWarningPrinter([\n    \"The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.\",\n    \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]), printPreviewDraftsDeprecationWarning = createWarningPrinter([\n    \"The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version\"\n]), printBrowserTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n    `See ${generateHelpUrl(\"js-client-browser-token\")} for more information and how to hide this warning.`\n]), printCredentialedTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token, but also provided `withCredentials: true`.\",\n    \"This is no longer supported - only token will be used - remove `withCredentials: true`.\"\n]), printNoApiVersionSpecifiedWarning = createWarningPrinter([\n    \"Using the Sanity client without specifying an API version is deprecated.\",\n    `See ${generateHelpUrl(\"js-client-api-version\")}`\n]), printNoDefaultExport = createWarningPrinter([\n    \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]), defaultCdnHost = \"apicdn.sanity.io\", defaultConfig = {\n    apiHost: \"https://api.sanity.io\",\n    apiVersion: \"1\",\n    useProjectHostname: !0,\n    stega: {\n        enabled: !1\n    }\n}, LOCALHOSTS = [\n    \"localhost\",\n    \"127.0.0.1\",\n    \"0.0.0.0\"\n], isLocal = (host)=>LOCALHOSTS.indexOf(host) !== -1;\nfunction validateApiVersion(apiVersion) {\n    if (apiVersion === \"1\" || apiVersion === \"X\") return;\n    const apiDate = new Date(apiVersion);\n    if (!(/^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0)) throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n}\nfunction validateApiPerspective(perspective) {\n    if (Array.isArray(perspective) && perspective.length > 1 && perspective.includes(\"raw\")) throw new TypeError('Invalid API perspective value: \"raw\". The raw-perspective can not be combined with other perspectives');\n}\nconst initConfig = (config, prevConfig)=>{\n    const specifiedConfig = {\n        ...prevConfig,\n        ...config,\n        stega: {\n            ...typeof prevConfig.stega == \"boolean\" ? {\n                enabled: prevConfig.stega\n            } : prevConfig.stega || defaultConfig.stega,\n            ...typeof config.stega == \"boolean\" ? {\n                enabled: config.stega\n            } : config.stega || {}\n        }\n    };\n    specifiedConfig.apiVersion || printNoApiVersionSpecifiedWarning();\n    const newConfig = {\n        ...defaultConfig,\n        ...specifiedConfig\n    }, projectBased = newConfig.useProjectHostname && !newConfig[\"~experimental_resource\"];\n    if (typeof Promise > \"u\") {\n        const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n        throw new Error(`No native Promise-implementation found, polyfill needed - see ${helpUrl}`);\n    }\n    if (projectBased && !newConfig.projectId) throw new Error(\"Configuration must contain `projectId`\");\n    if (newConfig[\"~experimental_resource\"] && resourceConfig(newConfig), typeof newConfig.perspective < \"u\" && validateApiPerspective(newConfig.perspective), \"encodeSourceMap\" in newConfig) throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?\");\n    if (\"encodeSourceMapAtPath\" in newConfig) throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?\");\n    if (typeof newConfig.stega.enabled != \"boolean\") throw new Error(`stega.enabled must be a boolean, received ${newConfig.stega.enabled}`);\n    if (newConfig.stega.enabled && newConfig.stega.studioUrl === void 0) throw new Error(\"stega.studioUrl must be defined when stega.enabled is true\");\n    if (newConfig.stega.enabled && typeof newConfig.stega.studioUrl != \"string\" && typeof newConfig.stega.studioUrl != \"function\") throw new Error(`stega.studioUrl must be a string or a function, received ${newConfig.stega.studioUrl}`);\n    const isBrowser =  false && 0, isLocalhost = isBrowser && isLocal(window.location.hostname), hasToken = !!newConfig.token;\n    newConfig.withCredentials && hasToken && (printCredentialedTokenWarning(), newConfig.withCredentials = !1), isBrowser && isLocalhost && hasToken && newConfig.ignoreBrowserTokenWarning !== !0 ? printBrowserTokenWarning() : typeof newConfig.useCdn > \"u\" && printCdnWarning(), projectBased && projectId(newConfig.projectId), newConfig.dataset && dataset(newConfig.dataset), \"requestTagPrefix\" in newConfig && (newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0), newConfig.apiVersion = `${newConfig.apiVersion}`.replace(/^v/, \"\"), newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost, newConfig.useCdn === !0 && newConfig.withCredentials && printCdnAndWithCredentialsWarning(), newConfig.useCdn = newConfig.useCdn !== !1 && !newConfig.withCredentials, validateApiVersion(newConfig.apiVersion);\n    const hostParts = newConfig.apiHost.split(\"://\", 2), protocol = hostParts[0], host = hostParts[1], cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n    return projectBased ? (newConfig.url = `${protocol}://${newConfig.projectId}.${host}/v${newConfig.apiVersion}`, newConfig.cdnUrl = `${protocol}://${newConfig.projectId}.${cdnHost}/v${newConfig.apiVersion}`) : (newConfig.url = `${newConfig.apiHost}/v${newConfig.apiVersion}`, newConfig.cdnUrl = newConfig.url), newConfig;\n};\nclass ConnectionFailedError extends Error {\n    constructor(...args){\n        super(...args);\n        this.name = \"ConnectionFailedError\";\n    }\n}\nclass DisconnectError extends Error {\n    constructor(message, reason, options = {}){\n        var _temp;\n        _temp = super(message, options), this.name = \"DisconnectError\", _temp, this.reason = reason;\n    }\n}\nclass ChannelError extends Error {\n    constructor(message, data){\n        var _temp;\n        _temp = super(message), this.name = \"ChannelError\", _temp, this.data = data;\n    }\n}\nclass MessageError extends Error {\n    constructor(message, data, options = {}){\n        var _temp;\n        _temp = super(message, options), this.name = \"MessageError\", _temp, this.data = data;\n    }\n}\nclass MessageParseError extends Error {\n    constructor(...args){\n        super(...args);\n        this.name = \"MessageParseError\";\n    }\n}\nconst REQUIRED_EVENTS = [\n    \"channelError\",\n    \"disconnect\"\n];\nfunction connectEventSource(initEventSource, events) {\n    return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_3__.defer)(()=>{\n        const es = initEventSource();\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_4__.isObservable)(es) ? es : (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(es);\n    }).pipe((0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_6__.mergeMap)((es)=>connectWithESInstance(es, events)));\n}\nfunction connectWithESInstance(es, events) {\n    return new _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n        const emitOpen = events.includes(\"open\"), emitReconnect = events.includes(\"reconnect\");\n        function onError(evt) {\n            if (\"data\" in evt) {\n                const [parseError, event] = parseEvent(evt);\n                observer.error(parseError ? new MessageParseError(\"Unable to parse EventSource error message\", {\n                    cause: event\n                }) : new MessageError((event?.data).message, event));\n                return;\n            }\n            es.readyState === es.CLOSED ? observer.error(new ConnectionFailedError(\"EventSource connection failed\")) : emitReconnect && observer.next({\n                type: \"reconnect\"\n            });\n        }\n        function onOpen() {\n            observer.next({\n                type: \"open\"\n            });\n        }\n        function onMessage(message) {\n            const [parseError, event] = parseEvent(message);\n            if (parseError) {\n                observer.error(new MessageParseError(\"Unable to parse EventSource message\", {\n                    cause: parseError\n                }));\n                return;\n            }\n            if (message.type === \"channelError\") {\n                observer.error(new ChannelError(extractErrorMessage(event?.data), event.data));\n                return;\n            }\n            if (message.type === \"disconnect\") {\n                observer.error(new DisconnectError(`Server disconnected client: ${event.data?.reason || \"unknown error\"}`));\n                return;\n            }\n            observer.next({\n                type: message.type,\n                id: message.lastEventId,\n                ...event.data ? {\n                    data: event.data\n                } : {}\n            });\n        }\n        es.addEventListener(\"error\", onError), emitOpen && es.addEventListener(\"open\", onOpen);\n        const cleanedEvents = [\n            .../* @__PURE__ */ new Set([\n                ...REQUIRED_EVENTS,\n                ...events\n            ])\n        ].filter((type)=>type !== \"error\" && type !== \"open\" && type !== \"reconnect\");\n        return cleanedEvents.forEach((type)=>es.addEventListener(type, onMessage)), ()=>{\n            es.removeEventListener(\"error\", onError), emitOpen && es.removeEventListener(\"open\", onOpen), cleanedEvents.forEach((type)=>es.removeEventListener(type, onMessage)), es.close();\n        };\n    });\n}\nfunction parseEvent(message) {\n    try {\n        const data = typeof message.data == \"string\" && JSON.parse(message.data);\n        return [\n            null,\n            {\n                type: message.type,\n                id: message.lastEventId,\n                ...isEmptyObject(data) ? {} : {\n                    data\n                }\n            }\n        ];\n    } catch (err) {\n        return [\n            err,\n            null\n        ];\n    }\n}\nfunction extractErrorMessage(err) {\n    return err.error ? err.error.description ? err.error.description : typeof err.error == \"string\" ? err.error : JSON.stringify(err.error, null, 2) : err.message || \"Unknown listener error\";\n}\nfunction isEmptyObject(data) {\n    for(const _ in data)return !1;\n    return !0;\n}\nfunction getSelection(sel) {\n    if (typeof sel == \"string\") return {\n        id: sel\n    };\n    if (Array.isArray(sel)) return {\n        query: \"*[_id in $ids]\",\n        params: {\n            ids: sel\n        }\n    };\n    if (typeof sel == \"object\" && sel !== null && \"query\" in sel && typeof sel.query == \"string\") return \"params\" in sel && typeof sel.params == \"object\" && sel.params !== null ? {\n        query: sel.query,\n        params: sel.params\n    } : {\n        query: sel.query\n    };\n    const selectionOpts = [\n        \"* Document ID (<docId>)\",\n        \"* Array of document IDs\",\n        \"* Object containing `query`\"\n    ].join(`\n`);\n    throw new Error(`Unknown selection - must be one of:\n\n${selectionOpts}`);\n}\nclass BasePatch {\n    constructor(selection, operations = {}){\n        this.selection = selection, this.operations = operations;\n    }\n    /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ set(attrs) {\n        return this._assign(\"set\", attrs);\n    }\n    /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ setIfMissing(attrs) {\n        return this._assign(\"setIfMissing\", attrs);\n    }\n    /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */ diffMatchPatch(attrs) {\n        return validateObject(\"diffMatchPatch\", attrs), this._assign(\"diffMatchPatch\", attrs);\n    }\n    /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */ unset(attrs) {\n        if (!Array.isArray(attrs)) throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n        return this.operations = Object.assign({}, this.operations, {\n            unset: attrs\n        }), this;\n    }\n    /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */ inc(attrs) {\n        return this._assign(\"inc\", attrs);\n    }\n    /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */ dec(attrs) {\n        return this._assign(\"dec\", attrs);\n    }\n    /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */ insert(at, selector, items) {\n        return validateInsert(at, selector, items), this._assign(\"insert\", {\n            [at]: selector,\n            items\n        });\n    }\n    /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */ append(selector, items) {\n        return this.insert(\"after\", `${selector}[-1]`, items);\n    }\n    /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */ prepend(selector, items) {\n        return this.insert(\"before\", `${selector}[0]`, items);\n    }\n    /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */ splice(selector, start, deleteCount, items) {\n        const delAll = typeof deleteCount > \"u\" || deleteCount === -1, startIndex = start < 0 ? start - 1 : start, delCount = delAll ? -1 : Math.max(0, start + deleteCount), delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount, rangeSelector = `${selector}[${startIndex}:${delRange}]`;\n        return this.insert(\"replace\", rangeSelector, items || []);\n    }\n    /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */ ifRevisionId(rev) {\n        return this.operations.ifRevisionID = rev, this;\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ serialize() {\n        return {\n            ...getSelection(this.selection),\n            ...this.operations\n        };\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the patch of all operations\n   */ reset() {\n        return this.operations = {}, this;\n    }\n    _assign(op, props, merge2 = !0) {\n        return validateObject(op, props), this.operations = Object.assign({}, this.operations, {\n            [op]: Object.assign({}, merge2 && this.operations[op] || {}, props)\n        }), this;\n    }\n    _set(op, props) {\n        return this._assign(op, props, !1);\n    }\n}\nclass ObservablePatch extends BasePatch {\n    #client;\n    constructor(selection, operations, client){\n        super(selection, operations), this.#client = client;\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new ObservablePatch(this.selection, {\n            ...this.operations\n        }, this.#client);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        const returnFirst = typeof this.selection == \"string\", opts = Object.assign({\n            returnFirst,\n            returnDocuments: !0\n        }, options);\n        return this.#client.mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n}\nclass Patch extends BasePatch {\n    #client;\n    constructor(selection, operations, client){\n        super(selection, operations), this.#client = client;\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new Patch(this.selection, {\n            ...this.operations\n        }, this.#client);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        const returnFirst = typeof this.selection == \"string\", opts = Object.assign({\n            returnFirst,\n            returnDocuments: !0\n        }, options);\n        return this.#client.mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n}\nconst defaultMutateOptions = {\n    returnDocuments: !1\n};\nclass BaseTransaction {\n    constructor(operations = [], transactionId){\n        this.operations = operations, this.trxId = transactionId;\n    }\n    /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */ create(doc) {\n        return validateObject(\"create\", doc), this._add({\n            create: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */ createIfNotExists(doc) {\n        const op = \"createIfNotExists\";\n        return validateObject(op, doc), requireDocumentId(op, doc), this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */ createOrReplace(doc) {\n        const op = \"createOrReplace\";\n        return validateObject(op, doc), requireDocumentId(op, doc), this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */ delete(documentId) {\n        return validateDocumentId(\"delete\", documentId), this._add({\n            delete: {\n                id: documentId\n            }\n        });\n    }\n    transactionId(id) {\n        return id ? (this.trxId = id, this) : this.trxId;\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ serialize() {\n        return [\n            ...this.operations\n        ];\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the transaction of all operations\n   */ reset() {\n        return this.operations = [], this;\n    }\n    _add(mut) {\n        return this.operations.push(mut), this;\n    }\n}\nclass Transaction extends BaseTransaction {\n    #client;\n    constructor(operations, client, transactionId){\n        super(operations, transactionId), this.#client = client;\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new Transaction([\n            ...this.operations\n        ], this.#client, this.trxId);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        return this.#client.mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps == \"function\", isPatch = typeof patchOrDocumentId != \"string\" && patchOrDocumentId instanceof Patch, isMutationSelection = typeof patchOrDocumentId == \"object\" && (\"query\" in patchOrDocumentId || \"id\" in patchOrDocumentId);\n        if (isPatch) return this._add({\n            patch: patchOrDocumentId.serialize()\n        });\n        if (isBuilder) {\n            const patch = patchOps(new Patch(patchOrDocumentId, {}, this.#client));\n            if (!(patch instanceof Patch)) throw new Error(\"function passed to `patch()` must return the patch\");\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        if (isMutationSelection) {\n            const patch = new Patch(patchOrDocumentId, patchOps || {}, this.#client);\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n}\nclass ObservableTransaction extends BaseTransaction {\n    #client;\n    constructor(operations, client, transactionId){\n        super(operations, transactionId), this.#client = client;\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new ObservableTransaction([\n            ...this.operations\n        ], this.#client, this.trxId);\n    }\n    commit(options) {\n        if (!this.#client) throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        return this.#client.mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps == \"function\";\n        if (typeof patchOrDocumentId != \"string\" && patchOrDocumentId instanceof ObservablePatch) return this._add({\n            patch: patchOrDocumentId.serialize()\n        });\n        if (isBuilder) {\n            const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, this.#client));\n            if (!(patch instanceof ObservablePatch)) throw new Error(\"function passed to `patch()` must return the patch\");\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n}\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config, overrides = {}) {\n    const headers = {}, token = overrides.token || config.token;\n    token && (headers.Authorization = `Bearer ${token}`), !overrides.useGlobalApi && !config.useProjectHostname && config.projectId && (headers[projectHeader] = config.projectId);\n    const withCredentials = !!(typeof overrides.withCredentials > \"u\" ? config.withCredentials : overrides.withCredentials), timeout = typeof overrides.timeout > \"u\" ? config.timeout : overrides.timeout;\n    return Object.assign({}, overrides, {\n        headers: Object.assign({}, headers, overrides.headers || {}),\n        timeout: typeof timeout > \"u\" ? 5 * 60 * 1e3 : timeout,\n        proxy: overrides.proxy || config.proxy,\n        json: !0,\n        withCredentials,\n        fetch: typeof overrides.fetch == \"object\" && typeof config.fetch == \"object\" ? {\n            ...config.fetch,\n            ...overrides.fetch\n        } : overrides.fetch || config.fetch\n    });\n}\nconst encodeQueryString = ({ query, params = {}, options = {} })=>{\n    const searchParams = new URLSearchParams(), { tag, includeMutations, returnQuery, ...opts } = options;\n    tag && searchParams.append(\"tag\", tag), searchParams.append(\"query\", query);\n    for (const [key, value] of Object.entries(params))searchParams.append(`$${key}`, JSON.stringify(value));\n    for (const [key, value] of Object.entries(opts))value && searchParams.append(key, `${value}`);\n    return returnQuery === !1 && searchParams.append(\"returnQuery\", \"false\"), includeMutations === !1 && searchParams.append(\"includeMutations\", \"false\"), `?${searchParams}`;\n}, excludeFalsey = (param, defValue)=>param === !1 ? void 0 : typeof param > \"u\" ? defValue : param, getMutationQuery = (options = {})=>({\n        dryRun: options.dryRun,\n        returnIds: !0,\n        returnDocuments: excludeFalsey(options.returnDocuments, !0),\n        visibility: options.visibility || \"sync\",\n        autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n        skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n    }), isResponse = (event)=>event.type === \"response\", getBody = (event)=>event.body, indexBy = (docs, attr)=>docs.reduce((indexed, doc)=>(indexed[attr(doc)] = doc, indexed), /* @__PURE__ */ Object.create(null)), getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, _stega, query, _params = {}, options = {}) {\n    const stega = \"stega\" in options ? {\n        ..._stega || {},\n        ...typeof options.stega == \"boolean\" ? {\n            enabled: options.stega\n        } : options.stega || {}\n    } : _stega, params = stega.enabled ? (0,_chunks_es_stegaClean_js__WEBPACK_IMPORTED_MODULE_7__.stegaClean)(_params) : _params, mapResponse = options.filterResponse === !1 ? (res)=>res : (res)=>res.result, { cache, next, ...opts } = {\n        // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n        // This is necessary in React Server Components to avoid opting out of Request Memoization.\n        useAbortSignal: typeof options.signal < \"u\",\n        // Set `resultSourceMap' when stega is enabled, as it's required for encoding.\n        resultSourceMap: stega.enabled ? \"withKeyArraySelector\" : options.resultSourceMap,\n        ...options,\n        // Default to not returning the query, unless `filterResponse` is `false`,\n        // or `returnQuery` is explicitly set. `true` is the default in Content Lake, so skip if truthy\n        returnQuery: options.filterResponse === !1 && options.returnQuery !== !1\n    }, reqOpts = typeof cache < \"u\" || typeof next < \"u\" ? {\n        ...opts,\n        fetch: {\n            cache,\n            next\n        }\n    } : opts, $request = _dataRequest(client, httpRequest, \"query\", {\n        query,\n        params\n    }, reqOpts);\n    return stega.enabled ? $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.combineLatestWith)((0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_9__.from)(__webpack_require__.e(/*! import() */ \"vendor-chunks/@sanity+client@6.29.1_debug@4.4.3\").then(__webpack_require__.bind(__webpack_require__, /*! ./_chunks-es/stegaEncodeSourceMap.js */ \"(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/_chunks-es/stegaEncodeSourceMap.js\")).then(function(n) {\n        return n.stegaEncodeSourceMap$1;\n    }).then(({ stegaEncodeSourceMap })=>stegaEncodeSourceMap))), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)(([res, stegaEncodeSourceMap])=>{\n        const result = stegaEncodeSourceMap(res.result, res.resultSourceMap, stega);\n        return mapResponse({\n            ...res,\n            result\n        });\n    })) : $request.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", id),\n        json: !0,\n        tag: opts.tag,\n        signal: opts.signal\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((event)=>event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids, opts = {}) {\n    const options = {\n        uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n        json: !0,\n        tag: opts.tag,\n        signal: opts.signal\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((event)=>{\n        const indexed = indexBy(event.body.documents || [], (doc)=>doc._id);\n        return ids.map((id)=>indexed[id] || null);\n    }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n    return requireDocumentId(\"createIfNotExists\", doc), _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n    return requireDocumentId(\"createOrReplace\", doc), _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            {\n                delete: getSelection(selection)\n            }\n        ]\n    }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n    let mut;\n    mutations instanceof Patch || mutations instanceof ObservablePatch ? mut = {\n        patch: mutations.serialize()\n    } : mutations instanceof Transaction || mutations instanceof ObservableTransaction ? mut = mutations.serialize() : mut = mutations;\n    const muts = Array.isArray(mut) ? mut : [\n        mut\n    ], transactionId = options && options.transactionId || void 0;\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: muts,\n        transactionId\n    }, options);\n}\nfunction _action(client, httpRequest, actions, options) {\n    const acts = Array.isArray(actions) ? actions : [\n        actions\n    ], transactionId = options && options.transactionId || void 0, skipCrossDatasetReferenceValidation = options && options.skipCrossDatasetReferenceValidation || void 0, dryRun = options && options.dryRun || void 0;\n    return _dataRequest(client, httpRequest, \"actions\", {\n        actions: acts,\n        transactionId,\n        skipCrossDatasetReferenceValidation,\n        dryRun\n    }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body, options = {}) {\n    const isMutation = endpoint === \"mutate\", isAction = endpoint === \"actions\", isQuery2 = endpoint === \"query\", strQuery = isMutation || isAction ? \"\" : encodeQueryString(body), useGet = !isMutation && !isAction && strQuery.length < getQuerySizeLimit, stringQuery = useGet ? strQuery : \"\", returnFirst = options.returnFirst, { timeout, token, tag, headers, returnQuery, lastLiveEventId, cacheMode } = options, uri = _getDataUrl(client, endpoint, stringQuery), reqOptions = {\n        method: useGet ? \"GET\" : \"POST\",\n        uri,\n        json: !0,\n        body: useGet ? void 0 : body,\n        query: isMutation && getMutationQuery(options),\n        timeout,\n        headers,\n        token,\n        tag,\n        returnQuery,\n        perspective: options.perspective,\n        resultSourceMap: options.resultSourceMap,\n        lastLiveEventId: Array.isArray(lastLiveEventId) ? lastLiveEventId[0] : lastLiveEventId,\n        cacheMode,\n        canUseCdn: isQuery2,\n        signal: options.signal,\n        fetch: options.fetch,\n        useAbortSignal: options.useAbortSignal,\n        useCdn: options.useCdn\n    };\n    return _requestObservable(client, httpRequest, reqOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)(getBody), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((res)=>{\n        if (!isMutation) return res;\n        const results = res.results || [];\n        if (options.returnDocuments) return returnFirst ? results[0] && results[0].document : results.map((mut)=>mut.document);\n        const key = returnFirst ? \"documentId\" : \"documentIds\", ids = returnFirst ? results[0] && results[0].id : results.map((mut)=>mut.id);\n        return {\n            transactionId: res.transactionId,\n            results,\n            [key]: ids\n        };\n    }));\n}\nfunction _create(client, httpRequest, doc, op, options = {}) {\n    const mutation = {\n        [op]: doc\n    }, opts = Object.assign({\n        returnFirst: !0,\n        returnDocuments: !0\n    }, options);\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            mutation\n        ]\n    }, opts);\n}\nconst hasDataConfig = (client)=>client.config().dataset !== void 0 && client.config().projectId !== void 0 || client.config()[\"~experimental_resource\"] !== void 0, isQuery = (client, uri)=>hasDataConfig(client) && uri.startsWith(_getDataUrl(client, \"query\")), isMutate = (client, uri)=>hasDataConfig(client) && uri.startsWith(_getDataUrl(client, \"mutate\")), isDoc = (client, uri)=>hasDataConfig(client) && uri.startsWith(_getDataUrl(client, \"doc\", \"\")), isListener = (client, uri)=>hasDataConfig(client) && uri.startsWith(_getDataUrl(client, \"listen\")), isHistory = (client, uri)=>hasDataConfig(client) && uri.startsWith(_getDataUrl(client, \"history\", \"\")), isData = (client, uri)=>uri.startsWith(\"/data/\") || isQuery(client, uri) || isMutate(client, uri) || isDoc(client, uri) || isListener(client, uri) || isHistory(client, uri);\nfunction _requestObservable(client, httpRequest, options) {\n    const uri = options.url || options.uri, config = client.config(), canUseCdn = typeof options.canUseCdn > \"u\" ? [\n        \"GET\",\n        \"HEAD\"\n    ].indexOf(options.method || \"GET\") >= 0 && isData(client, uri) : options.canUseCdn;\n    let useCdn = (options.useCdn ?? config.useCdn) && canUseCdn;\n    const tag = options.tag && config.requestTagPrefix ? [\n        config.requestTagPrefix,\n        options.tag\n    ].join(\".\") : options.tag || config.requestTagPrefix;\n    if (tag && options.tag !== null && (options.query = {\n        tag: requestTag(tag),\n        ...options.query\n    }), [\n        \"GET\",\n        \"HEAD\",\n        \"POST\"\n    ].indexOf(options.method || \"GET\") >= 0 && isQuery(client, uri)) {\n        const resultSourceMap = options.resultSourceMap ?? config.resultSourceMap;\n        resultSourceMap !== void 0 && resultSourceMap !== !1 && (options.query = {\n            resultSourceMap,\n            ...options.query\n        });\n        const perspectiveOption = options.perspective || config.perspective;\n        typeof perspectiveOption < \"u\" && (perspectiveOption === \"previewDrafts\" && printPreviewDraftsDeprecationWarning(), validateApiPerspective(perspectiveOption), options.query = {\n            perspective: Array.isArray(perspectiveOption) ? perspectiveOption.join(\",\") : perspectiveOption,\n            ...options.query\n        }, (Array.isArray(perspectiveOption) && perspectiveOption.length > 0 || // previewDrafts was renamed to drafts, but keep for backwards compat\n        perspectiveOption === \"previewDrafts\" || perspectiveOption === \"drafts\") && useCdn && (useCdn = !1, printCdnPreviewDraftsWarning())), options.lastLiveEventId && (options.query = {\n            ...options.query,\n            lastLiveEventId: options.lastLiveEventId\n        }), options.returnQuery === !1 && (options.query = {\n            returnQuery: \"false\",\n            ...options.query\n        }), useCdn && options.cacheMode == \"noStale\" && (options.query = {\n            cacheMode: \"noStale\",\n            ...options.query\n        });\n    }\n    const reqOptions = requestOptions(config, Object.assign({}, options, {\n        url: _getUrl(client, uri, useCdn)\n    })), request = new _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((subscriber)=>httpRequest(reqOptions, config.requester).subscribe(subscriber));\n    return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((event)=>event.body));\n}\nfunction _getDataUrl(client, operation, path) {\n    const config = client.config();\n    if (config[\"~experimental_resource\"]) {\n        resourceConfig(config);\n        const resourceBase = resourceDataBase(config), uri2 = path !== void 0 ? `${operation}/${path}` : operation;\n        return `${resourceBase}/${uri2}`.replace(/\\/($|\\?)/, \"$1\");\n    }\n    const catalog = hasDataset(config), baseUri = `/${operation}/${catalog}`;\n    return `/data${path !== void 0 ? `${baseUri}/${path}` : baseUri}`.replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri, canUseCdn = !1) {\n    const { url, cdnUrl } = client.config();\n    return `${canUseCdn ? cdnUrl : url}/${uri.replace(/^\\//, \"\")}`;\n}\nfunction _withAbortSignal(signal) {\n    return (input)=>new _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n            const abort = ()=>observer.error(_createAbortError(signal));\n            if (signal && signal.aborted) {\n                abort();\n                return;\n            }\n            const subscription = input.subscribe(observer);\n            return signal.addEventListener(\"abort\", abort), ()=>{\n                signal.removeEventListener(\"abort\", abort), subscription.unsubscribe();\n            };\n        });\n}\nconst isDomExceptionSupported = !!globalThis.DOMException;\nfunction _createAbortError(signal) {\n    if (isDomExceptionSupported) return new DOMException(signal?.reason ?? \"The operation was aborted.\", \"AbortError\");\n    const error = new Error(signal?.reason ?? \"The operation was aborted.\");\n    return error.name = \"AbortError\", error;\n}\nconst resourceDataBase = (config)=>{\n    if (!config[\"~experimental_resource\"]) throw new Error(\"`resource` must be provided to perform resource queries\");\n    const { type, id } = config[\"~experimental_resource\"];\n    switch(type){\n        case \"dataset\":\n            {\n                const segments = id.split(\".\");\n                if (segments.length !== 2) throw new Error('Dataset ID must be in the format \"project.dataset\"');\n                return `/projects/${segments[0]}/datasets/${segments[1]}`;\n            }\n        case \"canvas\":\n            return `/canvases/${id}`;\n        case \"media-library\":\n            return `/media-libraries/${id}`;\n        case \"dashboard\":\n            return `/dashboards/${id}`;\n        default:\n            throw new Error(`Unsupported resource type: ${type.toString()}`);\n    }\n};\nclass ObservableAssetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    upload(assetType, body, options) {\n        return _upload(this.#client, this.#httpRequest, assetType, body, options);\n    }\n}\nclass AssetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    upload(assetType, body, options) {\n        const observable2 = _upload(this.#client, this.#httpRequest, assetType, body, options);\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(observable2.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((event)=>event.body.document)));\n    }\n}\nfunction _upload(client, httpRequest, assetType, body, opts = {}) {\n    validateAssetType(assetType);\n    let meta = opts.extract || void 0;\n    meta && !meta.length && (meta = [\n        \"none\"\n    ]);\n    const config = client.config(), options = optionsFromFile(opts, body), { tag, label, title, description, creditLine, filename, source } = options, query = {\n        label,\n        title,\n        description,\n        filename,\n        meta,\n        creditLine\n    };\n    return source && (query.sourceId = source.id, query.sourceName = source.name, query.sourceUrl = source.url), _requestObservable(client, httpRequest, {\n        tag,\n        method: \"POST\",\n        timeout: options.timeout || 0,\n        uri: buildAssetUploadUrl(config, assetType),\n        headers: options.contentType ? {\n            \"Content-Type\": options.contentType\n        } : {},\n        query,\n        body\n    });\n}\nfunction buildAssetUploadUrl(config, assetType) {\n    const assetTypeEndpoint = assetType === \"image\" ? \"images\" : \"files\";\n    if (config[\"~experimental_resource\"]) {\n        const { type, id } = config[\"~experimental_resource\"];\n        switch(type){\n            case \"dataset\":\n                throw new Error(\"Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.\");\n            case \"canvas\":\n                return `/canvases/${id}/assets/${assetTypeEndpoint}`;\n            case \"media-library\":\n                return `/media-libraries/${id}/upload`;\n            case \"dashboard\":\n                return `/dashboards/${id}/assets/${assetTypeEndpoint}`;\n            default:\n                throw new Error(`Unsupported resource type: ${type.toString()}`);\n        }\n    }\n    const dataset2 = hasDataset(config);\n    return `assets/${assetTypeEndpoint}/${dataset2}`;\n}\nfunction optionsFromFile(opts, file) {\n    return typeof File > \"u\" || !(file instanceof File) ? opts : Object.assign({\n        filename: opts.preserveFilename === !1 ? void 0 : file.name,\n        contentType: file.type\n    }, opts);\n}\nvar defaults = (obj, defaults2)=>Object.keys(defaults2).concat(Object.keys(obj)).reduce((target, prop)=>(target[prop] = typeof obj[prop] > \"u\" ? defaults2[prop] : obj[prop], target), {});\nconst pick = (obj, props)=>props.reduce((selection, prop)=>(typeof obj[prop] > \"u\" || (selection[prop] = obj[prop]), selection), {}), eventSourcePolyfill = (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_3__.defer)(()=>Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity+eventsource@5.0.2\"), __webpack_require__.e(\"vendor-chunks/eventsource@2.0.2\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(rsc)/../../node_modules/.pnpm/@sanity+eventsource@5.0.2/node_modules/@sanity/eventsource/node.js\", 19))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)(({ default: EventSource2 })=>EventSource2), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_11__.shareReplay)(1));\nfunction reconnectOnConnectionFailure() {\n    return function(source) {\n        return source.pipe((0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_12__.catchError)((err, caught)=>err instanceof ConnectionFailedError ? (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_13__.concat)((0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_5__.of)({\n                type: \"reconnect\"\n            }), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_14__.timer)(1e3).pipe((0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_6__.mergeMap)(()=>caught))) : (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_15__.throwError)(()=>err)));\n    };\n}\nconst MAX_URL_LENGTH = 14800, possibleOptions = [\n    \"includePreviousRevision\",\n    \"includeResult\",\n    \"includeMutations\",\n    \"includeAllVersions\",\n    \"visibility\",\n    \"effectFormat\",\n    \"tag\"\n], defaultOptions = {\n    includeResult: !0\n};\nfunction _listen(query, params, opts = {}) {\n    const { url, token, withCredentials, requestTagPrefix } = this.config(), tag = opts.tag && requestTagPrefix ? [\n        requestTagPrefix,\n        opts.tag\n    ].join(\".\") : opts.tag, options = {\n        ...defaults(opts, defaultOptions),\n        tag\n    }, listenOpts = pick(options, possibleOptions), qs = encodeQueryString({\n        query,\n        params,\n        options: {\n            tag,\n            ...listenOpts\n        }\n    }), uri = `${url}${_getDataUrl(this, \"listen\", qs)}`;\n    if (uri.length > MAX_URL_LENGTH) return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_15__.throwError)(()=>new Error(\"Query too large for listener\"));\n    const listenFor = options.events ? options.events : [\n        \"mutation\"\n    ], esOptions = {};\n    return withCredentials && (esOptions.withCredentials = !0), token && (esOptions.headers = {\n        Authorization: `Bearer ${token}`\n    }), connectEventSource(()=>// use polyfill if there is no global EventSource or if we need to set headers\n        (typeof EventSource > \"u\" || esOptions.headers ? eventSourcePolyfill : (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(EventSource)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((EventSource2)=>new EventSource2(uri, esOptions))), listenFor).pipe(reconnectOnConnectionFailure(), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.filter)((event)=>listenFor.includes(event.type)), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((event)=>({\n            type: event.type,\n            ...\"data\" in event ? event.data : {}\n        })));\n}\nfunction shareReplayLatest(configOrPredicate, config) {\n    return _shareReplayLatest(typeof configOrPredicate == \"function\" ? {\n        predicate: configOrPredicate,\n        ...config\n    } : configOrPredicate);\n}\nfunction _shareReplayLatest(config) {\n    return (source)=>{\n        let latest, emitted = !1;\n        const { predicate, ...shareConfig } = config, wrapped = source.pipe((0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_16__.tap)((value)=>{\n            config.predicate(value) && (emitted = !0, latest = value);\n        }), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_17__.finalize)(()=>{\n            emitted = !1, latest = void 0;\n        }), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_18__.share)(shareConfig)), emitLatest = new _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((subscriber)=>{\n            emitted && subscriber.next(// this cast is safe because of the emitted check which asserts that we got T from the source\n            latest), subscriber.complete();\n        });\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_19__.merge)(wrapped, emitLatest);\n    };\n}\nconst requiredApiVersion = \"2021-03-25\";\nclass LiveClient {\n    #client;\n    constructor(client){\n        this.#client = client;\n    }\n    /**\n   * Requires `apiVersion` to be `2021-03-25` or later.\n   */ events({ includeDrafts = !1, tag: _tag } = {}) {\n        resourceGuard(\"live\", this.#client.config());\n        const { projectId: projectId2, apiVersion: _apiVersion, token, withCredentials, requestTagPrefix } = this.#client.config(), apiVersion = _apiVersion.replace(/^v/, \"\");\n        if (apiVersion !== \"X\" && apiVersion < requiredApiVersion) throw new Error(`The live events API requires API version ${requiredApiVersion} or later. The current API version is ${apiVersion}. Please update your API version to use this feature.`);\n        if (includeDrafts && !token && !withCredentials) throw new Error(\"The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.\");\n        const path = _getDataUrl(this.#client, \"live/events\"), url = new URL(this.#client.getUrl(path, !1)), tag = _tag && requestTagPrefix ? [\n            requestTagPrefix,\n            _tag\n        ].join(\".\") : _tag;\n        tag && url.searchParams.set(\"tag\", tag), includeDrafts && url.searchParams.set(\"includeDrafts\", \"true\");\n        const esOptions = {};\n        includeDrafts && token && (esOptions.headers = {\n            Authorization: `Bearer ${token}`\n        }), includeDrafts && withCredentials && (esOptions.withCredentials = !0);\n        const key = `${url.href}::${JSON.stringify(esOptions)}`, existing = eventsCache.get(key);\n        if (existing) return existing;\n        const events = connectEventSource(()=>// use polyfill if there is no global EventSource or if we need to set headers\n            (typeof EventSource > \"u\" || esOptions.headers ? eventSourcePolyfill : (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(EventSource)).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((EventSource2)=>new EventSource2(url.href, esOptions))), [\n            \"message\",\n            \"restart\",\n            \"welcome\",\n            \"reconnect\",\n            \"goaway\"\n        ]).pipe(reconnectOnConnectionFailure(), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.map)((event)=>{\n            if (event.type === \"message\") {\n                const { data, ...rest } = event;\n                return {\n                    ...rest,\n                    tags: data.tags\n                };\n            }\n            return event;\n        })), checkCors = fetchObservable(url, {\n            method: \"OPTIONS\",\n            mode: \"cors\",\n            credentials: esOptions.withCredentials ? \"include\" : \"omit\",\n            headers: esOptions.headers\n        }).pipe((0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_6__.mergeMap)(()=>_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_20__.EMPTY), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_12__.catchError)(()=>{\n            throw new CorsOriginError({\n                projectId: projectId2\n            });\n        })), observable2 = (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_13__.concat)(checkCors, events).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.finalize)(()=>eventsCache.delete(key)), shareReplayLatest({\n            predicate: (event)=>event.type === \"welcome\"\n        }));\n        return eventsCache.set(key, observable2), observable2;\n    }\n}\nfunction fetchObservable(url, init) {\n    return new _barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n        const controller = new AbortController(), signal = controller.signal;\n        return fetch(url, {\n            ...init,\n            signal: controller.signal\n        }).then((response)=>{\n            observer.next(response), observer.complete();\n        }, (err)=>{\n            signal.aborted || observer.error(err);\n        }), ()=>controller.abort();\n    });\n}\nconst eventsCache = /* @__PURE__ */ new Map();\nclass ObservableDatasetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return _modify(this.#client, this.#httpRequest, \"PUT\", name, options);\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return _modify(this.#client, this.#httpRequest, \"PATCH\", name, options);\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return _modify(this.#client, this.#httpRequest, \"DELETE\", name);\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return _request(this.#client, this.#httpRequest, {\n            uri: \"/datasets\",\n            tag: null\n        });\n    }\n}\nclass DatasetsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return resourceGuard(\"dataset\", this.#client.config()), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"PUT\", name, options));\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return resourceGuard(\"dataset\", this.#client.config()), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"PATCH\", name, options));\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return resourceGuard(\"dataset\", this.#client.config()), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_modify(this.#client, this.#httpRequest, \"DELETE\", name));\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return resourceGuard(\"dataset\", this.#client.config()), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: \"/datasets\",\n            tag: null\n        }));\n    }\n}\nfunction _modify(client, httpRequest, method, name, options) {\n    return resourceGuard(\"dataset\", client.config()), dataset(name), _request(client, httpRequest, {\n        method,\n        uri: `/datasets/${name}`,\n        body: options,\n        tag: null\n    });\n}\nclass ObservableProjectsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    list(options) {\n        resourceGuard(\"projects\", this.#client.config());\n        const uri = options?.includeMembers === !1 ? \"/projects?includeMembers=false\" : \"/projects\";\n        return _request(this.#client, this.#httpRequest, {\n            uri\n        });\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId2) {\n        return resourceGuard(\"projects\", this.#client.config()), _request(this.#client, this.#httpRequest, {\n            uri: `/projects/${projectId2}`\n        });\n    }\n}\nclass ProjectsClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    list(options) {\n        resourceGuard(\"projects\", this.#client.config());\n        const uri = options?.includeMembers === !1 ? \"/projects?includeMembers=false\" : \"/projects\";\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri\n        }));\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId2) {\n        return resourceGuard(\"projects\", this.#client.config()), (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: `/projects/${projectId2}`\n        }));\n    }\n}\nclass ObservableUsersClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return _request(this.#client, this.#httpRequest, {\n            uri: `/users/${id}`\n        });\n    }\n}\nclass UsersClient {\n    #client;\n    #httpRequest;\n    constructor(client, httpRequest){\n        this.#client = client, this.#httpRequest = httpRequest;\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_request(this.#client, this.#httpRequest, {\n            uri: `/users/${id}`\n        }));\n    }\n}\nclass ObservableSanityClient {\n    /**\n   * Private properties\n   */ #clientConfig;\n    #httpRequest;\n    constructor(httpRequest, config = defaultConfig){\n        /**\n   * Instance properties\n   */ this.listen = _listen;\n        this.config(config), this.#httpRequest = httpRequest, this.assets = new ObservableAssetsClient(this, this.#httpRequest), this.datasets = new ObservableDatasetsClient(this, this.#httpRequest), this.live = new LiveClient(this), this.projects = new ObservableProjectsClient(this, this.#httpRequest), this.users = new ObservableUsersClient(this, this.#httpRequest);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new ObservableSanityClient(this.#httpRequest, this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) return {\n            ...this.#clientConfig\n        };\n        if (this.#clientConfig && this.#clientConfig.allowReconfigure === !1) throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        return this.#clientConfig = initConfig(newConfig, this.#clientConfig || {}), this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new ObservableSanityClient(this.#httpRequest, {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof newConfig?.stega == \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : newConfig?.stega || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return _fetch(this, this.#httpRequest, this.#clientConfig.stega, query, params, options);\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return _getDocument(this, this.#httpRequest, id, options);\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return _getDocuments(this, this.#httpRequest, ids, options);\n    }\n    create(document, options) {\n        return _create(this, this.#httpRequest, document, \"create\", options);\n    }\n    createIfNotExists(document, options) {\n        return _createIfNotExists(this, this.#httpRequest, document, options);\n    }\n    createOrReplace(document, options) {\n        return _createOrReplace(this, this.#httpRequest, document, options);\n    }\n    delete(selection, options) {\n        return _delete(this, this.#httpRequest, selection, options);\n    }\n    mutate(operations, options) {\n        return _mutate(this, this.#httpRequest, operations, options);\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(selection, operations) {\n        return new ObservablePatch(selection, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new ObservableTransaction(operations, this);\n    }\n    /**\n   * Perform action operations against the configured dataset\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */ action(operations, options) {\n        return _action(this, this.#httpRequest, operations, options);\n    }\n    /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */ request(options) {\n        return _request(this, this.#httpRequest, options);\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n}\nclass SanityClient {\n    /**\n   * Private properties\n   */ #clientConfig;\n    #httpRequest;\n    constructor(httpRequest, config = defaultConfig){\n        /**\n   * Instance properties\n   */ this.listen = _listen;\n        this.config(config), this.#httpRequest = httpRequest, this.assets = new AssetsClient(this, this.#httpRequest), this.datasets = new DatasetsClient(this, this.#httpRequest), this.live = new LiveClient(this), this.projects = new ProjectsClient(this, this.#httpRequest), this.users = new UsersClient(this, this.#httpRequest), this.observable = new ObservableSanityClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new SanityClient(this.#httpRequest, this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) return {\n            ...this.#clientConfig\n        };\n        if (this.#clientConfig && this.#clientConfig.allowReconfigure === !1) throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        return this.observable && this.observable.config(newConfig), this.#clientConfig = initConfig(newConfig, this.#clientConfig || {}), this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        return new SanityClient(this.#httpRequest, {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...typeof newConfig?.stega == \"boolean\" ? {\n                    enabled: newConfig.stega\n                } : newConfig?.stega || {}\n            }\n        });\n    }\n    fetch(query, params, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_fetch(this, this.#httpRequest, this.#clientConfig.stega, query, params, options));\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_getDocument(this, this.#httpRequest, id, options));\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_getDocuments(this, this.#httpRequest, ids, options));\n    }\n    create(document, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_create(this, this.#httpRequest, document, \"create\", options));\n    }\n    createIfNotExists(document, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_createIfNotExists(this, this.#httpRequest, document, options));\n    }\n    createOrReplace(document, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_createOrReplace(this, this.#httpRequest, document, options));\n    }\n    delete(selection, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_delete(this, this.#httpRequest, selection, options));\n    }\n    mutate(operations, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_mutate(this, this.#httpRequest, operations, options));\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(documentId, operations) {\n        return new Patch(documentId, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new Transaction(operations, this);\n    }\n    /**\n   * Perform action operations against the configured dataset\n   * Returns a promise that resolves to the transaction result\n   *\n   * @param operations - Action operation(s) to execute\n   * @param options - Action options\n   */ action(operations, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_action(this, this.#httpRequest, operations, options));\n    }\n    /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */ request(options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_request(this, this.#httpRequest, options));\n    }\n    /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */ dataRequest(endpoint, body, options) {\n        return (0,_barrel_optimize_names_EMPTY_Observable_catchError_concat_defer_finalize_from_isObservable_lastValueFrom_merge_mergeMap_of_share_shareReplay_tap_throwError_timer_rxjs__WEBPACK_IMPORTED_MODULE_10__.lastValueFrom)(_dataRequest(this, this.#httpRequest, endpoint, body, options));\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n}\nfunction defineCreateClientExports(envMiddleware2, ClassConstructor) {\n    return {\n        requester: defineHttpRequest(envMiddleware2),\n        createClient: (config)=>{\n            const clientRequester = defineHttpRequest(envMiddleware2);\n            return new ClassConstructor((options, requester2)=>(requester2 || clientRequester)({\n                    maxRedirects: 0,\n                    maxRetries: config.maxRetries,\n                    retryDelay: config.retryDelay,\n                    ...options\n                }), config);\n        }\n    };\n}\nfunction defineDeprecatedCreateClient(createClient2) {\n    return function(config) {\n        return printNoDefaultExport(), createClient2(config);\n    };\n}\nvar envMiddleware = [];\nconst exp = defineCreateClientExports(envMiddleware, SanityClient), requester = exp.requester, createClient = exp.createClient, deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\n //# sourceMappingURL=index.browser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYW5pdHkrY2xpZW50QDYuMjkuMV9kZWJ1Z0A0LjQuMy9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStCO0FBQ2U7QUFDNkM7QUFDdUY7QUFDMUg7QUFDZ0M7QUFDeEYsTUFBTThCLG9CQUFvQkM7SUFLeEJDLFlBQVlDLEdBQUcsQ0FBRTtRQUNmLE1BQU1DLFFBQVFDLGtCQUFrQkY7O1FBQ2hDLGFBQUssQ0FBQ0MsTUFBTUUsT0FBTyxRQUxyQkMsYUFBYSxZQUtXQyxPQUFPQyxNQUFNLENBQUMsSUFBSSxFQUFFTDtJQUM1QztBQUNGO0FBQ0EsTUFBTU0sb0JBQW9CVDtJQUt4QkMsWUFBWUMsR0FBRyxDQUFFO1FBQ2YsTUFBTUMsUUFBUUMsa0JBQWtCRjs7UUFDaEMsYUFBSyxDQUFDQyxNQUFNRSxPQUFPLFFBTHJCQyxhQUFhLFlBS1dDLE9BQU9DLE1BQU0sQ0FBQyxJQUFJLEVBQUVMO0lBQzVDO0FBQ0Y7QUFDQSxTQUFTQyxrQkFBa0JGLEdBQUc7SUFDNUIsTUFBTVEsT0FBT1IsSUFBSVEsSUFBSSxFQUFFUCxRQUFRO1FBQzdCUSxVQUFVVDtRQUNWSSxZQUFZSixJQUFJSSxVQUFVO1FBQzFCTSxjQUFjQyxjQUFjSCxNQUFNUjtRQUNsQ0csU0FBUztRQUNUUyxTQUFTLEtBQUs7SUFDaEI7SUFDQSxJQUFJSixLQUFLSyxLQUFLLElBQUlMLEtBQUtMLE9BQU8sRUFDNUIsT0FBT0YsTUFBTUUsT0FBTyxHQUFHLENBQUMsRUFBRUssS0FBS0ssS0FBSyxDQUFDLEdBQUcsRUFBRUwsS0FBS0wsT0FBTyxDQUFDLENBQUMsRUFBRUY7SUFDNUQsSUFBSWEsZ0JBQWdCTixTQUFTTyxjQUFjUCxPQUFPO1FBQ2hELE1BQU1RLFdBQVdSLEtBQUtLLEtBQUssQ0FBQ0ksS0FBSyxJQUFJLEVBQUUsRUFBRUEsUUFBUUQsU0FBU0UsS0FBSyxDQUFDLEdBQUcsR0FBR3hCLEdBQUcsQ0FBQyxDQUFDeUIsT0FBU0EsS0FBS04sS0FBSyxFQUFFTyxhQUFhekIsTUFBTSxDQUFDMEI7UUFDcEgsSUFBSUMsV0FBV0wsTUFBTU0sTUFBTSxHQUFHLENBQUM7RUFDakMsRUFBRU4sTUFBTU8sSUFBSSxDQUFDLENBQUM7RUFDZCxDQUFDLEVBQUUsQ0FBQyxHQUFHO1FBQ0wsT0FBT1IsU0FBU08sTUFBTSxHQUFHLEtBQU1ELENBQUFBLFlBQVksQ0FBQztPQUN6QyxFQUFFTixTQUFTTyxNQUFNLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBR3RCLE1BQU1FLE9BQU8sR0FBRyxDQUFDLEVBQUVLLEtBQUtLLEtBQUssQ0FBQ08sV0FBVyxDQUFDLEVBQUVFLFNBQVMsQ0FBQyxFQUFFckIsTUFBTVcsT0FBTyxHQUFHSixLQUFLSyxLQUFLLEVBQUVaO0lBQ3hIO0lBQ0EsT0FBT08sS0FBS0ssS0FBSyxJQUFJTCxLQUFLSyxLQUFLLENBQUNPLFdBQVcsR0FBSW5CLENBQUFBLE1BQU1FLE9BQU8sR0FBR0ssS0FBS0ssS0FBSyxDQUFDTyxXQUFXLEVBQUVuQixNQUFNVyxPQUFPLEdBQUdKLEtBQUtLLEtBQUssRUFBRVosS0FBSSxJQUFNQSxDQUFBQSxNQUFNRSxPQUFPLEdBQUdLLEtBQUtLLEtBQUssSUFBSUwsS0FBS0wsT0FBTyxJQUFJc0IsaUJBQWlCekIsTUFBTUMsS0FBSTtBQUN4TTtBQUNBLFNBQVNhLGdCQUFnQk4sSUFBSTtJQUMzQixPQUFPa0IsY0FBY2xCLFNBQVNrQixjQUFjbEIsS0FBS0ssS0FBSyxLQUFLTCxLQUFLSyxLQUFLLENBQUNjLElBQUksS0FBSyxtQkFBbUIsT0FBT25CLEtBQUtLLEtBQUssQ0FBQ08sV0FBVyxJQUFJO0FBQ3JJO0FBQ0EsU0FBU0wsY0FBY1AsSUFBSTtJQUN6QixPQUFPa0IsY0FBY2xCLFNBQVNrQixjQUFjbEIsS0FBS0ssS0FBSyxLQUFLTCxLQUFLSyxLQUFLLENBQUNjLElBQUksS0FBSyxpQkFBaUIsT0FBT25CLEtBQUtLLEtBQUssQ0FBQ08sV0FBVyxJQUFJO0FBQ25JO0FBQ0EsU0FBU00sY0FBY0UsR0FBRztJQUN4QixPQUFPLE9BQU9BLE9BQU8sWUFBWUEsUUFBUSxRQUFRLENBQUNDLE1BQU1DLE9BQU8sQ0FBQ0Y7QUFDbEU7QUFDQSxTQUFTSCxpQkFBaUJ6QixHQUFHO0lBQzNCLE1BQU0rQixnQkFBZ0IvQixJQUFJK0IsYUFBYSxHQUFHLENBQUMsQ0FBQyxFQUFFL0IsSUFBSStCLGFBQWEsQ0FBQyxDQUFDLEdBQUc7SUFDcEUsT0FBTyxDQUFDLEVBQUUvQixJQUFJZ0MsTUFBTSxDQUFDLFlBQVksRUFBRWhDLElBQUlpQyxHQUFHLENBQUMsa0JBQWtCLEVBQUVqQyxJQUFJSSxVQUFVLENBQUMsRUFBRTJCLGNBQWMsQ0FBQztBQUNqRztBQUNBLFNBQVNwQixjQUFjSCxJQUFJLEVBQUVSLEdBQUc7SUFDOUIsT0FBTyxDQUFDQSxJQUFJa0MsT0FBTyxDQUFDLGVBQWUsSUFBSSxFQUFDLEVBQUdDLFdBQVcsR0FBR0MsT0FBTyxDQUFDLHdCQUF3QixDQUFDLElBQUlDLEtBQUtDLFNBQVMsQ0FBQzlCLE1BQU0sTUFBTSxLQUFLQTtBQUNoSTtBQUNBLE1BQU0rQix3QkFBd0J6QztJQUc1QkMsWUFBWSxFQUFFeUMsV0FBV0MsVUFBVSxFQUFFLENBQUU7UUFDckMsS0FBSyxDQUFDLG9CQUFvQixJQUFJLENBQUNDLElBQUksR0FBRyxtQkFBbUIsSUFBSSxDQUFDRixTQUFTLEdBQUdDO1FBQzFFLE1BQU1SLE1BQU0sSUFBSVUsSUFBSSxDQUFDLGlDQUFpQyxFQUFFRixXQUFXLElBQUksQ0FBQztRQUN4RSxJQUFJLE9BQU9HLFdBQVcsS0FBSztZQUN6QixNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHRDtZQUNuQlgsSUFBSWEsWUFBWSxDQUFDQyxHQUFHLENBQUMsUUFBUSxRQUFRZCxJQUFJYSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxVQUFVRixTQUFTLElBQUksQ0FBQ0csWUFBWSxHQUFHZixLQUFLLElBQUksQ0FBQzlCLE9BQU8sR0FBRyxDQUFDLG1GQUFtRixFQUFFOEIsSUFBSSxDQUFDO1FBQ2xOLE9BQ0UsSUFBSSxDQUFDOUIsT0FBTyxHQUFHLENBQUMsc0dBQXNHLEVBQUU4QixJQUFJLENBQUM7SUFDakk7QUFDRjtBQUNBLE1BQU1nQixZQUFZO0lBQ2hCQyxZQUFZLENBQUNsRDtRQUNYLElBQUlBLElBQUlJLFVBQVUsSUFBSSxLQUNwQixNQUFNLElBQUlHLFlBQVlQO1FBQ3hCLElBQUlBLElBQUlJLFVBQVUsSUFBSSxLQUNwQixNQUFNLElBQUlQLFlBQVlHO1FBQ3hCLE9BQU9BO0lBQ1Q7QUFDRjtBQUNBLFNBQVNtRDtJQUNQLE1BQU1DLE9BQU8sQ0FBQztJQUNkLE9BQU87UUFDTEYsWUFBWSxDQUFDbEQ7WUFDWCxNQUFNcUQsT0FBT3JELElBQUlrQyxPQUFPLENBQUMsbUJBQW1CLEVBQUVvQixXQUFXekIsTUFBTUMsT0FBTyxDQUFDdUIsUUFBUUEsT0FBTztnQkFBQ0E7YUFBSztZQUM1RixLQUFLLE1BQU1FLE9BQU9ELFNBQ2hCLENBQUNDLE9BQU9ILElBQUksQ0FBQ0csSUFBSSxJQUFLSCxDQUFBQSxJQUFJLENBQUNHLElBQUksR0FBRyxDQUFDLEdBQUdDLFFBQVFILElBQUksQ0FBQ0UsSUFBRztZQUN4RCxPQUFPdkQ7UUFDVDtJQUNGO0FBQ0Y7QUFDQSxTQUFTeUQsa0JBQWtCQyxjQUFjO0lBQ3ZDLE9BQU8zRiw2Q0FBS0EsQ0FBQztRQUNYRyx3REFBS0EsQ0FBQztZQUFFeUY7UUFBWTtXQUNqQkQ7UUFDSFA7UUFDQWhGLDhEQUFXQTtRQUNYQywrREFBWUE7UUFDWkMsMkRBQVFBO1FBQ1I0RTtRQUNBM0UsNkRBQVVBLENBQUM7WUFBRXNGLGdCQUFnQnJGLDhNQUFVQTtRQUFDO0tBQ3pDO0FBQ0g7QUFDQSxTQUFTb0YsWUFBWUUsR0FBRyxFQUFFQyxPQUFPLEVBQUVDLE9BQU87SUFDeEMsSUFBSUEsUUFBUUMsVUFBVSxLQUFLLEdBQUcsT0FBTyxDQUFDO0lBQ3RDLE1BQU1DLFNBQVNGLFFBQVEvQixNQUFNLEtBQUssU0FBUytCLFFBQVEvQixNQUFNLEtBQUssUUFBUWtDLFdBQVcsQ0FBQ0gsUUFBUUksR0FBRyxJQUFJSixRQUFROUIsR0FBRyxFQUFFbUMsVUFBVSxDQUFDLGdCQUFnQkMsc0JBQXNCUixJQUFJcEQsUUFBUSxJQUFLb0QsQ0FBQUEsSUFBSXBELFFBQVEsQ0FBQ0wsVUFBVSxLQUFLLE9BQU95RCxJQUFJcEQsUUFBUSxDQUFDTCxVQUFVLEtBQUssT0FBT3lELElBQUlwRCxRQUFRLENBQUNMLFVBQVUsS0FBSyxHQUFFO0lBQ3BSLE9BQU8sQ0FBQzZELFVBQVVDLFFBQU8sS0FBTUcsc0JBQXNCLENBQUMsSUFBSW5HLG9EQUFLQSxDQUFDeUYsV0FBVyxDQUFDRSxLQUFLQyxTQUFTQztBQUM1RjtBQUNBLE1BQU1PLFdBQVc7QUFDakIsU0FBU0MsZ0JBQWdCQyxJQUFJO0lBQzNCLE9BQU9GLFdBQVdFO0FBQ3BCO0FBQ0EsTUFBTUMsb0JBQW9CO0lBQUM7SUFBUztDQUFPLEVBQUVDLHlCQUF5QjtJQUFDO0lBQVU7SUFBUztDQUFVLEVBQUVDLFVBQVUsQ0FBQ2pDO0lBQy9HLElBQUksQ0FBQyxxREFBcURrQyxJQUFJLENBQUNsQyxPQUM3RCxNQUFNLElBQUk1QyxNQUNSO0FBRU4sR0FBRzBDLFlBQVksQ0FBQ3FDO0lBQ2QsSUFBSSxDQUFDLGdCQUFnQkQsSUFBSSxDQUFDQyxLQUN4QixNQUFNLElBQUkvRSxNQUFNO0FBQ3BCLEdBQUdnRixvQkFBb0IsQ0FBQ25EO0lBQ3RCLElBQUk4QyxrQkFBa0JyQyxPQUFPLENBQUNULFVBQVUsQ0FBQyxHQUN2QyxNQUFNLElBQUk3QixNQUFNLENBQUMsb0JBQW9CLEVBQUU2QixLQUFLLGlCQUFpQixFQUFFOEMsa0JBQWtCakQsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUNqRyxHQUFHdUQsaUJBQWlCLENBQUNDLElBQUlDO0lBQ3ZCLElBQUlBLFFBQVEsUUFBUSxPQUFPQSxPQUFPLFlBQVlwRCxNQUFNQyxPQUFPLENBQUNtRCxNQUMxRCxNQUFNLElBQUluRixNQUFNLENBQUMsRUFBRWtGLEdBQUcsZ0NBQWdDLENBQUM7QUFDM0QsR0FBR0UscUJBQXFCLENBQUNGLElBQUlIO0lBQzNCLElBQUksT0FBT0EsTUFBTSxZQUFZLENBQUMsaUNBQWlDRCxJQUFJLENBQUNDLE9BQU9BLEdBQUdNLFFBQVEsQ0FBQyxPQUNyRixNQUFNLElBQUlyRixNQUFNLENBQUMsRUFBRWtGLEdBQUcsS0FBSyxFQUFFSCxHQUFHLDRCQUE0QixDQUFDO0FBQ2pFLEdBQUdPLG9CQUFvQixDQUFDSixJQUFJSztJQUMxQixJQUFJLENBQUNBLElBQUlDLEdBQUcsRUFDVixNQUFNLElBQUl4RixNQUFNLENBQUMsRUFBRWtGLEdBQUcsNkRBQTZELENBQUM7SUFDdEZFLG1CQUFtQkYsSUFBSUssSUFBSUMsR0FBRztBQUNoQyxHQUFHQyxpQkFBaUIsQ0FBQ0MsSUFBSUMsVUFBVXhFO0lBQ2pDLE1BQU15RSxZQUFZO0lBQ2xCLElBQUloQix1QkFBdUJ0QyxPQUFPLENBQUNvRCxRQUFRLENBQUMsR0FBRztRQUM3QyxNQUFNRyxRQUFRakIsdUJBQXVCaEYsR0FBRyxDQUFDLENBQUNrRyxNQUFRLENBQUMsQ0FBQyxFQUFFQSxJQUFJLENBQUMsQ0FBQyxFQUFFcEUsSUFBSSxDQUFDO1FBQ25FLE1BQU0sSUFBSTFCLE1BQU0sQ0FBQyxFQUFFNEYsVUFBVSx5Q0FBeUMsRUFBRUMsTUFBTSxDQUFDO0lBQ2pGO0lBQ0EsSUFBSSxPQUFPRixZQUFZLFVBQ3JCLE1BQU0sSUFBSTNGLE1BQU0sQ0FBQyxFQUFFNEYsVUFBVSxtREFBbUQsQ0FBQztJQUNuRixJQUFJLENBQUM3RCxNQUFNQyxPQUFPLENBQUNiLFFBQ2pCLE1BQU0sSUFBSW5CLE1BQU0sQ0FBQyxFQUFFNEYsVUFBVSxpREFBaUQsQ0FBQztBQUNuRixHQUFHRyxhQUFhLENBQUNDO0lBQ2YsSUFBSSxDQUFDQSxPQUFPbkIsT0FBTyxFQUNqQixNQUFNLElBQUk3RSxNQUFNO0lBQ2xCLE9BQU9nRyxPQUFPbkIsT0FBTyxJQUFJO0FBQzNCLEdBQUdvQixhQUFhLENBQUNDO0lBQ2YsSUFBSSxPQUFPQSxPQUFPLFlBQVksQ0FBQyx1QkFBdUJwQixJQUFJLENBQUNvQixNQUN6RCxNQUFNLElBQUlsRyxNQUNSO0lBRUosT0FBT2tHO0FBQ1QsR0FBR0MsaUJBQWlCLENBQUNIO0lBQ25CLElBQUksQ0FBQ0EsTUFBTSxDQUFDLHlCQUF5QixFQUNuQyxNQUFNLElBQUloRyxNQUFNO0lBQ2xCLE1BQU0sRUFBRTZCLElBQUksRUFBRWtELEVBQUUsRUFBRSxHQUFHaUIsTUFBTSxDQUFDLHlCQUF5QjtJQUNyRCxPQUFRbkU7UUFDTixLQUFLO1lBQVc7Z0JBQ2QsSUFBSWtELEdBQUdxQixLQUFLLENBQUMsS0FBSzNFLE1BQU0sS0FBSyxHQUMzQixNQUFNLElBQUl6QixNQUFNO2dCQUNsQjtZQUNGO1FBQ0EsS0FBSztRQUNMLEtBQUs7UUFDTCxLQUFLO1lBQ0g7UUFDRjtZQUNFLE1BQU0sSUFBSUEsTUFBTSxDQUFDLDJCQUEyQixFQUFFNkIsS0FBS3dFLFFBQVEsR0FBRyxDQUFDO0lBQ25FO0FBQ0YsR0FBR0MsZ0JBQWdCLENBQUNDLFNBQVNQO0lBQzNCLElBQUlBLE1BQU0sQ0FBQyx5QkFBeUIsRUFDbEMsTUFBTSxJQUFJaEcsTUFBTSxDQUFDLEVBQUUsRUFBRXVHLFFBQVEsNkNBQTZDLENBQUM7QUFDL0U7QUFDQSxTQUFTQyxLQUFLQyxFQUFFO0lBQ2QsSUFBSUMsVUFBVSxDQUFDLEdBQUdDO0lBQ2xCLE9BQU8sQ0FBQyxHQUFHQyxPQUFVRixDQUFBQSxXQUFZQyxDQUFBQSxjQUFjRixNQUFNRyxPQUFPRixVQUFVLENBQUMsSUFBSUMsV0FBVTtBQUN2RjtBQUNBLE1BQU1FLHVCQUF1QixDQUFDeEcsVUFDNUIsc0NBQXNDO0lBQ3RDbUcsS0FBSyxDQUFDLEdBQUdJLE9BQVNsRCxRQUFRSCxJQUFJLENBQUNsRCxRQUFRcUIsSUFBSSxDQUFDLFNBQVNrRixRQUNwREUsb0NBQW9DRCxxQkFBcUI7SUFDMUQ7SUFDQTtDQUNELEdBQUdFLGtCQUFrQkYscUJBQXFCO0lBQ3pDO0lBQ0E7SUFDQTtDQUNELEdBQUdHLCtCQUErQkgscUJBQXFCO0lBQ3REO0lBQ0E7Q0FDRCxHQUFHSSx1Q0FBdUNKLHFCQUFxQjtJQUM5RDtDQUNELEdBQUdLLDJCQUEyQkwscUJBQXFCO0lBQ2xEO0lBQ0EsQ0FBQyxJQUFJLEVBQUVwQyxnQkFDTCwyQkFDQSxtREFBbUQsQ0FBQztDQUN2RCxHQUFHMEMsZ0NBQWdDTixxQkFBcUI7SUFDdkQ7SUFDQTtDQUNELEdBQUdPLG9DQUFvQ1AscUJBQXFCO0lBQzNEO0lBQ0EsQ0FBQyxJQUFJLEVBQUVwQyxnQkFBZ0IseUJBQXlCLENBQUM7Q0FDbEQsR0FBRzRDLHVCQUF1QlIscUJBQXFCO0lBQzlDO0NBQ0QsR0FBR1MsaUJBQWlCLG9CQUFvQkMsZ0JBQWdCO0lBQ3ZEQyxTQUFTO0lBQ1RDLFlBQVk7SUFDWkMsb0JBQW9CLENBQUM7SUFDckJDLE9BQU87UUFBRUMsU0FBUyxDQUFDO0lBQUU7QUFDdkIsR0FBR0MsYUFBYTtJQUFDO0lBQWE7SUFBYTtDQUFVLEVBQUVDLFVBQVUsQ0FBQ0MsT0FBU0YsV0FBV3ZGLE9BQU8sQ0FBQ3lGLFVBQVUsQ0FBQztBQUN6RyxTQUFTQyxtQkFBbUJQLFVBQVU7SUFDcEMsSUFBSUEsZUFBZSxPQUFPQSxlQUFlLEtBQ3ZDO0lBQ0YsTUFBTVEsVUFBVSxJQUFJQyxLQUFLVDtJQUN6QixJQUFJLENBQUUsdUJBQXNCM0MsSUFBSSxDQUFDMkMsZUFBZVEsbUJBQW1CQyxRQUFRRCxRQUFRRSxPQUFPLEtBQUssSUFDN0YsTUFBTSxJQUFJbkksTUFBTTtBQUNwQjtBQUNBLFNBQVNvSSx1QkFBdUJDLFdBQVc7SUFDekMsSUFBSXRHLE1BQU1DLE9BQU8sQ0FBQ3FHLGdCQUFnQkEsWUFBWTVHLE1BQU0sR0FBRyxLQUFLNEcsWUFBWWhELFFBQVEsQ0FBQyxRQUMvRSxNQUFNLElBQUlpRCxVQUNSO0FBRU47QUFDQSxNQUFNQyxhQUFhLENBQUN2QyxRQUFRd0M7SUFDMUIsTUFBTUMsa0JBQWtCO1FBQ3RCLEdBQUdELFVBQVU7UUFDYixHQUFHeEMsTUFBTTtRQUNUMkIsT0FBTztZQUNMLEdBQUcsT0FBT2EsV0FBV2IsS0FBSyxJQUFJLFlBQVk7Z0JBQUVDLFNBQVNZLFdBQVdiLEtBQUs7WUFBQyxJQUFJYSxXQUFXYixLQUFLLElBQUlKLGNBQWNJLEtBQUs7WUFDakgsR0FBRyxPQUFPM0IsT0FBTzJCLEtBQUssSUFBSSxZQUFZO2dCQUFFQyxTQUFTNUIsT0FBTzJCLEtBQUs7WUFBQyxJQUFJM0IsT0FBTzJCLEtBQUssSUFBSSxDQUFDLENBQUM7UUFDdEY7SUFDRjtJQUNBYyxnQkFBZ0JoQixVQUFVLElBQUlMO0lBQzlCLE1BQU1zQixZQUFZO1FBQ2hCLEdBQUduQixhQUFhO1FBQ2hCLEdBQUdrQixlQUFlO0lBQ3BCLEdBQUdFLGVBQWVELFVBQVVoQixrQkFBa0IsSUFBSSxDQUFDZ0IsU0FBUyxDQUFDLHlCQUF5QjtJQUN0RixJQUFJLE9BQU9FLFVBQVUsS0FBSztRQUN4QixNQUFNQyxVQUFVcEUsZ0JBQWdCO1FBQ2hDLE1BQU0sSUFBSXpFLE1BQU0sQ0FBQyw4REFBOEQsRUFBRTZJLFFBQVEsQ0FBQztJQUM1RjtJQUNBLElBQUlGLGdCQUFnQixDQUFDRCxVQUFVaEcsU0FBUyxFQUN0QyxNQUFNLElBQUkxQyxNQUFNO0lBQ2xCLElBQUkwSSxTQUFTLENBQUMseUJBQXlCLElBQUl2QyxlQUFldUMsWUFBWSxPQUFPQSxVQUFVTCxXQUFXLEdBQUcsT0FBT0QsdUJBQXVCTSxVQUFVTCxXQUFXLEdBQUcscUJBQXFCSyxXQUM5SyxNQUFNLElBQUkxSSxNQUNSO0lBRUosSUFBSSwyQkFBMkIwSSxXQUM3QixNQUFNLElBQUkxSSxNQUNSO0lBRUosSUFBSSxPQUFPMEksVUFBVWYsS0FBSyxDQUFDQyxPQUFPLElBQUksV0FDcEMsTUFBTSxJQUFJNUgsTUFBTSxDQUFDLDBDQUEwQyxFQUFFMEksVUFBVWYsS0FBSyxDQUFDQyxPQUFPLENBQUMsQ0FBQztJQUN4RixJQUFJYyxVQUFVZixLQUFLLENBQUNDLE9BQU8sSUFBSWMsVUFBVWYsS0FBSyxDQUFDbUIsU0FBUyxLQUFLLEtBQUssR0FDaEUsTUFBTSxJQUFJOUksTUFBTTtJQUNsQixJQUFJMEksVUFBVWYsS0FBSyxDQUFDQyxPQUFPLElBQUksT0FBT2MsVUFBVWYsS0FBSyxDQUFDbUIsU0FBUyxJQUFJLFlBQVksT0FBT0osVUFBVWYsS0FBSyxDQUFDbUIsU0FBUyxJQUFJLFlBQ2pILE1BQU0sSUFBSTlJLE1BQ1IsQ0FBQyx5REFBeUQsRUFBRTBJLFVBQVVmLEtBQUssQ0FBQ21CLFNBQVMsQ0FBQyxDQUFDO0lBRTNGLE1BQU1DLFlBQVksTUFBc0MsSUFBSUMsQ0FBd0IsRUFBRUUsY0FBY0gsYUFBYWpCLFFBQVFrQixPQUFPbEcsUUFBUSxDQUFDbUcsUUFBUSxHQUFHRSxXQUFXLENBQUMsQ0FBQ1QsVUFBVVUsS0FBSztJQUNoTFYsVUFBVVcsZUFBZSxJQUFJRixZQUFhaEMsQ0FBQUEsaUNBQWlDdUIsVUFBVVcsZUFBZSxHQUFHLENBQUMsSUFBSU4sYUFBYUcsZUFBZUMsWUFBWVQsVUFBVVkseUJBQXlCLEtBQUssQ0FBQyxJQUFJcEMsNkJBQTZCLE9BQU93QixVQUFVYSxNQUFNLEdBQUcsT0FBT3hDLG1CQUFtQjRCLGdCQUFnQmpHLFVBQVVnRyxVQUFVaEcsU0FBUyxHQUFHZ0csVUFBVTdELE9BQU8sSUFBSUEsUUFBUTZELFVBQVU3RCxPQUFPLEdBQUcsc0JBQXNCNkQsYUFBY0EsQ0FBQUEsVUFBVWMsZ0JBQWdCLEdBQUdkLFVBQVVjLGdCQUFnQixHQUFHdkQsV0FBV3lDLFVBQVVjLGdCQUFnQixFQUFFQyxPQUFPLENBQUMsUUFBUSxNQUFNLEtBQUssSUFBSWYsVUFBVWpCLFVBQVUsR0FBRyxDQUFDLEVBQUVpQixVQUFVakIsVUFBVSxDQUFDLENBQUMsQ0FBQ2dDLE9BQU8sQ0FBQyxNQUFNLEtBQUtmLFVBQVVnQixZQUFZLEdBQUdoQixVQUFVbEIsT0FBTyxLQUFLRCxjQUFjQyxPQUFPLEVBQUVrQixVQUFVYSxNQUFNLEtBQUssQ0FBQyxLQUFLYixVQUFVVyxlQUFlLElBQUl2QyxxQ0FBcUM0QixVQUFVYSxNQUFNLEdBQUdiLFVBQVVhLE1BQU0sS0FBSyxDQUFDLEtBQUssQ0FBQ2IsVUFBVVcsZUFBZSxFQUFFckIsbUJBQW1CVSxVQUFVakIsVUFBVTtJQUMvMkIsTUFBTWtDLFlBQVlqQixVQUFVbEIsT0FBTyxDQUFDcEIsS0FBSyxDQUFDLE9BQU8sSUFBSXdELFdBQVdELFNBQVMsQ0FBQyxFQUFFLEVBQUU1QixPQUFPNEIsU0FBUyxDQUFDLEVBQUUsRUFBRUUsVUFBVW5CLFVBQVVnQixZQUFZLEdBQUdwQyxpQkFBaUJTO0lBQ3ZKLE9BQU9ZLGVBQWdCRCxDQUFBQSxVQUFVdkcsR0FBRyxHQUFHLENBQUMsRUFBRXlILFNBQVMsR0FBRyxFQUFFbEIsVUFBVWhHLFNBQVMsQ0FBQyxDQUFDLEVBQUVxRixLQUFLLEVBQUUsRUFBRVcsVUFBVWpCLFVBQVUsQ0FBQyxDQUFDLEVBQUVpQixVQUFVb0IsTUFBTSxHQUFHLENBQUMsRUFBRUYsU0FBUyxHQUFHLEVBQUVsQixVQUFVaEcsU0FBUyxDQUFDLENBQUMsRUFBRW1ILFFBQVEsRUFBRSxFQUFFbkIsVUFBVWpCLFVBQVUsQ0FBQyxDQUFDLElBQUtpQixDQUFBQSxVQUFVdkcsR0FBRyxHQUFHLENBQUMsRUFBRXVHLFVBQVVsQixPQUFPLENBQUMsRUFBRSxFQUFFa0IsVUFBVWpCLFVBQVUsQ0FBQyxDQUFDLEVBQUVpQixVQUFVb0IsTUFBTSxHQUFHcEIsVUFBVXZHLEdBQUcsR0FBR3VHO0FBQ3hUO0FBQ0EsTUFBTXFCLDhCQUE4Qi9KOzs7YUFDbEM0QyxPQUFPOztBQUNUO0FBQ0EsTUFBTW9ILHdCQUF3QmhLO0lBRzVCQyxZQUFZSSxPQUFPLEVBQUU0SixNQUFNLEVBQUVoRyxVQUFVLENBQUMsQ0FBQyxDQUFFOztRQUN6QyxhQUFLLENBQUM1RCxTQUFTNEQsZUFIakJyQixPQUFPLDBCQUdvQixJQUFJLENBQUNxSCxNQUFNLEdBQUdBO0lBQ3pDO0FBQ0Y7QUFDQSxNQUFNQyxxQkFBcUJsSztJQUd6QkMsWUFBWUksT0FBTyxFQUFFOEosSUFBSSxDQUFFOztRQUN6QixhQUFLLENBQUM5SixlQUhSdUMsT0FBTyx1QkFHVyxJQUFJLENBQUN1SCxJQUFJLEdBQUdBO0lBQzlCO0FBQ0Y7QUFDQSxNQUFNQyxxQkFBcUJwSztJQUd6QkMsWUFBWUksT0FBTyxFQUFFOEosSUFBSSxFQUFFbEcsVUFBVSxDQUFDLENBQUMsQ0FBRTs7UUFDdkMsYUFBSyxDQUFDNUQsU0FBUzRELGVBSGpCckIsT0FBTyx1QkFHb0IsSUFBSSxDQUFDdUgsSUFBSSxHQUFHQTtJQUN2QztBQUNGO0FBQ0EsTUFBTUUsMEJBQTBCcks7OzthQUM5QjRDLE9BQU87O0FBQ1Q7QUFDQSxNQUFNMEgsa0JBQWtCO0lBQUM7SUFBZ0I7Q0FBYTtBQUN0RCxTQUFTQyxtQkFBbUJDLGVBQWUsRUFBRUMsTUFBTTtJQUNqRCxPQUFPL0wsNk1BQUtBLENBQUM7UUFDWCxNQUFNZ00sS0FBS0Y7UUFDWCxPQUFPNUwsb05BQVlBLENBQUM4TCxNQUFNQSxLQUFLL0wsME1BQUVBLENBQUMrTDtJQUNwQyxHQUFHQyxJQUFJLENBQUM5TCxnTkFBUUEsQ0FBQyxDQUFDNkwsS0FBT0Usc0JBQXNCRixJQUFJRDtBQUNyRDtBQUNBLFNBQVNHLHNCQUFzQkYsRUFBRSxFQUFFRCxNQUFNO0lBQ3ZDLE9BQU8sSUFBSWhNLDhNQUFVQSxDQUFDLENBQUNvTTtRQUNyQixNQUFNQyxXQUFXTCxPQUFPcEYsUUFBUSxDQUFDLFNBQVMwRixnQkFBZ0JOLE9BQU9wRixRQUFRLENBQUM7UUFDMUUsU0FBUzJGLFFBQVFDLEdBQUc7WUFDbEIsSUFBSSxVQUFVQSxLQUFLO2dCQUNqQixNQUFNLENBQUNDLFlBQVlDLE1BQU0sR0FBR0MsV0FBV0g7Z0JBQ3ZDSixTQUFTOUosS0FBSyxDQUNabUssYUFBYSxJQUFJYixrQkFBa0IsNkNBQTZDO29CQUFFZ0IsT0FBT0Y7Z0JBQU0sS0FBSyxJQUFJZixhQUFhLENBQUNlLE9BQU9oQixJQUFHLEVBQUc5SixPQUFPLEVBQUU4SztnQkFFOUk7WUFDRjtZQUNBVCxHQUFHWSxVQUFVLEtBQUtaLEdBQUdhLE1BQU0sR0FBR1YsU0FBUzlKLEtBQUssQ0FBQyxJQUFJZ0osc0JBQXNCLG9DQUFvQ2dCLGlCQUFpQkYsU0FBU1csSUFBSSxDQUFDO2dCQUFFM0osTUFBTTtZQUFZO1FBQ2hLO1FBQ0EsU0FBUzRKO1lBQ1BaLFNBQVNXLElBQUksQ0FBQztnQkFBRTNKLE1BQU07WUFBTztRQUMvQjtRQUNBLFNBQVM2SixVQUFVckwsT0FBTztZQUN4QixNQUFNLENBQUM2SyxZQUFZQyxNQUFNLEdBQUdDLFdBQVcvSztZQUN2QyxJQUFJNkssWUFBWTtnQkFDZEwsU0FBUzlKLEtBQUssQ0FDWixJQUFJc0osa0JBQWtCLHVDQUF1QztvQkFBRWdCLE9BQU9IO2dCQUFXO2dCQUVuRjtZQUNGO1lBQ0EsSUFBSTdLLFFBQVF3QixJQUFJLEtBQUssZ0JBQWdCO2dCQUNuQ2dKLFNBQVM5SixLQUFLLENBQUMsSUFBSW1KLGFBQWF5QixvQkFBb0JSLE9BQU9oQixPQUFPZ0IsTUFBTWhCLElBQUk7Z0JBQzVFO1lBQ0Y7WUFDQSxJQUFJOUosUUFBUXdCLElBQUksS0FBSyxjQUFjO2dCQUNqQ2dKLFNBQVM5SixLQUFLLENBQ1osSUFBSWlKLGdCQUNGLENBQUMsNEJBQTRCLEVBQUVtQixNQUFNaEIsSUFBSSxFQUFFRixVQUFVLGdCQUFnQixDQUFDO2dCQUcxRTtZQUNGO1lBQ0FZLFNBQVNXLElBQUksQ0FBQztnQkFDWjNKLE1BQU14QixRQUFRd0IsSUFBSTtnQkFDbEJrRCxJQUFJMUUsUUFBUXVMLFdBQVc7Z0JBQ3ZCLEdBQUdULE1BQU1oQixJQUFJLEdBQUc7b0JBQUVBLE1BQU1nQixNQUFNaEIsSUFBSTtnQkFBQyxJQUFJLENBQUMsQ0FBQztZQUMzQztRQUNGO1FBQ0FPLEdBQUdtQixnQkFBZ0IsQ0FBQyxTQUFTYixVQUFVRixZQUFZSixHQUFHbUIsZ0JBQWdCLENBQUMsUUFBUUo7UUFDL0UsTUFBTUssZ0JBQWdCO2VBQUksYUFBYSxHQUFHLElBQUlDLElBQUk7bUJBQUl6QjttQkFBb0JHO2FBQU87U0FBRSxDQUFDNUssTUFBTSxDQUFDLENBQUNnQyxPQUFTQSxTQUFTLFdBQVdBLFNBQVMsVUFBVUEsU0FBUztRQUNySixPQUFPaUssY0FBY0UsT0FBTyxDQUFDLENBQUNuSyxPQUFTNkksR0FBR21CLGdCQUFnQixDQUFDaEssTUFBTTZKLGFBQWE7WUFDNUVoQixHQUFHdUIsbUJBQW1CLENBQUMsU0FBU2pCLFVBQVVGLFlBQVlKLEdBQUd1QixtQkFBbUIsQ0FBQyxRQUFRUixTQUFTSyxjQUFjRSxPQUFPLENBQUMsQ0FBQ25LLE9BQVM2SSxHQUFHdUIsbUJBQW1CLENBQUNwSyxNQUFNNkosYUFBYWhCLEdBQUd3QixLQUFLO1FBQ2xMO0lBQ0Y7QUFDRjtBQUNBLFNBQVNkLFdBQVcvSyxPQUFPO0lBQ3pCLElBQUk7UUFDRixNQUFNOEosT0FBTyxPQUFPOUosUUFBUThKLElBQUksSUFBSSxZQUFZNUgsS0FBSzRKLEtBQUssQ0FBQzlMLFFBQVE4SixJQUFJO1FBQ3ZFLE9BQU87WUFDTDtZQUNBO2dCQUNFdEksTUFBTXhCLFFBQVF3QixJQUFJO2dCQUNsQmtELElBQUkxRSxRQUFRdUwsV0FBVztnQkFDdkIsR0FBR1EsY0FBY2pDLFFBQVEsQ0FBQyxJQUFJO29CQUFFQTtnQkFBSyxDQUFDO1lBQ3hDO1NBQ0Q7SUFDSCxFQUFFLE9BQU9wRyxLQUFLO1FBQ1osT0FBTztZQUFDQTtZQUFLO1NBQUs7SUFDcEI7QUFDRjtBQUNBLFNBQVM0SCxvQkFBb0I1SCxHQUFHO0lBQzlCLE9BQU9BLElBQUloRCxLQUFLLEdBQUdnRCxJQUFJaEQsS0FBSyxDQUFDTyxXQUFXLEdBQUd5QyxJQUFJaEQsS0FBSyxDQUFDTyxXQUFXLEdBQUcsT0FBT3lDLElBQUloRCxLQUFLLElBQUksV0FBV2dELElBQUloRCxLQUFLLEdBQUd3QixLQUFLQyxTQUFTLENBQUN1QixJQUFJaEQsS0FBSyxFQUFFLE1BQU0sS0FBS2dELElBQUkxRCxPQUFPLElBQUk7QUFDcEs7QUFDQSxTQUFTK0wsY0FBY2pDLElBQUk7SUFDekIsSUFBSyxNQUFNa0MsS0FBS2xDLEtBQ2QsT0FBTyxDQUFDO0lBQ1YsT0FBTyxDQUFDO0FBQ1Y7QUFDQSxTQUFTbUMsYUFBYUMsR0FBRztJQUN2QixJQUFJLE9BQU9BLE9BQU8sVUFDaEIsT0FBTztRQUFFeEgsSUFBSXdIO0lBQUk7SUFDbkIsSUFBSXhLLE1BQU1DLE9BQU8sQ0FBQ3VLLE1BQ2hCLE9BQU87UUFBRUMsT0FBTztRQUFrQkMsUUFBUTtZQUFFQyxLQUFLSDtRQUFJO0lBQUU7SUFDekQsSUFBSSxPQUFPQSxPQUFPLFlBQVlBLFFBQVEsUUFBUSxXQUFXQSxPQUFPLE9BQU9BLElBQUlDLEtBQUssSUFBSSxVQUNsRixPQUFPLFlBQVlELE9BQU8sT0FBT0EsSUFBSUUsTUFBTSxJQUFJLFlBQVlGLElBQUlFLE1BQU0sS0FBSyxPQUFPO1FBQUVELE9BQU9ELElBQUlDLEtBQUs7UUFBRUMsUUFBUUYsSUFBSUUsTUFBTTtJQUFDLElBQUk7UUFBRUQsT0FBT0QsSUFBSUMsS0FBSztJQUFDO0lBQ2pKLE1BQU1HLGdCQUFnQjtRQUNwQjtRQUNBO1FBQ0E7S0FDRCxDQUFDakwsSUFBSSxDQUFDLENBQUM7QUFDVixDQUFDO0lBQ0MsTUFBTSxJQUFJMUIsTUFBTSxDQUFDOztBQUVuQixFQUFFMk0sY0FBYyxDQUFDO0FBQ2pCO0FBQ0EsTUFBTUM7SUFHSjNNLFlBQVk0TSxTQUFTLEVBQUVDLGFBQWEsQ0FBQyxDQUFDLENBQUU7UUFDdEMsSUFBSSxDQUFDRCxTQUFTLEdBQUdBLFdBQVcsSUFBSSxDQUFDQyxVQUFVLEdBQUdBO0lBQ2hEO0lBQ0E7Ozs7O0dBS0MsR0FDRDdKLElBQUk4SixLQUFLLEVBQUU7UUFDVCxPQUFPLElBQUksQ0FBQ0MsT0FBTyxDQUFDLE9BQU9EO0lBQzdCO0lBQ0E7Ozs7O0dBS0MsR0FDREUsYUFBYUYsS0FBSyxFQUFFO1FBQ2xCLE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUMsZ0JBQWdCRDtJQUN0QztJQUNBOzs7OztHQUtDLEdBQ0RHLGVBQWVILEtBQUssRUFBRTtRQUNwQixPQUFPOUgsZUFBZSxrQkFBa0I4SCxRQUFRLElBQUksQ0FBQ0MsT0FBTyxDQUFDLGtCQUFrQkQ7SUFDakY7SUFDQTs7Ozs7R0FLQyxHQUNESSxNQUFNSixLQUFLLEVBQUU7UUFDWCxJQUFJLENBQUNoTCxNQUFNQyxPQUFPLENBQUMrSyxRQUNqQixNQUFNLElBQUkvTSxNQUFNO1FBQ2xCLE9BQU8sSUFBSSxDQUFDOE0sVUFBVSxHQUFHdk0sT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUNzTSxVQUFVLEVBQUU7WUFBRUssT0FBT0o7UUFBTSxJQUFJLElBQUk7SUFDckY7SUFDQTs7OztHQUlDLEdBQ0RLLElBQUlMLEtBQUssRUFBRTtRQUNULE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUMsT0FBT0Q7SUFDN0I7SUFDQTs7OztHQUlDLEdBQ0RNLElBQUlOLEtBQUssRUFBRTtRQUNULE9BQU8sSUFBSSxDQUFDQyxPQUFPLENBQUMsT0FBT0Q7SUFDN0I7SUFDQTs7Ozs7O0dBTUMsR0FDRE8sT0FBTzVILEVBQUUsRUFBRUMsUUFBUSxFQUFFeEUsS0FBSyxFQUFFO1FBQzFCLE9BQU9zRSxlQUFlQyxJQUFJQyxVQUFVeEUsUUFBUSxJQUFJLENBQUM2TCxPQUFPLENBQUMsVUFBVTtZQUFFLENBQUN0SCxHQUFHLEVBQUVDO1lBQVV4RTtRQUFNO0lBQzdGO0lBQ0E7Ozs7O0dBS0MsR0FDRG9NLE9BQU81SCxRQUFRLEVBQUV4RSxLQUFLLEVBQUU7UUFDdEIsT0FBTyxJQUFJLENBQUNtTSxNQUFNLENBQUMsU0FBUyxDQUFDLEVBQUUzSCxTQUFTLElBQUksQ0FBQyxFQUFFeEU7SUFDakQ7SUFDQTs7Ozs7R0FLQyxHQUNEcU0sUUFBUTdILFFBQVEsRUFBRXhFLEtBQUssRUFBRTtRQUN2QixPQUFPLElBQUksQ0FBQ21NLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTNILFNBQVMsR0FBRyxDQUFDLEVBQUV4RTtJQUNqRDtJQUNBOzs7Ozs7O0dBT0MsR0FDRHNNLE9BQU85SCxRQUFRLEVBQUUrSCxLQUFLLEVBQUVDLFdBQVcsRUFBRXhNLEtBQUssRUFBRTtRQUMxQyxNQUFNeU0sU0FBUyxPQUFPRCxjQUFjLE9BQU9BLGdCQUFnQixDQUFDLEdBQUdFLGFBQWFILFFBQVEsSUFBSUEsUUFBUSxJQUFJQSxPQUFPSSxXQUFXRixTQUFTLENBQUMsSUFBSUcsS0FBS0MsR0FBRyxDQUFDLEdBQUdOLFFBQVFDLGNBQWNNLFdBQVdKLGFBQWEsS0FBS0MsWUFBWSxJQUFJLEtBQUtBLFVBQVVJLGdCQUFnQixDQUFDLEVBQUV2SSxTQUFTLENBQUMsRUFBRWtJLFdBQVcsQ0FBQyxFQUFFSSxTQUFTLENBQUMsQ0FBQztRQUMxUixPQUFPLElBQUksQ0FBQ1gsTUFBTSxDQUFDLFdBQVdZLGVBQWUvTSxTQUFTLEVBQUU7SUFDMUQ7SUFDQTs7OztHQUlDLEdBQ0RnTixhQUFhQyxHQUFHLEVBQUU7UUFDaEIsT0FBTyxJQUFJLENBQUN0QixVQUFVLENBQUN1QixZQUFZLEdBQUdELEtBQUssSUFBSTtJQUNqRDtJQUNBOztHQUVDLEdBQ0RFLFlBQVk7UUFDVixPQUFPO1lBQUUsR0FBR2hDLGFBQWEsSUFBSSxDQUFDTyxTQUFTLENBQUM7WUFBRSxHQUFHLElBQUksQ0FBQ0MsVUFBVTtRQUFDO0lBQy9EO0lBQ0E7O0dBRUMsR0FDRHlCLFNBQVM7UUFDUCxPQUFPLElBQUksQ0FBQ0QsU0FBUztJQUN2QjtJQUNBOztHQUVDLEdBQ0RFLFFBQVE7UUFDTixPQUFPLElBQUksQ0FBQzFCLFVBQVUsR0FBRyxDQUFDLEdBQUcsSUFBSTtJQUNuQztJQUNBRSxRQUFROUgsRUFBRSxFQUFFL0UsS0FBSyxFQUFFc08sU0FBUyxDQUFDLENBQUMsRUFBRTtRQUM5QixPQUFPeEosZUFBZUMsSUFBSS9FLFFBQVEsSUFBSSxDQUFDMk0sVUFBVSxHQUFHdk0sT0FBT0MsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUNzTSxVQUFVLEVBQUU7WUFDckYsQ0FBQzVILEdBQUcsRUFBRTNFLE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdpTyxVQUFVLElBQUksQ0FBQzNCLFVBQVUsQ0FBQzVILEdBQUcsSUFBSSxDQUFDLEdBQUcvRTtRQUMvRCxJQUFJLElBQUk7SUFDVjtJQUNBdU8sS0FBS3hKLEVBQUUsRUFBRS9FLEtBQUssRUFBRTtRQUNkLE9BQU8sSUFBSSxDQUFDNk0sT0FBTyxDQUFDOUgsSUFBSS9FLE9BQU8sQ0FBQztJQUNsQztBQUNGO0FBQ0EsTUFBTXdPLHdCQUF3Qi9CO0lBQzVCLENBQUNnQyxNQUFNLENBQUM7SUFDUjNPLFlBQVk0TSxTQUFTLEVBQUVDLFVBQVUsRUFBRThCLE1BQU0sQ0FBRTtRQUN6QyxLQUFLLENBQUMvQixXQUFXQyxhQUFhLElBQUksQ0FBQyxDQUFDOEIsTUFBTSxHQUFHQTtJQUMvQztJQUNBOztHQUVDLEdBQ0RDLFFBQVE7UUFDTixPQUFPLElBQUlGLGdCQUFnQixJQUFJLENBQUM5QixTQUFTLEVBQUU7WUFBRSxHQUFHLElBQUksQ0FBQ0MsVUFBVTtRQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM4QixNQUFNO0lBQ2pGO0lBQ0FFLE9BQU83SyxPQUFPLEVBQUU7UUFDZCxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMySyxNQUFNLEVBQ2YsTUFBTSxJQUFJNU8sTUFDUjtRQUVKLE1BQU0rTyxjQUFjLE9BQU8sSUFBSSxDQUFDbEMsU0FBUyxJQUFJLFVBQVVtQyxPQUFPek8sT0FBT0MsTUFBTSxDQUFDO1lBQUV1TztZQUFhRSxpQkFBaUIsQ0FBQztRQUFFLEdBQUdoTDtRQUNsSCxPQUFPLElBQUksQ0FBQyxDQUFDMkssTUFBTSxDQUFDTSxNQUFNLENBQUM7WUFBRUMsT0FBTyxJQUFJLENBQUNiLFNBQVM7UUFBRyxHQUFHVTtJQUMxRDtBQUNGO0FBQ0EsTUFBTUksY0FBY3hDO0lBQ2xCLENBQUNnQyxNQUFNLENBQUM7SUFDUjNPLFlBQVk0TSxTQUFTLEVBQUVDLFVBQVUsRUFBRThCLE1BQU0sQ0FBRTtRQUN6QyxLQUFLLENBQUMvQixXQUFXQyxhQUFhLElBQUksQ0FBQyxDQUFDOEIsTUFBTSxHQUFHQTtJQUMvQztJQUNBOztHQUVDLEdBQ0RDLFFBQVE7UUFDTixPQUFPLElBQUlPLE1BQU0sSUFBSSxDQUFDdkMsU0FBUyxFQUFFO1lBQUUsR0FBRyxJQUFJLENBQUNDLFVBQVU7UUFBQyxHQUFHLElBQUksQ0FBQyxDQUFDOEIsTUFBTTtJQUN2RTtJQUNBRSxPQUFPN0ssT0FBTyxFQUFFO1FBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDMkssTUFBTSxFQUNmLE1BQU0sSUFBSTVPLE1BQ1I7UUFFSixNQUFNK08sY0FBYyxPQUFPLElBQUksQ0FBQ2xDLFNBQVMsSUFBSSxVQUFVbUMsT0FBT3pPLE9BQU9DLE1BQU0sQ0FBQztZQUFFdU87WUFBYUUsaUJBQWlCLENBQUM7UUFBRSxHQUFHaEw7UUFDbEgsT0FBTyxJQUFJLENBQUMsQ0FBQzJLLE1BQU0sQ0FBQ00sTUFBTSxDQUFDO1lBQUVDLE9BQU8sSUFBSSxDQUFDYixTQUFTO1FBQUcsR0FBR1U7SUFDMUQ7QUFDRjtBQUNBLE1BQU1LLHVCQUF1QjtJQUFFSixpQkFBaUIsQ0FBQztBQUFFO0FBQ25ELE1BQU1LO0lBR0pyUCxZQUFZNk0sYUFBYSxFQUFFLEVBQUV5QyxhQUFhLENBQUU7UUFDMUMsSUFBSSxDQUFDekMsVUFBVSxHQUFHQSxZQUFZLElBQUksQ0FBQzBDLEtBQUssR0FBR0Q7SUFDN0M7SUFDQTs7Ozs7R0FLQyxHQUNERSxPQUFPbEssR0FBRyxFQUFFO1FBQ1YsT0FBT04sZUFBZSxVQUFVTSxNQUFNLElBQUksQ0FBQ21LLElBQUksQ0FBQztZQUFFRCxRQUFRbEs7UUFBSTtJQUNoRTtJQUNBOzs7OztHQUtDLEdBQ0RvSyxrQkFBa0JwSyxHQUFHLEVBQUU7UUFDckIsTUFBTUwsS0FBSztRQUNYLE9BQU9ELGVBQWVDLElBQUlLLE1BQU1ELGtCQUFrQkosSUFBSUssTUFBTSxJQUFJLENBQUNtSyxJQUFJLENBQUM7WUFBRSxDQUFDeEssR0FBRyxFQUFFSztRQUFJO0lBQ3BGO0lBQ0E7Ozs7O0dBS0MsR0FDRHFLLGdCQUFnQnJLLEdBQUcsRUFBRTtRQUNuQixNQUFNTCxLQUFLO1FBQ1gsT0FBT0QsZUFBZUMsSUFBSUssTUFBTUQsa0JBQWtCSixJQUFJSyxNQUFNLElBQUksQ0FBQ21LLElBQUksQ0FBQztZQUFFLENBQUN4SyxHQUFHLEVBQUVLO1FBQUk7SUFDcEY7SUFDQTs7Ozs7R0FLQyxHQUNEc0ssT0FBT0MsVUFBVSxFQUFFO1FBQ2pCLE9BQU8xSyxtQkFBbUIsVUFBVTBLLGFBQWEsSUFBSSxDQUFDSixJQUFJLENBQUM7WUFBRUcsUUFBUTtnQkFBRTlLLElBQUkrSztZQUFXO1FBQUU7SUFDMUY7SUFDQVAsY0FBY3hLLEVBQUUsRUFBRTtRQUNoQixPQUFPQSxLQUFNLEtBQUksQ0FBQ3lLLEtBQUssR0FBR3pLLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQ3lLLEtBQUs7SUFDbEQ7SUFDQTs7R0FFQyxHQUNEbEIsWUFBWTtRQUNWLE9BQU87ZUFBSSxJQUFJLENBQUN4QixVQUFVO1NBQUM7SUFDN0I7SUFDQTs7R0FFQyxHQUNEeUIsU0FBUztRQUNQLE9BQU8sSUFBSSxDQUFDRCxTQUFTO0lBQ3ZCO0lBQ0E7O0dBRUMsR0FDREUsUUFBUTtRQUNOLE9BQU8sSUFBSSxDQUFDMUIsVUFBVSxHQUFHLEVBQUUsRUFBRSxJQUFJO0lBQ25DO0lBQ0E0QyxLQUFLSyxHQUFHLEVBQUU7UUFDUixPQUFPLElBQUksQ0FBQ2pELFVBQVUsQ0FBQ2tELElBQUksQ0FBQ0QsTUFBTSxJQUFJO0lBQ3hDO0FBQ0Y7QUFDQSxNQUFNRSxvQkFBb0JYO0lBQ3hCLENBQUNWLE1BQU0sQ0FBQztJQUNSM08sWUFBWTZNLFVBQVUsRUFBRThCLE1BQU0sRUFBRVcsYUFBYSxDQUFFO1FBQzdDLEtBQUssQ0FBQ3pDLFlBQVl5QyxnQkFBZ0IsSUFBSSxDQUFDLENBQUNYLE1BQU0sR0FBR0E7SUFDbkQ7SUFDQTs7R0FFQyxHQUNEQyxRQUFRO1FBQ04sT0FBTyxJQUFJb0IsWUFBWTtlQUFJLElBQUksQ0FBQ25ELFVBQVU7U0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDOEIsTUFBTSxFQUFFLElBQUksQ0FBQ1ksS0FBSztJQUN2RTtJQUNBVixPQUFPN0ssT0FBTyxFQUFFO1FBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDMkssTUFBTSxFQUNmLE1BQU0sSUFBSTVPLE1BQ1I7UUFFSixPQUFPLElBQUksQ0FBQyxDQUFDNE8sTUFBTSxDQUFDTSxNQUFNLENBQ3hCLElBQUksQ0FBQ1osU0FBUyxJQUNkL04sT0FBT0MsTUFBTSxDQUFDO1lBQUUrTyxlQUFlLElBQUksQ0FBQ0MsS0FBSztRQUFDLEdBQUdILHNCQUFzQnBMLFdBQVcsQ0FBQztJQUVuRjtJQUNBa0wsTUFBTWUsaUJBQWlCLEVBQUVDLFFBQVEsRUFBRTtRQUNqQyxNQUFNQyxZQUFZLE9BQU9ELFlBQVksWUFBWUUsVUFBVSxPQUFPSCxxQkFBcUIsWUFBWUEsNkJBQTZCZCxPQUFPa0Isc0JBQXNCLE9BQU9KLHFCQUFxQixZQUFhLFlBQVdBLHFCQUFxQixRQUFRQSxpQkFBZ0I7UUFDOVAsSUFBSUcsU0FDRixPQUFPLElBQUksQ0FBQ1gsSUFBSSxDQUFDO1lBQUVQLE9BQU9lLGtCQUFrQjVCLFNBQVM7UUFBRztRQUMxRCxJQUFJOEIsV0FBVztZQUNiLE1BQU1qQixRQUFRZ0IsU0FBUyxJQUFJZixNQUFNYyxtQkFBbUIsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDdEIsTUFBTTtZQUNwRSxJQUFJLENBQUVPLENBQUFBLGlCQUFpQkMsS0FBSSxHQUN6QixNQUFNLElBQUlwUCxNQUFNO1lBQ2xCLE9BQU8sSUFBSSxDQUFDMFAsSUFBSSxDQUFDO2dCQUFFUCxPQUFPQSxNQUFNYixTQUFTO1lBQUc7UUFDOUM7UUFDQSxJQUFJZ0MscUJBQXFCO1lBQ3ZCLE1BQU1uQixRQUFRLElBQUlDLE1BQU1jLG1CQUFtQkMsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUN2QixNQUFNO1lBQ3ZFLE9BQU8sSUFBSSxDQUFDYyxJQUFJLENBQUM7Z0JBQUVQLE9BQU9BLE1BQU1iLFNBQVM7WUFBRztRQUM5QztRQUNBLE9BQU8sSUFBSSxDQUFDb0IsSUFBSSxDQUFDO1lBQUVQLE9BQU87Z0JBQUVwSyxJQUFJbUw7Z0JBQW1CLEdBQUdDLFFBQVE7WUFBQztRQUFFO0lBQ25FO0FBQ0Y7QUFDQSxNQUFNSSw4QkFBOEJqQjtJQUNsQyxDQUFDVixNQUFNLENBQUM7SUFDUjNPLFlBQVk2TSxVQUFVLEVBQUU4QixNQUFNLEVBQUVXLGFBQWEsQ0FBRTtRQUM3QyxLQUFLLENBQUN6QyxZQUFZeUMsZ0JBQWdCLElBQUksQ0FBQyxDQUFDWCxNQUFNLEdBQUdBO0lBQ25EO0lBQ0E7O0dBRUMsR0FDREMsUUFBUTtRQUNOLE9BQU8sSUFBSTBCLHNCQUFzQjtlQUFJLElBQUksQ0FBQ3pELFVBQVU7U0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDOEIsTUFBTSxFQUFFLElBQUksQ0FBQ1ksS0FBSztJQUNqRjtJQUNBVixPQUFPN0ssT0FBTyxFQUFFO1FBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDMkssTUFBTSxFQUNmLE1BQU0sSUFBSTVPLE1BQ1I7UUFFSixPQUFPLElBQUksQ0FBQyxDQUFDNE8sTUFBTSxDQUFDTSxNQUFNLENBQ3hCLElBQUksQ0FBQ1osU0FBUyxJQUNkL04sT0FBT0MsTUFBTSxDQUFDO1lBQUUrTyxlQUFlLElBQUksQ0FBQ0MsS0FBSztRQUFDLEdBQUdILHNCQUFzQnBMLFdBQVcsQ0FBQztJQUVuRjtJQUNBa0wsTUFBTWUsaUJBQWlCLEVBQUVDLFFBQVEsRUFBRTtRQUNqQyxNQUFNQyxZQUFZLE9BQU9ELFlBQVk7UUFDckMsSUFBSSxPQUFPRCxxQkFBcUIsWUFBWUEsNkJBQTZCdkIsaUJBQ3ZFLE9BQU8sSUFBSSxDQUFDZSxJQUFJLENBQUM7WUFBRVAsT0FBT2Usa0JBQWtCNUIsU0FBUztRQUFHO1FBQzFELElBQUk4QixXQUFXO1lBQ2IsTUFBTWpCLFFBQVFnQixTQUFTLElBQUl4QixnQkFBZ0J1QixtQkFBbUIsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDdEIsTUFBTTtZQUM5RSxJQUFJLENBQUVPLENBQUFBLGlCQUFpQlIsZUFBYyxHQUNuQyxNQUFNLElBQUkzTyxNQUFNO1lBQ2xCLE9BQU8sSUFBSSxDQUFDMFAsSUFBSSxDQUFDO2dCQUFFUCxPQUFPQSxNQUFNYixTQUFTO1lBQUc7UUFDOUM7UUFDQSxPQUFPLElBQUksQ0FBQ29CLElBQUksQ0FBQztZQUFFUCxPQUFPO2dCQUFFcEssSUFBSW1MO2dCQUFtQixHQUFHQyxRQUFRO1lBQUM7UUFBRTtJQUNuRTtBQUNGO0FBQ0EsTUFBTUssZ0JBQWdCO0FBQ3RCLFNBQVNDLGVBQWV6SyxNQUFNLEVBQUUwSyxZQUFZLENBQUMsQ0FBQztJQUM1QyxNQUFNdE8sVUFBVSxDQUFDLEdBQUdnSCxRQUFRc0gsVUFBVXRILEtBQUssSUFBSXBELE9BQU9vRCxLQUFLO0lBQzNEQSxTQUFVaEgsQ0FBQUEsUUFBUXVPLGFBQWEsR0FBRyxDQUFDLE9BQU8sRUFBRXZILE1BQU0sQ0FBQyxHQUFHLENBQUNzSCxVQUFVRSxZQUFZLElBQUksQ0FBQzVLLE9BQU8wQixrQkFBa0IsSUFBSTFCLE9BQU90RCxTQUFTLElBQUtOLENBQUFBLE9BQU8sQ0FBQ29PLGNBQWMsR0FBR3hLLE9BQU90RCxTQUFTO0lBQzdLLE1BQU0yRyxrQkFBa0IsQ0FBQyxDQUFFLFFBQU9xSCxVQUFVckgsZUFBZSxHQUFHLE1BQU1yRCxPQUFPcUQsZUFBZSxHQUFHcUgsVUFBVXJILGVBQWUsR0FBR3dILFVBQVUsT0FBT0gsVUFBVUcsT0FBTyxHQUFHLE1BQU03SyxPQUFPNkssT0FBTyxHQUFHSCxVQUFVRyxPQUFPO0lBQ3RNLE9BQU90USxPQUFPQyxNQUFNLENBQUMsQ0FBQyxHQUFHa1EsV0FBVztRQUNsQ3RPLFNBQVM3QixPQUFPQyxNQUFNLENBQUMsQ0FBQyxHQUFHNEIsU0FBU3NPLFVBQVV0TyxPQUFPLElBQUksQ0FBQztRQUMxRHlPLFNBQVMsT0FBT0EsVUFBVSxNQUFNLElBQUksS0FBSyxNQUFNQTtRQUMvQ0MsT0FBT0osVUFBVUksS0FBSyxJQUFJOUssT0FBTzhLLEtBQUs7UUFDdENDLE1BQU0sQ0FBQztRQUNQMUg7UUFDQTJILE9BQU8sT0FBT04sVUFBVU0sS0FBSyxJQUFJLFlBQVksT0FBT2hMLE9BQU9nTCxLQUFLLElBQUksV0FBVztZQUFFLEdBQUdoTCxPQUFPZ0wsS0FBSztZQUFFLEdBQUdOLFVBQVVNLEtBQUs7UUFBQyxJQUFJTixVQUFVTSxLQUFLLElBQUloTCxPQUFPZ0wsS0FBSztJQUMxSjtBQUNGO0FBQ0EsTUFBTUMsb0JBQW9CLENBQUMsRUFDekJ6RSxLQUFLLEVBQ0xDLFNBQVMsQ0FBQyxDQUFDLEVBQ1h4SSxVQUFVLENBQUMsQ0FBQyxFQUNiO0lBQ0MsTUFBTWpCLGVBQWUsSUFBSWtPLG1CQUFtQixFQUFFaEwsR0FBRyxFQUFFaUwsZ0JBQWdCLEVBQUVDLFdBQVcsRUFBRSxHQUFHcEMsTUFBTSxHQUFHL0s7SUFDOUZpQyxPQUFPbEQsYUFBYXVLLE1BQU0sQ0FBQyxPQUFPckgsTUFBTWxELGFBQWF1SyxNQUFNLENBQUMsU0FBU2Y7SUFDckUsS0FBSyxNQUFNLENBQUM2RSxLQUFLQyxNQUFNLElBQUkvUSxPQUFPZ1IsT0FBTyxDQUFDOUUsUUFDeEN6SixhQUFhdUssTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFOEQsSUFBSSxDQUFDLEVBQUU5TyxLQUFLQyxTQUFTLENBQUM4TztJQUNoRCxLQUFLLE1BQU0sQ0FBQ0QsS0FBS0MsTUFBTSxJQUFJL1EsT0FBT2dSLE9BQU8sQ0FBQ3ZDLE1BQ3hDc0MsU0FBU3RPLGFBQWF1SyxNQUFNLENBQUM4RCxLQUFLLENBQUMsRUFBRUMsTUFBTSxDQUFDO0lBQzlDLE9BQU9GLGdCQUFnQixDQUFDLEtBQUtwTyxhQUFhdUssTUFBTSxDQUFDLGVBQWUsVUFBVTRELHFCQUFxQixDQUFDLEtBQUtuTyxhQUFhdUssTUFBTSxDQUFDLG9CQUFvQixVQUFVLENBQUMsQ0FBQyxFQUFFdkssYUFBYSxDQUFDO0FBQzNLLEdBQUd3TyxnQkFBZ0IsQ0FBQ0MsT0FBT0MsV0FBYUQsVUFBVSxDQUFDLElBQUksS0FBSyxJQUFJLE9BQU9BLFFBQVEsTUFBTUMsV0FBV0QsT0FBT0UsbUJBQW1CLENBQUMxTixVQUFVLENBQUMsQ0FBQyxHQUFNO1FBQzNJMk4sUUFBUTNOLFFBQVEyTixNQUFNO1FBQ3RCQyxXQUFXLENBQUM7UUFDWjVDLGlCQUFpQnVDLGNBQWN2TixRQUFRZ0wsZUFBZSxFQUFFLENBQUM7UUFDekQ2QyxZQUFZN04sUUFBUTZOLFVBQVUsSUFBSTtRQUNsQ0MsdUJBQXVCOU4sUUFBUThOLHFCQUFxQjtRQUNwREMscUNBQXFDL04sUUFBUStOLG1DQUFtQztJQUNsRixJQUFJQyxhQUFhLENBQUM5RyxRQUFVQSxNQUFNdEosSUFBSSxLQUFLLFlBQVlxUSxVQUFVLENBQUMvRyxRQUFVQSxNQUFNekssSUFBSSxFQUFFeVIsVUFBVSxDQUFDQyxNQUFNQyxPQUFTRCxLQUFLRSxNQUFNLENBQUMsQ0FBQ0MsU0FBU2hOLE1BQVNnTixDQUFBQSxPQUFPLENBQUNGLEtBQUs5TSxLQUFLLEdBQUdBLEtBQUtnTixPQUFNLEdBQUksYUFBYSxHQUFHaFMsT0FBT2tQLE1BQU0sQ0FBQyxRQUFRK0Msb0JBQW9CO0FBQy9PLFNBQVNDLE9BQU83RCxNQUFNLEVBQUU4RCxXQUFXLEVBQUVDLE1BQU0sRUFBRW5HLEtBQUssRUFBRW9HLFVBQVUsQ0FBQyxDQUFDLEVBQUUzTyxVQUFVLENBQUMsQ0FBQztJQUM1RSxNQUFNMEQsUUFBUSxXQUFXMUQsVUFBVTtRQUNqQyxHQUFHME8sVUFBVSxDQUFDLENBQUM7UUFDZixHQUFHLE9BQU8xTyxRQUFRMEQsS0FBSyxJQUFJLFlBQVk7WUFBRUMsU0FBUzNELFFBQVEwRCxLQUFLO1FBQUMsSUFBSTFELFFBQVEwRCxLQUFLLElBQUksQ0FBQyxDQUFDO0lBQ3pGLElBQUlnTCxRQUFRbEcsU0FBUzlFLE1BQU1DLE9BQU8sR0FBR2xJLG9FQUFVQSxDQUFDa1QsV0FBV0EsU0FBU0MsY0FBYzVPLFFBQVE2TyxjQUFjLEtBQUssQ0FBQyxJQUFJLENBQUM1UyxNQUFRQSxNQUFNLENBQUNBLE1BQVFBLElBQUk2UyxNQUFNLEVBQUUsRUFBRUMsS0FBSyxFQUFFeEgsSUFBSSxFQUFFLEdBQUd3RCxNQUFNLEdBQUc7UUFDL0ssOEVBQThFO1FBQzlFLDJGQUEyRjtRQUMzRmlFLGdCQUFnQixPQUFPaFAsUUFBUWlQLE1BQU0sR0FBRztRQUN4Qyw4RUFBOEU7UUFDOUVDLGlCQUFpQnhMLE1BQU1DLE9BQU8sR0FBRyx5QkFBeUIzRCxRQUFRa1AsZUFBZTtRQUNqRixHQUFHbFAsT0FBTztRQUNWLDBFQUEwRTtRQUMxRSwrRkFBK0Y7UUFDL0ZtTixhQUFhbk4sUUFBUTZPLGNBQWMsS0FBSyxDQUFDLEtBQUs3TyxRQUFRbU4sV0FBVyxLQUFLLENBQUM7SUFDekUsR0FBR2dDLFVBQVUsT0FBT0osUUFBUSxPQUFPLE9BQU94SCxPQUFPLE1BQU07UUFBRSxHQUFHd0QsSUFBSTtRQUFFZ0MsT0FBTztZQUFFZ0M7WUFBT3hIO1FBQUs7SUFBRSxJQUFJd0QsTUFBTXFFLFdBQVdDLGFBQWExRSxRQUFROEQsYUFBYSxTQUFTO1FBQUVsRztRQUFPQztJQUFPLEdBQUcyRztJQUM1SyxPQUFPekwsTUFBTUMsT0FBTyxHQUFHeUwsU0FBUzFJLElBQUksQ0FDbENoTCxpRUFBaUJBLENBQ2ZiLDRNQUFJQSxDQUNGLGdVQUE4QyxDQUFDeVUsSUFBSSxDQUFDLFNBQVNDLENBQUM7UUFDNUQsT0FBT0EsRUFBRUMsc0JBQXNCO0lBQ2pDLEdBQUdGLElBQUksQ0FDTCxDQUFDLEVBQUVHLG9CQUFvQixFQUFFLEdBQUtBLHlCQUlwQzlULG1EQUFHQSxDQUNELENBQUMsQ0FBQ00sS0FBS3dULHFCQUFxQjtRQUMxQixNQUFNWCxTQUFTVyxxQkFBcUJ4VCxJQUFJNlMsTUFBTSxFQUFFN1MsSUFBSWlULGVBQWUsRUFBRXhMO1FBQ3JFLE9BQU9rTCxZQUFZO1lBQUUsR0FBRzNTLEdBQUc7WUFBRTZTO1FBQU87SUFDdEMsTUFFQU0sU0FBUzFJLElBQUksQ0FBQy9LLG1EQUFHQSxDQUFDaVQ7QUFDeEI7QUFDQSxTQUFTYyxhQUFhL0UsTUFBTSxFQUFFOEQsV0FBVyxFQUFFM04sRUFBRSxFQUFFaUssT0FBTyxDQUFDLENBQUM7SUFDdEQsTUFBTS9LLFVBQVU7UUFDZEksS0FBS3VQLFlBQVloRixRQUFRLE9BQU83SjtRQUNoQ2dNLE1BQU0sQ0FBQztRQUNQN0ssS0FBSzhJLEtBQUs5SSxHQUFHO1FBQ2JnTixRQUFRbEUsS0FBS2tFLE1BQU07SUFDckI7SUFDQSxPQUFPVyxtQkFBbUJqRixRQUFROEQsYUFBYXpPLFNBQVMwRyxJQUFJLENBQzFEOUssc0RBQU1BLENBQUNvUyxhQUNQclMsbURBQUdBLENBQUMsQ0FBQ3VMLFFBQVVBLE1BQU16SyxJQUFJLENBQUNvVCxTQUFTLElBQUkzSSxNQUFNekssSUFBSSxDQUFDb1QsU0FBUyxDQUFDLEVBQUU7QUFFbEU7QUFDQSxTQUFTQyxjQUFjbkYsTUFBTSxFQUFFOEQsV0FBVyxFQUFFaEcsR0FBRyxFQUFFc0MsT0FBTyxDQUFDLENBQUM7SUFDeEQsTUFBTS9LLFVBQVU7UUFDZEksS0FBS3VQLFlBQVloRixRQUFRLE9BQU9sQyxJQUFJaEwsSUFBSSxDQUFDO1FBQ3pDcVAsTUFBTSxDQUFDO1FBQ1A3SyxLQUFLOEksS0FBSzlJLEdBQUc7UUFDYmdOLFFBQVFsRSxLQUFLa0UsTUFBTTtJQUNyQjtJQUNBLE9BQU9XLG1CQUFtQmpGLFFBQVE4RCxhQUFhek8sU0FBUzBHLElBQUksQ0FDMUQ5SyxzREFBTUEsQ0FBQ29TLGFBQ1ByUyxtREFBR0EsQ0FBQyxDQUFDdUw7UUFDSCxNQUFNb0gsVUFBVUosUUFBUWhILE1BQU16SyxJQUFJLENBQUNvVCxTQUFTLElBQUksRUFBRSxFQUFFLENBQUN2TyxNQUFRQSxJQUFJQyxHQUFHO1FBQ3BFLE9BQU9rSCxJQUFJOU0sR0FBRyxDQUFDLENBQUNtRixLQUFPd04sT0FBTyxDQUFDeE4sR0FBRyxJQUFJO0lBQ3hDO0FBRUo7QUFDQSxTQUFTaVAsbUJBQW1CcEYsTUFBTSxFQUFFOEQsV0FBVyxFQUFFbk4sR0FBRyxFQUFFdEIsT0FBTztJQUMzRCxPQUFPcUIsa0JBQWtCLHFCQUFxQkMsTUFBTTBPLFFBQVFyRixRQUFROEQsYUFBYW5OLEtBQUsscUJBQXFCdEI7QUFDN0c7QUFDQSxTQUFTaVEsaUJBQWlCdEYsTUFBTSxFQUFFOEQsV0FBVyxFQUFFbk4sR0FBRyxFQUFFdEIsT0FBTztJQUN6RCxPQUFPcUIsa0JBQWtCLG1CQUFtQkMsTUFBTTBPLFFBQVFyRixRQUFROEQsYUFBYW5OLEtBQUssbUJBQW1CdEI7QUFDekc7QUFDQSxTQUFTa1EsUUFBUXZGLE1BQU0sRUFBRThELFdBQVcsRUFBRTdGLFNBQVMsRUFBRTVJLE9BQU87SUFDdEQsT0FBT3FQLGFBQ0wxRSxRQUNBOEQsYUFDQSxVQUNBO1FBQUUwQixXQUFXO1lBQUM7Z0JBQUV2RSxRQUFRdkQsYUFBYU87WUFBVztTQUFFO0lBQUMsR0FDbkQ1STtBQUVKO0FBQ0EsU0FBU29RLFFBQVF6RixNQUFNLEVBQUU4RCxXQUFXLEVBQUUwQixTQUFTLEVBQUVuUSxPQUFPO0lBQ3RELElBQUk4TDtJQUNKcUUscUJBQXFCaEYsU0FBU2dGLHFCQUFxQnpGLGtCQUFrQm9CLE1BQU07UUFBRVosT0FBT2lGLFVBQVU5RixTQUFTO0lBQUcsSUFBSThGLHFCQUFxQm5FLGVBQWVtRSxxQkFBcUI3RCx3QkFBd0JSLE1BQU1xRSxVQUFVOUYsU0FBUyxLQUFLeUIsTUFBTXFFO0lBQ25PLE1BQU1FLE9BQU92UyxNQUFNQyxPQUFPLENBQUMrTixPQUFPQSxNQUFNO1FBQUNBO0tBQUksRUFBRVIsZ0JBQWdCdEwsV0FBV0EsUUFBUXNMLGFBQWEsSUFBSSxLQUFLO0lBQ3hHLE9BQU8rRCxhQUFhMUUsUUFBUThELGFBQWEsVUFBVTtRQUFFMEIsV0FBV0U7UUFBTS9FO0lBQWMsR0FBR3RMO0FBQ3pGO0FBQ0EsU0FBU3NRLFFBQVEzRixNQUFNLEVBQUU4RCxXQUFXLEVBQUU4QixPQUFPLEVBQUV2USxPQUFPO0lBQ3BELE1BQU13USxPQUFPMVMsTUFBTUMsT0FBTyxDQUFDd1MsV0FBV0EsVUFBVTtRQUFDQTtLQUFRLEVBQUVqRixnQkFBZ0J0TCxXQUFXQSxRQUFRc0wsYUFBYSxJQUFJLEtBQUssR0FBR3lDLHNDQUFzQy9OLFdBQVdBLFFBQVErTixtQ0FBbUMsSUFBSSxLQUFLLEdBQUdKLFNBQVMzTixXQUFXQSxRQUFRMk4sTUFBTSxJQUFJLEtBQUs7SUFDMVEsT0FBTzBCLGFBQ0wxRSxRQUNBOEQsYUFDQSxXQUNBO1FBQUU4QixTQUFTQztRQUFNbEY7UUFBZXlDO1FBQXFDSjtJQUFPLEdBQzVFM047QUFFSjtBQUNBLFNBQVNxUCxhQUFhMUUsTUFBTSxFQUFFOEQsV0FBVyxFQUFFZ0MsUUFBUSxFQUFFaFUsSUFBSSxFQUFFdUQsVUFBVSxDQUFDLENBQUM7SUFDckUsTUFBTTBRLGFBQWFELGFBQWEsVUFBVUUsV0FBV0YsYUFBYSxXQUFXdFEsV0FBV3NRLGFBQWEsU0FBU0csV0FBV0YsY0FBY0MsV0FBVyxLQUFLM0Qsa0JBQWtCdlEsT0FBT29VLFNBQVMsQ0FBQ0gsY0FBYyxDQUFDQyxZQUFZQyxTQUFTcFQsTUFBTSxHQUFHK1EsbUJBQW1CdUMsY0FBY0QsU0FBU0QsV0FBVyxJQUFJOUYsY0FBYzlLLFFBQVE4SyxXQUFXLEVBQUUsRUFBRThCLE9BQU8sRUFBRXpILEtBQUssRUFBRWxELEdBQUcsRUFBRTlELE9BQU8sRUFBRWdQLFdBQVcsRUFBRTRELGVBQWUsRUFBRUMsU0FBUyxFQUFFLEdBQUdoUixTQUFTSSxNQUFNdVAsWUFBWWhGLFFBQVE4RixVQUFVSyxjQUFjRyxhQUFhO1FBQ3JkaFQsUUFBUTRTLFNBQVMsUUFBUTtRQUN6QnpRO1FBQ0EwTSxNQUFNLENBQUM7UUFDUHJRLE1BQU1vVSxTQUFTLEtBQUssSUFBSXBVO1FBQ3hCOEwsT0FBT21JLGNBQWNoRCxpQkFBaUIxTjtRQUN0QzRNO1FBQ0F6TztRQUNBZ0g7UUFDQWxEO1FBQ0FrTDtRQUNBL0ksYUFBYXBFLFFBQVFvRSxXQUFXO1FBQ2hDOEssaUJBQWlCbFAsUUFBUWtQLGVBQWU7UUFDeEM2QixpQkFBaUJqVCxNQUFNQyxPQUFPLENBQUNnVCxtQkFBbUJBLGVBQWUsQ0FBQyxFQUFFLEdBQUdBO1FBQ3ZFQztRQUNBRSxXQUFXL1E7UUFDWDhPLFFBQVFqUCxRQUFRaVAsTUFBTTtRQUN0QmxDLE9BQU8vTSxRQUFRK00sS0FBSztRQUNwQmlDLGdCQUFnQmhQLFFBQVFnUCxjQUFjO1FBQ3RDMUosUUFBUXRGLFFBQVFzRixNQUFNO0lBQ3hCO0lBQ0EsT0FBT3NLLG1CQUFtQmpGLFFBQVE4RCxhQUFhd0MsWUFBWXZLLElBQUksQ0FDN0Q5SyxzREFBTUEsQ0FBQ29TLGFBQ1ByUyxtREFBR0EsQ0FBQ3NTLFVBQ0p0UyxtREFBR0EsQ0FBQyxDQUFDTTtRQUNILElBQUksQ0FBQ3lVLFlBQ0gsT0FBT3pVO1FBQ1QsTUFBTWtWLFVBQVVsVixJQUFJa1YsT0FBTyxJQUFJLEVBQUU7UUFDakMsSUFBSW5SLFFBQVFnTCxlQUFlLEVBQ3pCLE9BQU9GLGNBQWNxRyxPQUFPLENBQUMsRUFBRSxJQUFJQSxPQUFPLENBQUMsRUFBRSxDQUFDQyxRQUFRLEdBQUdELFFBQVF4VixHQUFHLENBQUMsQ0FBQ21RLE1BQVFBLElBQUlzRixRQUFRO1FBQzVGLE1BQU1oRSxNQUFNdEMsY0FBYyxlQUFlLGVBQWVyQyxNQUFNcUMsY0FBY3FHLE9BQU8sQ0FBQyxFQUFFLElBQUlBLE9BQU8sQ0FBQyxFQUFFLENBQUNyUSxFQUFFLEdBQUdxUSxRQUFReFYsR0FBRyxDQUFDLENBQUNtUSxNQUFRQSxJQUFJaEwsRUFBRTtRQUNySSxPQUFPO1lBQ0x3SyxlQUFlclAsSUFBSXFQLGFBQWE7WUFDaEM2RjtZQUNBLENBQUMvRCxJQUFJLEVBQUUzRTtRQUNUO0lBQ0Y7QUFFSjtBQUNBLFNBQVN1SCxRQUFRckYsTUFBTSxFQUFFOEQsV0FBVyxFQUFFbk4sR0FBRyxFQUFFTCxFQUFFLEVBQUVqQixVQUFVLENBQUMsQ0FBQztJQUN6RCxNQUFNcVIsV0FBVztRQUFFLENBQUNwUSxHQUFHLEVBQUVLO0lBQUksR0FBR3lKLE9BQU96TyxPQUFPQyxNQUFNLENBQUM7UUFBRXVPLGFBQWEsQ0FBQztRQUFHRSxpQkFBaUIsQ0FBQztJQUFFLEdBQUdoTDtJQUMvRixPQUFPcVAsYUFBYTFFLFFBQVE4RCxhQUFhLFVBQVU7UUFBRTBCLFdBQVc7WUFBQ2tCO1NBQVM7SUFBQyxHQUFHdEc7QUFDaEY7QUFDQSxNQUFNdUcsZ0JBQWdCLENBQUMzRyxTQUFXQSxPQUFPNUksTUFBTSxHQUFHbkIsT0FBTyxLQUFLLEtBQUssS0FBSytKLE9BQU81SSxNQUFNLEdBQUd0RCxTQUFTLEtBQUssS0FBSyxLQUFLa00sT0FBTzVJLE1BQU0sRUFBRSxDQUFDLHlCQUF5QixLQUFLLEtBQUssR0FBR3dQLFVBQVUsQ0FBQzVHLFFBQVF2SyxNQUFRa1IsY0FBYzNHLFdBQVd2SyxJQUFJQyxVQUFVLENBQUNzUCxZQUFZaEYsUUFBUSxXQUFXNkcsV0FBVyxDQUFDN0csUUFBUXZLLE1BQVFrUixjQUFjM0csV0FBV3ZLLElBQUlDLFVBQVUsQ0FBQ3NQLFlBQVloRixRQUFRLFlBQVk4RyxRQUFRLENBQUM5RyxRQUFRdkssTUFBUWtSLGNBQWMzRyxXQUFXdkssSUFBSUMsVUFBVSxDQUFDc1AsWUFBWWhGLFFBQVEsT0FBTyxNQUFNK0csYUFBYSxDQUFDL0csUUFBUXZLLE1BQVFrUixjQUFjM0csV0FBV3ZLLElBQUlDLFVBQVUsQ0FBQ3NQLFlBQVloRixRQUFRLFlBQVlnSCxZQUFZLENBQUNoSCxRQUFRdkssTUFBUWtSLGNBQWMzRyxXQUFXdkssSUFBSUMsVUFBVSxDQUFDc1AsWUFBWWhGLFFBQVEsV0FBVyxNQUFNaUgsU0FBUyxDQUFDakgsUUFBUXZLLE1BQVFBLElBQUlDLFVBQVUsQ0FBQyxhQUFha1IsUUFBUTVHLFFBQVF2SyxRQUFRb1IsU0FBUzdHLFFBQVF2SyxRQUFRcVIsTUFBTTlHLFFBQVF2SyxRQUFRc1IsV0FBVy9HLFFBQVF2SyxRQUFRdVIsVUFBVWhILFFBQVF2SztBQUN4MEIsU0FBU3dQLG1CQUFtQmpGLE1BQU0sRUFBRThELFdBQVcsRUFBRXpPLE9BQU87SUFDdEQsTUFBTUksTUFBTUosUUFBUTlCLEdBQUcsSUFBSThCLFFBQVFJLEdBQUcsRUFBRTJCLFNBQVM0SSxPQUFPNUksTUFBTSxJQUFJbVAsWUFBWSxPQUFPbFIsUUFBUWtSLFNBQVMsR0FBRyxNQUFNO1FBQUM7UUFBTztLQUFPLENBQUM3UyxPQUFPLENBQUMyQixRQUFRL0IsTUFBTSxJQUFJLFVBQVUsS0FBSzJULE9BQU9qSCxRQUFRdkssT0FBT0osUUFBUWtSLFNBQVM7SUFDL00sSUFBSTVMLFNBQVMsQ0FBQ3RGLFFBQVFzRixNQUFNLElBQUl2RCxPQUFPdUQsTUFBTSxLQUFLNEw7SUFDbEQsTUFBTWpQLE1BQU1qQyxRQUFRaUMsR0FBRyxJQUFJRixPQUFPd0QsZ0JBQWdCLEdBQUc7UUFBQ3hELE9BQU93RCxnQkFBZ0I7UUFBRXZGLFFBQVFpQyxHQUFHO0tBQUMsQ0FBQ3hFLElBQUksQ0FBQyxPQUFPdUMsUUFBUWlDLEdBQUcsSUFBSUYsT0FBT3dELGdCQUFnQjtJQUM5SSxJQUFJdEQsT0FBT2pDLFFBQVFpQyxHQUFHLEtBQUssUUFBU2pDLENBQUFBLFFBQVF1SSxLQUFLLEdBQUc7UUFBRXRHLEtBQUtELFdBQVdDO1FBQU0sR0FBR2pDLFFBQVF1SSxLQUFLO0lBQUMsSUFBSTtRQUFDO1FBQU87UUFBUTtLQUFPLENBQUNsSyxPQUFPLENBQUMyQixRQUFRL0IsTUFBTSxJQUFJLFVBQVUsS0FBS3NULFFBQVE1RyxRQUFRdkssTUFBTTtRQUN0TCxNQUFNOE8sa0JBQWtCbFAsUUFBUWtQLGVBQWUsSUFBSW5OLE9BQU9tTixlQUFlO1FBQ3pFQSxvQkFBb0IsS0FBSyxLQUFLQSxvQkFBb0IsQ0FBQyxLQUFNbFAsQ0FBQUEsUUFBUXVJLEtBQUssR0FBRztZQUFFMkc7WUFBaUIsR0FBR2xQLFFBQVF1SSxLQUFLO1FBQUM7UUFDN0csTUFBTXNKLG9CQUFvQjdSLFFBQVFvRSxXQUFXLElBQUlyQyxPQUFPcUMsV0FBVztRQUNuRSxPQUFPeU4sb0JBQW9CLE9BQVFBLENBQUFBLHNCQUFzQixtQkFBbUI3Tyx3Q0FBd0NtQix1QkFBdUIwTixvQkFBb0I3UixRQUFRdUksS0FBSyxHQUFHO1lBQzdLbkUsYUFBYXRHLE1BQU1DLE9BQU8sQ0FBQzhULHFCQUFxQkEsa0JBQWtCcFUsSUFBSSxDQUFDLE9BQU9vVTtZQUM5RSxHQUFHN1IsUUFBUXVJLEtBQUs7UUFDbEIsR0FBRyxDQUFDekssTUFBTUMsT0FBTyxDQUFDOFQsc0JBQXNCQSxrQkFBa0JyVSxNQUFNLEdBQUcsS0FBSyxxRUFBcUU7UUFDN0lxVSxzQkFBc0IsbUJBQW1CQSxzQkFBc0IsUUFBTyxLQUFNdk0sVUFBV0EsQ0FBQUEsU0FBUyxDQUFDLEdBQUd2Qyw4QkFBNkIsQ0FBQyxHQUFJL0MsUUFBUStRLGVBQWUsSUFBSy9RLENBQUFBLFFBQVF1SSxLQUFLLEdBQUc7WUFBRSxHQUFHdkksUUFBUXVJLEtBQUs7WUFBRXdJLGlCQUFpQi9RLFFBQVErUSxlQUFlO1FBQUMsSUFBSS9RLFFBQVFtTixXQUFXLEtBQUssQ0FBQyxLQUFNbk4sQ0FBQUEsUUFBUXVJLEtBQUssR0FBRztZQUFFNEUsYUFBYTtZQUFTLEdBQUduTixRQUFRdUksS0FBSztRQUFDLElBQUlqRCxVQUFVdEYsUUFBUWdSLFNBQVMsSUFBSSxhQUFjaFIsQ0FBQUEsUUFBUXVJLEtBQUssR0FBRztZQUFFeUksV0FBVztZQUFXLEdBQUdoUixRQUFRdUksS0FBSztRQUFDO0lBQ3ZiO0lBQ0EsTUFBTTBJLGFBQWF6RSxlQUNqQnpLLFFBQ0F6RixPQUFPQyxNQUFNLENBQUMsQ0FBQyxHQUFHeUQsU0FBUztRQUN6QjlCLEtBQUs0VCxRQUFRbkgsUUFBUXZLLEtBQUtrRjtJQUM1QixLQUNDeU0sVUFBVSxJQUFJdlgsOE1BQVVBLENBQ3pCLENBQUN3WCxhQUFldkQsWUFBWXdDLFlBQVlsUCxPQUFPa1EsU0FBUyxFQUFFQyxTQUFTLENBQUNGO0lBRXRFLE9BQU9oUyxRQUFRaVAsTUFBTSxHQUFHOEMsUUFBUXJMLElBQUksQ0FBQ3lMLGlCQUFpQm5TLFFBQVFpUCxNQUFNLEtBQUs4QztBQUMzRTtBQUNBLFNBQVNLLFNBQVN6SCxNQUFNLEVBQUU4RCxXQUFXLEVBQUV6TyxPQUFPO0lBQzVDLE9BQU80UCxtQkFBbUJqRixRQUFROEQsYUFBYXpPLFNBQVMwRyxJQUFJLENBQzFEOUssc0RBQU1BLENBQUMsQ0FBQ3NMLFFBQVVBLE1BQU10SixJQUFJLEtBQUssYUFDakNqQyxtREFBR0EsQ0FBQyxDQUFDdUwsUUFBVUEsTUFBTXpLLElBQUk7QUFFN0I7QUFDQSxTQUFTa1QsWUFBWWhGLE1BQU0sRUFBRTBILFNBQVMsRUFBRUMsSUFBSTtJQUMxQyxNQUFNdlEsU0FBUzRJLE9BQU81SSxNQUFNO0lBQzVCLElBQUlBLE1BQU0sQ0FBQyx5QkFBeUIsRUFBRTtRQUNwQ0csZUFBZUg7UUFDZixNQUFNd1EsZUFBZUMsaUJBQWlCelEsU0FBUzBRLE9BQU9ILFNBQVMsS0FBSyxJQUFJLENBQUMsRUFBRUQsVUFBVSxDQUFDLEVBQUVDLEtBQUssQ0FBQyxHQUFHRDtRQUNqRyxPQUFPLENBQUMsRUFBRUUsYUFBYSxDQUFDLEVBQUVFLEtBQUssQ0FBQyxDQUFDak4sT0FBTyxDQUFDLFlBQVk7SUFDdkQ7SUFDQSxNQUFNa04sVUFBVTVRLFdBQVdDLFNBQVM0USxVQUFVLENBQUMsQ0FBQyxFQUFFTixVQUFVLENBQUMsRUFBRUssUUFBUSxDQUFDO0lBQ3hFLE9BQU8sQ0FBQyxLQUFLLEVBQUVKLFNBQVMsS0FBSyxJQUFJLENBQUMsRUFBRUssUUFBUSxDQUFDLEVBQUVMLEtBQUssQ0FBQyxHQUFHSyxRQUFRLENBQUMsQ0FBQ25OLE9BQU8sQ0FBQyxZQUFZO0FBQ3hGO0FBQ0EsU0FBU3NNLFFBQVFuSCxNQUFNLEVBQUV2SyxHQUFHLEVBQUU4USxZQUFZLENBQUMsQ0FBQztJQUMxQyxNQUFNLEVBQUVoVCxHQUFHLEVBQUUySCxNQUFNLEVBQUUsR0FBRzhFLE9BQU81SSxNQUFNO0lBQ3JDLE9BQU8sQ0FBQyxFQUFFbVAsWUFBWXJMLFNBQVMzSCxJQUFJLENBQUMsRUFBRWtDLElBQUlvRixPQUFPLENBQUMsT0FBTyxJQUFJLENBQUM7QUFDaEU7QUFDQSxTQUFTMk0saUJBQWlCbEQsTUFBTTtJQUM5QixPQUFPLENBQUMyRCxRQUFVLElBQUlwWSw4TUFBVUEsQ0FBQyxDQUFDb007WUFDaEMsTUFBTWlNLFFBQVEsSUFBTWpNLFNBQVM5SixLQUFLLENBQUNnVyxrQkFBa0I3RDtZQUNyRCxJQUFJQSxVQUFVQSxPQUFPOEQsT0FBTyxFQUFFO2dCQUM1QkY7Z0JBQ0E7WUFDRjtZQUNBLE1BQU1HLGVBQWVKLE1BQU1WLFNBQVMsQ0FBQ3RMO1lBQ3JDLE9BQU9xSSxPQUFPckgsZ0JBQWdCLENBQUMsU0FBU2lMLFFBQVE7Z0JBQzlDNUQsT0FBT2pILG1CQUFtQixDQUFDLFNBQVM2SyxRQUFRRyxhQUFhQyxXQUFXO1lBQ3RFO1FBQ0Y7QUFDRjtBQUNBLE1BQU1DLDBCQUEwQixDQUFDLENBQUNDLFdBQVdDLFlBQVk7QUFDekQsU0FBU04sa0JBQWtCN0QsTUFBTTtJQUMvQixJQUFJaUUseUJBQ0YsT0FBTyxJQUFJRSxhQUFhbkUsUUFBUWpKLFVBQVUsOEJBQThCO0lBQzFFLE1BQU1sSixRQUFRLElBQUlmLE1BQU1rVCxRQUFRakosVUFBVTtJQUMxQyxPQUFPbEosTUFBTTZCLElBQUksR0FBRyxjQUFjN0I7QUFDcEM7QUFDQSxNQUFNMFYsbUJBQW1CLENBQUN6UTtJQUN4QixJQUFJLENBQUNBLE1BQU0sQ0FBQyx5QkFBeUIsRUFDbkMsTUFBTSxJQUFJaEcsTUFBTTtJQUNsQixNQUFNLEVBQUU2QixJQUFJLEVBQUVrRCxFQUFFLEVBQUUsR0FBR2lCLE1BQU0sQ0FBQyx5QkFBeUI7SUFDckQsT0FBUW5FO1FBQ04sS0FBSztZQUFXO2dCQUNkLE1BQU15VixXQUFXdlMsR0FBR3FCLEtBQUssQ0FBQztnQkFDMUIsSUFBSWtSLFNBQVM3VixNQUFNLEtBQUssR0FDdEIsTUFBTSxJQUFJekIsTUFBTTtnQkFDbEIsT0FBTyxDQUFDLFVBQVUsRUFBRXNYLFFBQVEsQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFFQSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDM0Q7UUFDQSxLQUFLO1lBQ0gsT0FBTyxDQUFDLFVBQVUsRUFBRXZTLEdBQUcsQ0FBQztRQUMxQixLQUFLO1lBQ0gsT0FBTyxDQUFDLGlCQUFpQixFQUFFQSxHQUFHLENBQUM7UUFDakMsS0FBSztZQUNILE9BQU8sQ0FBQyxZQUFZLEVBQUVBLEdBQUcsQ0FBQztRQUM1QjtZQUNFLE1BQU0sSUFBSS9FLE1BQU0sQ0FBQywyQkFBMkIsRUFBRTZCLEtBQUt3RSxRQUFRLEdBQUcsQ0FBQztJQUNuRTtBQUNGO0FBQ0EsTUFBTWtSO0lBQ0osQ0FBQzNJLE1BQU0sQ0FBQztJQUNSLENBQUM4RCxXQUFXLENBQUM7SUFDYnpTLFlBQVkyTyxNQUFNLEVBQUU4RCxXQUFXLENBQUU7UUFDL0IsSUFBSSxDQUFDLENBQUM5RCxNQUFNLEdBQUdBLFFBQVEsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEdBQUdBO0lBQzdDO0lBQ0E4RSxPQUFPQyxTQUFTLEVBQUUvVyxJQUFJLEVBQUV1RCxPQUFPLEVBQUU7UUFDL0IsT0FBT3lULFFBQVEsSUFBSSxDQUFDLENBQUM5SSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEVBQUUrRSxXQUFXL1csTUFBTXVEO0lBQ25FO0FBQ0Y7QUFDQSxNQUFNMFQ7SUFDSixDQUFDL0ksTUFBTSxDQUFDO0lBQ1IsQ0FBQzhELFdBQVcsQ0FBQztJQUNielMsWUFBWTJPLE1BQU0sRUFBRThELFdBQVcsQ0FBRTtRQUMvQixJQUFJLENBQUMsQ0FBQzlELE1BQU0sR0FBR0EsUUFBUSxJQUFJLENBQUMsQ0FBQzhELFdBQVcsR0FBR0E7SUFDN0M7SUFDQThFLE9BQU9DLFNBQVMsRUFBRS9XLElBQUksRUFBRXVELE9BQU8sRUFBRTtRQUMvQixNQUFNMlQsY0FBY0YsUUFBUSxJQUFJLENBQUMsQ0FBQzlJLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzhELFdBQVcsRUFBRStFLFdBQVcvVyxNQUFNdUQ7UUFDOUUsT0FBT2xGLHNOQUFhQSxDQUNsQjZZLFlBQVlqTixJQUFJLENBQ2Q5SyxzREFBTUEsQ0FBQyxDQUFDc0wsUUFBVUEsTUFBTXRKLElBQUksS0FBSyxhQUNqQ2pDLG1EQUFHQSxDQUNELENBQUN1TCxRQUFVQSxNQUFNekssSUFBSSxDQUFDMlUsUUFBUTtJQUl0QztBQUNGO0FBQ0EsU0FBU3FDLFFBQVE5SSxNQUFNLEVBQUU4RCxXQUFXLEVBQUUrRSxTQUFTLEVBQUUvVyxJQUFJLEVBQUVzTyxPQUFPLENBQUMsQ0FBQztJQUM5RGhLLGtCQUFrQnlTO0lBQ2xCLElBQUlJLE9BQU83SSxLQUFLOEksT0FBTyxJQUFJLEtBQUs7SUFDaENELFFBQVEsQ0FBQ0EsS0FBS3BXLE1BQU0sSUFBS29XLENBQUFBLE9BQU87UUFBQztLQUFPO0lBQ3hDLE1BQU03UixTQUFTNEksT0FBTzVJLE1BQU0sSUFBSS9CLFVBQVU4VCxnQkFBZ0IvSSxNQUFNdE8sT0FBTyxFQUFFd0YsR0FBRyxFQUFFOFIsS0FBSyxFQUFFQyxLQUFLLEVBQUUzVyxXQUFXLEVBQUU0VyxVQUFVLEVBQUVDLFFBQVEsRUFBRUMsTUFBTSxFQUFFLEdBQUduVSxTQUFTdUksUUFBUTtRQUN6SndMO1FBQ0FDO1FBQ0EzVztRQUNBNlc7UUFDQU47UUFDQUs7SUFDRjtJQUNBLE9BQU9FLFVBQVc1TCxDQUFBQSxNQUFNNkwsUUFBUSxHQUFHRCxPQUFPclQsRUFBRSxFQUFFeUgsTUFBTThMLFVBQVUsR0FBR0YsT0FBT3hWLElBQUksRUFBRTRKLE1BQU0rTCxTQUFTLEdBQUdILE9BQU9qVyxHQUFHLEdBQUcwUixtQkFBbUJqRixRQUFROEQsYUFBYTtRQUNuSnhNO1FBQ0FoRSxRQUFRO1FBQ1IyTyxTQUFTNU0sUUFBUTRNLE9BQU8sSUFBSTtRQUM1QnhNLEtBQUttVSxvQkFBb0J4UyxRQUFReVI7UUFDakNyVixTQUFTNkIsUUFBUXdVLFdBQVcsR0FBRztZQUFFLGdCQUFnQnhVLFFBQVF3VSxXQUFXO1FBQUMsSUFBSSxDQUFDO1FBQzFFak07UUFDQTlMO0lBQ0Y7QUFDRjtBQUNBLFNBQVM4WCxvQkFBb0J4UyxNQUFNLEVBQUV5UixTQUFTO0lBQzVDLE1BQU1pQixvQkFBb0JqQixjQUFjLFVBQVUsV0FBVztJQUM3RCxJQUFJelIsTUFBTSxDQUFDLHlCQUF5QixFQUFFO1FBQ3BDLE1BQU0sRUFBRW5FLElBQUksRUFBRWtELEVBQUUsRUFBRSxHQUFHaUIsTUFBTSxDQUFDLHlCQUF5QjtRQUNyRCxPQUFRbkU7WUFDTixLQUFLO2dCQUNILE1BQU0sSUFBSTdCLE1BQ1I7WUFFSixLQUFLO2dCQUNILE9BQU8sQ0FBQyxVQUFVLEVBQUUrRSxHQUFHLFFBQVEsRUFBRTJULGtCQUFrQixDQUFDO1lBQ3RELEtBQUs7Z0JBQ0gsT0FBTyxDQUFDLGlCQUFpQixFQUFFM1QsR0FBRyxPQUFPLENBQUM7WUFDeEMsS0FBSztnQkFDSCxPQUFPLENBQUMsWUFBWSxFQUFFQSxHQUFHLFFBQVEsRUFBRTJULGtCQUFrQixDQUFDO1lBQ3hEO2dCQUNFLE1BQU0sSUFBSTFZLE1BQU0sQ0FBQywyQkFBMkIsRUFBRTZCLEtBQUt3RSxRQUFRLEdBQUcsQ0FBQztRQUNuRTtJQUNGO0lBQ0EsTUFBTXNTLFdBQVc1UyxXQUFXQztJQUM1QixPQUFPLENBQUMsT0FBTyxFQUFFMFMsa0JBQWtCLENBQUMsRUFBRUMsU0FBUyxDQUFDO0FBQ2xEO0FBQ0EsU0FBU1osZ0JBQWdCL0ksSUFBSSxFQUFFNEosSUFBSTtJQUNqQyxPQUFPLE9BQU9DLE9BQU8sT0FBTyxDQUFFRCxDQUFBQSxnQkFBZ0JDLElBQUcsSUFBSzdKLE9BQU96TyxPQUFPQyxNQUFNLENBQ3hFO1FBQ0UyWCxVQUFVbkosS0FBSzhKLGdCQUFnQixLQUFLLENBQUMsSUFBSSxLQUFLLElBQUlGLEtBQUtoVyxJQUFJO1FBQzNENlYsYUFBYUcsS0FBSy9XLElBQUk7SUFDeEIsR0FDQW1OO0FBRUo7QUFDQSxJQUFJK0osV0FBVyxDQUFDalgsS0FBS2tYLFlBQWN6WSxPQUFPMFksSUFBSSxDQUFDRCxXQUFXOVosTUFBTSxDQUFDcUIsT0FBTzBZLElBQUksQ0FBQ25YLE1BQU13USxNQUFNLENBQUMsQ0FBQzRHLFFBQVFDLE9BQVVELENBQUFBLE1BQU0sQ0FBQ0MsS0FBSyxHQUFHLE9BQU9yWCxHQUFHLENBQUNxWCxLQUFLLEdBQUcsTUFBTUgsU0FBUyxDQUFDRyxLQUFLLEdBQUdyWCxHQUFHLENBQUNxWCxLQUFLLEVBQUVELE1BQUssR0FBSSxDQUFDO0FBQzVMLE1BQU1FLE9BQU8sQ0FBQ3RYLEtBQUszQixRQUFVQSxNQUFNbVMsTUFBTSxDQUFDLENBQUN6RixXQUFXc00sT0FBVSxRQUFPclgsR0FBRyxDQUFDcVgsS0FBSyxHQUFHLE9BQVF0TSxDQUFBQSxTQUFTLENBQUNzTSxLQUFLLEdBQUdyWCxHQUFHLENBQUNxWCxLQUFLLEdBQUd0TSxTQUFRLEdBQUksQ0FBQyxJQUFJd00sc0JBQXNCM2EsNk1BQUtBLENBQUMsSUFBTSxrVkFBNkIsRUFBRWlNLElBQUksQ0FDN00vSyxtREFBR0EsQ0FBQyxDQUFDLEVBQUUwWixTQUFTQyxZQUFZLEVBQUUsR0FBS0EsZUFDbkN2YSxvTkFBV0EsQ0FBQztBQUVkLFNBQVN3YTtJQUNQLE9BQU8sU0FBU3BCLE1BQU07UUFDcEIsT0FBT0EsT0FBT3pOLElBQUksQ0FDaEIxTCxtTkFBVUEsQ0FBQyxDQUFDOEUsS0FBSzBWLFNBQVcxVixlQUFlZ0csd0JBQXdCN0ssK01BQU1BLENBQUNQLDBNQUFFQSxDQUFDO2dCQUFFa0QsTUFBTTtZQUFZLElBQUl6Qyw4TUFBS0EsQ0FBQyxLQUFLdUwsSUFBSSxDQUFDOUwsZ05BQVFBLENBQUMsSUFBTTRhLFlBQVl0YSxtTkFBVUEsQ0FBQyxJQUFNNEU7SUFFcks7QUFDRjtBQUNBLE1BQU0yVixpQkFBaUIsT0FBT0Msa0JBQWtCO0lBQzlDO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0QsRUFBRUMsaUJBQWlCO0lBQ2xCQyxlQUFlLENBQUM7QUFDbEI7QUFDQSxTQUFTQyxRQUFRdE4sS0FBSyxFQUFFQyxNQUFNLEVBQUV1QyxPQUFPLENBQUMsQ0FBQztJQUN2QyxNQUFNLEVBQUU3TSxHQUFHLEVBQUVpSCxLQUFLLEVBQUVDLGVBQWUsRUFBRUcsZ0JBQWdCLEVBQUUsR0FBRyxJQUFJLENBQUN4RCxNQUFNLElBQUlFLE1BQU04SSxLQUFLOUksR0FBRyxJQUFJc0QsbUJBQW1CO1FBQUNBO1FBQWtCd0YsS0FBSzlJLEdBQUc7S0FBQyxDQUFDeEUsSUFBSSxDQUFDLE9BQU9zTixLQUFLOUksR0FBRyxFQUFFakMsVUFBVTtRQUFFLEdBQUc4VSxTQUFTL0osTUFBTTRLLGVBQWU7UUFBRTFUO0lBQUksR0FBRzZULGFBQWFYLEtBQUtuVixTQUFTMFYsa0JBQWtCSyxLQUFLL0ksa0JBQWtCO1FBQUV6RTtRQUFPQztRQUFReEksU0FBUztZQUFFaUM7WUFBSyxHQUFHNlQsVUFBVTtRQUFDO0lBQUUsSUFBSTFWLE1BQU0sQ0FBQyxFQUFFbEMsSUFBSSxFQUFFeVIsWUFBWSxJQUFJLEVBQUUsVUFBVW9HLElBQUksQ0FBQztJQUNoWSxJQUFJM1YsSUFBSTVDLE1BQU0sR0FBR2lZLGdCQUNmLE9BQU92YSxtTkFBVUEsQ0FBQyxJQUFNLElBQUlhLE1BQU07SUFDcEMsTUFBTWlhLFlBQVloVyxRQUFRd0csTUFBTSxHQUFHeEcsUUFBUXdHLE1BQU0sR0FBRztRQUFDO0tBQVcsRUFBRXlQLFlBQVksQ0FBQztJQUMvRSxPQUFPN1EsbUJBQW9CNlEsQ0FBQUEsVUFBVTdRLGVBQWUsR0FBRyxDQUFDLElBQUlELFNBQVU4USxDQUFBQSxVQUFVOVgsT0FBTyxHQUFHO1FBQ3hGdU8sZUFBZSxDQUFDLE9BQU8sRUFBRXZILE1BQU0sQ0FBQztJQUNsQyxJQUFJbUIsbUJBQW1CLElBRXJCLDhFQUQ4RTtRQUM3RSxRQUFPNFAsY0FBYyxPQUFPRCxVQUFVOVgsT0FBTyxHQUFHaVgsc0JBQXNCMWEsME1BQUVBLENBQUN3YixZQUFXLEVBQUd4UCxJQUFJLENBQUMvSyxtREFBR0EsQ0FBQyxDQUFDMlosZUFBaUIsSUFBSUEsYUFBYWxWLEtBQUs2VixjQUN4SUQsV0FBV3RQLElBQUksQ0FDaEI2TyxnQ0FDQTNaLHNEQUFNQSxDQUFDLENBQUNzTCxRQUFVOE8sVUFBVTVVLFFBQVEsQ0FBQzhGLE1BQU10SixJQUFJLElBQy9DakMsbURBQUdBLENBQ0QsQ0FBQ3VMLFFBQVc7WUFDVnRKLE1BQU1zSixNQUFNdEosSUFBSTtZQUNoQixHQUFHLFVBQVVzSixRQUFRQSxNQUFNaEIsSUFBSSxHQUFHLENBQUMsQ0FBQztRQUN0QztBQUdOO0FBQ0EsU0FBU2lRLGtCQUFrQkMsaUJBQWlCLEVBQUVyVSxNQUFNO0lBQ2xELE9BQU9zVSxtQkFDTCxPQUFPRCxxQkFBcUIsYUFBYTtRQUFFRSxXQUFXRjtRQUFtQixHQUFHclUsTUFBTTtJQUFDLElBQUlxVTtBQUUzRjtBQUNBLFNBQVNDLG1CQUFtQnRVLE1BQU07SUFDaEMsT0FBTyxDQUFDb1M7UUFDTixJQUFJb0MsUUFBUUMsVUFBVSxDQUFDO1FBQ3ZCLE1BQU0sRUFBRUYsU0FBUyxFQUFFLEdBQUdHLGFBQWEsR0FBRzFVLFFBQVEyVSxVQUFVdkMsT0FBT3pOLElBQUksQ0FDakV0TCw0TUFBR0EsQ0FBQyxDQUFDaVM7WUFDSHRMLE9BQU91VSxTQUFTLENBQUNqSixVQUFXbUosQ0FBQUEsVUFBVSxDQUFDLEdBQUdELFNBQVNsSixLQUFJO1FBQ3pELElBQ0FoUyxpTkFBUUEsQ0FBQztZQUNQbWIsVUFBVSxDQUFDLEdBQUdELFNBQVMsS0FBSztRQUM5QixJQUNBamIsOE1BQUtBLENBQUNtYixlQUNMRSxhQUFhLElBQUluYyw4TUFBVUEsQ0FBQyxDQUFDd1g7WUFDOUJ3RSxXQUFXeEUsV0FBV3pLLElBQUksQ0FDeEIsNkZBQTZGO1lBQzdGZ1AsU0FDQ3ZFLFdBQVc0RSxRQUFRO1FBQ3hCO1FBQ0EsT0FBT3JiLDhNQUFLQSxDQUFDbWIsU0FBU0M7SUFDeEI7QUFDRjtBQUNBLE1BQU1FLHFCQUFxQjtBQUMzQixNQUFNQztJQUNKLENBQUNuTSxNQUFNLENBQUM7SUFDUjNPLFlBQVkyTyxNQUFNLENBQUU7UUFDbEIsSUFBSSxDQUFDLENBQUNBLE1BQU0sR0FBR0E7SUFDakI7SUFDQTs7R0FFQyxHQUNEbkUsT0FBTyxFQUNMdVEsZ0JBQWdCLENBQUMsQ0FBQyxFQUNsQjlVLEtBQUsrVSxJQUFJLEVBQ1YsR0FBRyxDQUFDLENBQUMsRUFBRTtRQUNOM1UsY0FBYyxRQUFRLElBQUksQ0FBQyxDQUFDc0ksTUFBTSxDQUFDNUksTUFBTTtRQUN6QyxNQUFNLEVBQ0p0RCxXQUFXQyxVQUFVLEVBQ3JCOEUsWUFBWXlULFdBQVcsRUFDdkI5UixLQUFLLEVBQ0xDLGVBQWUsRUFDZkcsZ0JBQWdCLEVBQ2pCLEdBQUcsSUFBSSxDQUFDLENBQUNvRixNQUFNLENBQUM1SSxNQUFNLElBQUl5QixhQUFheVQsWUFBWXpSLE9BQU8sQ0FBQyxNQUFNO1FBQ2xFLElBQUloQyxlQUFlLE9BQU9BLGFBQWFxVCxvQkFDckMsTUFBTSxJQUFJOWEsTUFDUixDQUFDLHlDQUF5QyxFQUFFOGEsbUJBQW1CLHNDQUFzQyxFQUFFclQsV0FBVyxxREFBcUQsQ0FBQztRQUU1SyxJQUFJdVQsaUJBQWlCLENBQUM1UixTQUFTLENBQUNDLGlCQUM5QixNQUFNLElBQUlySixNQUNSO1FBRUosTUFBTXVXLE9BQU8zQyxZQUFZLElBQUksQ0FBQyxDQUFDaEYsTUFBTSxFQUFFLGdCQUFnQnpNLE1BQU0sSUFBSVUsSUFBSSxJQUFJLENBQUMsQ0FBQytMLE1BQU0sQ0FBQ3VNLE1BQU0sQ0FBQzVFLE1BQU0sQ0FBQyxLQUFLclEsTUFBTStVLFFBQVF6UixtQkFBbUI7WUFBQ0E7WUFBa0J5UjtTQUFLLENBQUN2WixJQUFJLENBQUMsT0FBT3VaO1FBQzNLL1UsT0FBTy9ELElBQUlhLFlBQVksQ0FBQ0MsR0FBRyxDQUFDLE9BQU9pRCxNQUFNOFUsaUJBQWlCN1ksSUFBSWEsWUFBWSxDQUFDQyxHQUFHLENBQUMsaUJBQWlCO1FBQ2hHLE1BQU1pWCxZQUFZLENBQUM7UUFDbkJjLGlCQUFpQjVSLFNBQVU4USxDQUFBQSxVQUFVOVgsT0FBTyxHQUFHO1lBQzdDdU8sZUFBZSxDQUFDLE9BQU8sRUFBRXZILE1BQU0sQ0FBQztRQUNsQyxJQUFJNFIsaUJBQWlCM1IsbUJBQW9CNlEsQ0FBQUEsVUFBVTdRLGVBQWUsR0FBRyxDQUFDO1FBQ3RFLE1BQU1nSSxNQUFNLENBQUMsRUFBRWxQLElBQUlpWixJQUFJLENBQUMsRUFBRSxFQUFFN1ksS0FBS0MsU0FBUyxDQUFDMFgsV0FBVyxDQUFDLEVBQUVtQixXQUFXQyxZQUFZQyxHQUFHLENBQUNsSztRQUNwRixJQUFJZ0ssVUFDRixPQUFPQTtRQUNULE1BQU01USxTQUFTRixtQkFBbUIsSUFFaEMsOEVBRDhFO1lBQzdFLFFBQU80UCxjQUFjLE9BQU9ELFVBQVU5WCxPQUFPLEdBQUdpWCxzQkFBc0IxYSwwTUFBRUEsQ0FBQ3diLFlBQVcsRUFBR3hQLElBQUksQ0FBQy9LLG1EQUFHQSxDQUFDLENBQUMyWixlQUFpQixJQUFJQSxhQUFhcFgsSUFBSWlaLElBQUksRUFBRWxCLGNBQzdJO1lBQ0Q7WUFDQTtZQUNBO1lBQ0E7WUFDQTtTQUNELEVBQUV2UCxJQUFJLENBQ0w2TyxnQ0FDQTVaLG1EQUFHQSxDQUFDLENBQUN1TDtZQUNILElBQUlBLE1BQU10SixJQUFJLEtBQUssV0FBVztnQkFDNUIsTUFBTSxFQUFFc0ksSUFBSSxFQUFFLEdBQUdxUixNQUFNLEdBQUdyUTtnQkFDMUIsT0FBTztvQkFBRSxHQUFHcVEsSUFBSTtvQkFBRUMsTUFBTXRSLEtBQUtzUixJQUFJO2dCQUFDO1lBQ3BDO1lBQ0EsT0FBT3RRO1FBQ1QsS0FDQ3VRLFlBQVlDLGdCQUFnQnhaLEtBQUs7WUFDbENELFFBQVE7WUFDUjBaLE1BQU07WUFDTkMsYUFBYTNCLFVBQVU3USxlQUFlLEdBQUcsWUFBWTtZQUNyRGpILFNBQVM4WCxVQUFVOVgsT0FBTztRQUM1QixHQUFHdUksSUFBSSxDQUNMOUwsZ05BQVFBLENBQUMsSUFBTVksME1BQUtBLEdBQ3BCUixtTkFBVUEsQ0FBQztZQUNULE1BQU0sSUFBSXdELGdCQUFnQjtnQkFBRUMsV0FBV0M7WUFBVztRQUNwRCxLQUNDaVYsY0FBYzFZLCtNQUFNQSxDQUFDd2MsV0FBV2pSLFFBQVFFLElBQUksQ0FDN0M3Syx3REFBVUEsQ0FBQyxJQUFNd2IsWUFBWXpMLE1BQU0sQ0FBQ3dCLE9BQ3BDK0ksa0JBQWtCO1lBQ2hCRyxXQUFXLENBQUNwUCxRQUFVQSxNQUFNdEosSUFBSSxLQUFLO1FBQ3ZDO1FBRUYsT0FBT3laLFlBQVlyWSxHQUFHLENBQUNvTyxLQUFLdUcsY0FBY0E7SUFDNUM7QUFDRjtBQUNBLFNBQVMrRCxnQkFBZ0J4WixHQUFHLEVBQUUyWixJQUFJO0lBQ2hDLE9BQU8sSUFBSXJkLDhNQUFVQSxDQUFDLENBQUNvTTtRQUNyQixNQUFNa1IsYUFBYSxJQUFJQyxtQkFBbUI5SSxTQUFTNkksV0FBVzdJLE1BQU07UUFDcEUsT0FBT2xDLE1BQU03TyxLQUFLO1lBQUUsR0FBRzJaLElBQUk7WUFBRTVJLFFBQVE2SSxXQUFXN0ksTUFBTTtRQUFDLEdBQUdLLElBQUksQ0FDNUQsQ0FBQzVTO1lBQ0NrSyxTQUFTVyxJQUFJLENBQUM3SyxXQUFXa0ssU0FBU2dRLFFBQVE7UUFDNUMsR0FDQSxDQUFDOVc7WUFDQ21QLE9BQU84RCxPQUFPLElBQUluTSxTQUFTOUosS0FBSyxDQUFDZ0Q7UUFDbkMsSUFDQyxJQUFNZ1ksV0FBV2pGLEtBQUs7SUFDM0I7QUFDRjtBQUNBLE1BQU13RSxjQUFjLGFBQWEsR0FBRyxJQUFJVztBQUN4QyxNQUFNQztJQUNKLENBQUN0TixNQUFNLENBQUM7SUFDUixDQUFDOEQsV0FBVyxDQUFDO0lBQ2J6UyxZQUFZMk8sTUFBTSxFQUFFOEQsV0FBVyxDQUFFO1FBQy9CLElBQUksQ0FBQyxDQUFDOUQsTUFBTSxHQUFHQSxRQUFRLElBQUksQ0FBQyxDQUFDOEQsV0FBVyxHQUFHQTtJQUM3QztJQUNBOzs7OztHQUtDLEdBQ0RqRCxPQUFPN00sSUFBSSxFQUFFcUIsT0FBTyxFQUFFO1FBQ3BCLE9BQU9rWSxRQUFRLElBQUksQ0FBQyxDQUFDdk4sTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDOEQsV0FBVyxFQUFFLE9BQU85UCxNQUFNcUI7SUFDL0Q7SUFDQTs7Ozs7R0FLQyxHQUNEbVksS0FBS3haLElBQUksRUFBRXFCLE9BQU8sRUFBRTtRQUNsQixPQUFPa1ksUUFBUSxJQUFJLENBQUMsQ0FBQ3ZOLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzhELFdBQVcsRUFBRSxTQUFTOVAsTUFBTXFCO0lBQ2pFO0lBQ0E7Ozs7R0FJQyxHQUNENEwsT0FBT2pOLElBQUksRUFBRTtRQUNYLE9BQU91WixRQUFRLElBQUksQ0FBQyxDQUFDdk4sTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDOEQsV0FBVyxFQUFFLFVBQVU5UDtJQUM1RDtJQUNBOztHQUVDLEdBQ0R5WixPQUFPO1FBQ0wsT0FBT2hHLFNBQVMsSUFBSSxDQUFDLENBQUN6SCxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEVBQUU7WUFDL0NyTyxLQUFLO1lBQ0w2QixLQUFLO1FBQ1A7SUFDRjtBQUNGO0FBQ0EsTUFBTW9XO0lBQ0osQ0FBQzFOLE1BQU0sQ0FBQztJQUNSLENBQUM4RCxXQUFXLENBQUM7SUFDYnpTLFlBQVkyTyxNQUFNLEVBQUU4RCxXQUFXLENBQUU7UUFDL0IsSUFBSSxDQUFDLENBQUM5RCxNQUFNLEdBQUdBLFFBQVEsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEdBQUdBO0lBQzdDO0lBQ0E7Ozs7O0dBS0MsR0FDRGpELE9BQU83TSxJQUFJLEVBQUVxQixPQUFPLEVBQUU7UUFDcEIsT0FBT3FDLGNBQWMsV0FBVyxJQUFJLENBQUMsQ0FBQ3NJLE1BQU0sQ0FBQzVJLE1BQU0sS0FBS2pILHNOQUFhQSxDQUNuRW9kLFFBQVEsSUFBSSxDQUFDLENBQUN2TixNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEVBQUUsT0FBTzlQLE1BQU1xQjtJQUUxRDtJQUNBOzs7OztHQUtDLEdBQ0RtWSxLQUFLeFosSUFBSSxFQUFFcUIsT0FBTyxFQUFFO1FBQ2xCLE9BQU9xQyxjQUFjLFdBQVcsSUFBSSxDQUFDLENBQUNzSSxNQUFNLENBQUM1SSxNQUFNLEtBQUtqSCxzTkFBYUEsQ0FDbkVvZCxRQUFRLElBQUksQ0FBQyxDQUFDdk4sTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDOEQsV0FBVyxFQUFFLFNBQVM5UCxNQUFNcUI7SUFFNUQ7SUFDQTs7OztHQUlDLEdBQ0Q0TCxPQUFPak4sSUFBSSxFQUFFO1FBQ1gsT0FBTzBELGNBQWMsV0FBVyxJQUFJLENBQUMsQ0FBQ3NJLE1BQU0sQ0FBQzVJLE1BQU0sS0FBS2pILHNOQUFhQSxDQUFDb2QsUUFBUSxJQUFJLENBQUMsQ0FBQ3ZOLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzhELFdBQVcsRUFBRSxVQUFVOVA7SUFDM0g7SUFDQTs7R0FFQyxHQUNEeVosT0FBTztRQUNMLE9BQU8vVixjQUFjLFdBQVcsSUFBSSxDQUFDLENBQUNzSSxNQUFNLENBQUM1SSxNQUFNLEtBQUtqSCxzTkFBYUEsQ0FDbkVzWCxTQUFTLElBQUksQ0FBQyxDQUFDekgsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDOEQsV0FBVyxFQUFFO1lBQUVyTyxLQUFLO1lBQWE2QixLQUFLO1FBQUs7SUFFNUU7QUFDRjtBQUNBLFNBQVNpVyxRQUFRdk4sTUFBTSxFQUFFOEQsV0FBVyxFQUFFeFEsTUFBTSxFQUFFVSxJQUFJLEVBQUVxQixPQUFPO0lBQ3pELE9BQU9xQyxjQUFjLFdBQVdzSSxPQUFPNUksTUFBTSxLQUFLbkIsUUFBUWpDLE9BQU95VCxTQUFTekgsUUFBUThELGFBQWE7UUFDN0Z4UTtRQUNBbUMsS0FBSyxDQUFDLFVBQVUsRUFBRXpCLEtBQUssQ0FBQztRQUN4QmxDLE1BQU11RDtRQUNOaUMsS0FBSztJQUNQO0FBQ0Y7QUFDQSxNQUFNcVc7SUFDSixDQUFDM04sTUFBTSxDQUFDO0lBQ1IsQ0FBQzhELFdBQVcsQ0FBQztJQUNielMsWUFBWTJPLE1BQU0sRUFBRThELFdBQVcsQ0FBRTtRQUMvQixJQUFJLENBQUMsQ0FBQzlELE1BQU0sR0FBR0EsUUFBUSxJQUFJLENBQUMsQ0FBQzhELFdBQVcsR0FBR0E7SUFDN0M7SUFDQTJKLEtBQUtwWSxPQUFPLEVBQUU7UUFDWnFDLGNBQWMsWUFBWSxJQUFJLENBQUMsQ0FBQ3NJLE1BQU0sQ0FBQzVJLE1BQU07UUFDN0MsTUFBTTNCLE1BQU1KLFNBQVN1WSxtQkFBbUIsQ0FBQyxJQUFJLG1DQUFtQztRQUNoRixPQUFPbkcsU0FBUyxJQUFJLENBQUMsQ0FBQ3pILE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzhELFdBQVcsRUFBRTtZQUFFck87UUFBSTtJQUN6RDtJQUNBOzs7O0dBSUMsR0FDRG9ZLFFBQVE5WixVQUFVLEVBQUU7UUFDbEIsT0FBTzJELGNBQWMsWUFBWSxJQUFJLENBQUMsQ0FBQ3NJLE1BQU0sQ0FBQzVJLE1BQU0sS0FBS3FRLFNBQVMsSUFBSSxDQUFDLENBQUN6SCxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEVBQUU7WUFBRXJPLEtBQUssQ0FBQyxVQUFVLEVBQUUxQixXQUFXLENBQUM7UUFBQztJQUN0STtBQUNGO0FBQ0EsTUFBTStaO0lBQ0osQ0FBQzlOLE1BQU0sQ0FBQztJQUNSLENBQUM4RCxXQUFXLENBQUM7SUFDYnpTLFlBQVkyTyxNQUFNLEVBQUU4RCxXQUFXLENBQUU7UUFDL0IsSUFBSSxDQUFDLENBQUM5RCxNQUFNLEdBQUdBLFFBQVEsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEdBQUdBO0lBQzdDO0lBQ0EySixLQUFLcFksT0FBTyxFQUFFO1FBQ1pxQyxjQUFjLFlBQVksSUFBSSxDQUFDLENBQUNzSSxNQUFNLENBQUM1SSxNQUFNO1FBQzdDLE1BQU0zQixNQUFNSixTQUFTdVksbUJBQW1CLENBQUMsSUFBSSxtQ0FBbUM7UUFDaEYsT0FBT3pkLHNOQUFhQSxDQUFDc1gsU0FBUyxJQUFJLENBQUMsQ0FBQ3pILE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzhELFdBQVcsRUFBRTtZQUFFck87UUFBSTtJQUN2RTtJQUNBOzs7O0dBSUMsR0FDRG9ZLFFBQVE5WixVQUFVLEVBQUU7UUFDbEIsT0FBTzJELGNBQWMsWUFBWSxJQUFJLENBQUMsQ0FBQ3NJLE1BQU0sQ0FBQzVJLE1BQU0sS0FBS2pILHNOQUFhQSxDQUNwRXNYLFNBQVMsSUFBSSxDQUFDLENBQUN6SCxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEVBQUU7WUFBRXJPLEtBQUssQ0FBQyxVQUFVLEVBQUUxQixXQUFXLENBQUM7UUFBQztJQUUvRTtBQUNGO0FBQ0EsTUFBTWdhO0lBQ0osQ0FBQy9OLE1BQU0sQ0FBQztJQUNSLENBQUM4RCxXQUFXLENBQUM7SUFDYnpTLFlBQVkyTyxNQUFNLEVBQUU4RCxXQUFXLENBQUU7UUFDL0IsSUFBSSxDQUFDLENBQUM5RCxNQUFNLEdBQUdBLFFBQVEsSUFBSSxDQUFDLENBQUM4RCxXQUFXLEdBQUdBO0lBQzdDO0lBQ0E7Ozs7R0FJQyxHQUNEK0osUUFBUTFYLEVBQUUsRUFBRTtRQUNWLE9BQU9zUixTQUNMLElBQUksQ0FBQyxDQUFDekgsTUFBTSxFQUNaLElBQUksQ0FBQyxDQUFDOEQsV0FBVyxFQUNqQjtZQUFFck8sS0FBSyxDQUFDLE9BQU8sRUFBRVUsR0FBRyxDQUFDO1FBQUM7SUFFMUI7QUFDRjtBQUNBLE1BQU02WDtJQUNKLENBQUNoTyxNQUFNLENBQUM7SUFDUixDQUFDOEQsV0FBVyxDQUFDO0lBQ2J6UyxZQUFZMk8sTUFBTSxFQUFFOEQsV0FBVyxDQUFFO1FBQy9CLElBQUksQ0FBQyxDQUFDOUQsTUFBTSxHQUFHQSxRQUFRLElBQUksQ0FBQyxDQUFDOEQsV0FBVyxHQUFHQTtJQUM3QztJQUNBOzs7O0dBSUMsR0FDRCtKLFFBQVExWCxFQUFFLEVBQUU7UUFDVixPQUFPaEcsc05BQWFBLENBQ2xCc1gsU0FBUyxJQUFJLENBQUMsQ0FBQ3pILE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzhELFdBQVcsRUFBRTtZQUN4Q3JPLEtBQUssQ0FBQyxPQUFPLEVBQUVVLEdBQUcsQ0FBQztRQUNyQjtJQUVKO0FBQ0Y7QUFDQSxNQUFNOFg7SUFNSjs7R0FFQyxHQUNELENBQUNDLFlBQVksQ0FBQztJQUNkLENBQUNwSyxXQUFXLENBQUM7SUFLYnpTLFlBQVl5UyxXQUFXLEVBQUUxTSxTQUFTdUIsYUFBYSxDQUFFO1FBSmpEOztHQUVDLFFBQ0R3VixTQUFTakQ7UUFFUCxJQUFJLENBQUM5VCxNQUFNLENBQUNBLFNBQVMsSUFBSSxDQUFDLENBQUMwTSxXQUFXLEdBQUdBLGFBQWEsSUFBSSxDQUFDc0ssTUFBTSxHQUFHLElBQUl6Rix1QkFBdUIsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDN0UsV0FBVyxHQUFHLElBQUksQ0FBQ3VLLFFBQVEsR0FBRyxJQUFJZix5QkFBeUIsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDeEosV0FBVyxHQUFHLElBQUksQ0FBQ3dLLElBQUksR0FBRyxJQUFJbkMsV0FBVyxJQUFJLEdBQUcsSUFBSSxDQUFDb0MsUUFBUSxHQUFHLElBQUlaLHlCQUF5QixJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM3SixXQUFXLEdBQUcsSUFBSSxDQUFDMEssS0FBSyxHQUFHLElBQUlULHNCQUFzQixJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUNqSyxXQUFXO0lBQ3pXO0lBQ0E7O0dBRUMsR0FDRDdELFFBQVE7UUFDTixPQUFPLElBQUlnTyx1QkFBdUIsSUFBSSxDQUFDLENBQUNuSyxXQUFXLEVBQUUsSUFBSSxDQUFDMU0sTUFBTTtJQUNsRTtJQUNBQSxPQUFPMEMsU0FBUyxFQUFFO1FBQ2hCLElBQUlBLGNBQWMsS0FBSyxHQUNyQixPQUFPO1lBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQ29VLFlBQVk7UUFBQztRQUNqQyxJQUFJLElBQUksQ0FBQyxDQUFDQSxZQUFZLElBQUksSUFBSSxDQUFDLENBQUNBLFlBQVksQ0FBQ08sZ0JBQWdCLEtBQUssQ0FBQyxHQUNqRSxNQUFNLElBQUlyZCxNQUNSO1FBRUosT0FBTyxJQUFJLENBQUMsQ0FBQzhjLFlBQVksR0FBR3ZVLFdBQVdHLFdBQVcsSUFBSSxDQUFDLENBQUNvVSxZQUFZLElBQUksQ0FBQyxJQUFJLElBQUk7SUFDbkY7SUFDQTs7OztHQUlDLEdBQ0RRLFdBQVc1VSxTQUFTLEVBQUU7UUFDcEIsTUFBTTZVLGFBQWEsSUFBSSxDQUFDdlgsTUFBTTtRQUM5QixPQUFPLElBQUk2Vyx1QkFBdUIsSUFBSSxDQUFDLENBQUNuSyxXQUFXLEVBQUU7WUFDbkQsR0FBRzZLLFVBQVU7WUFDYixHQUFHN1UsU0FBUztZQUNaZixPQUFPO2dCQUNMLEdBQUc0VixXQUFXNVYsS0FBSyxJQUFJLENBQUMsQ0FBQztnQkFDekIsR0FBRyxPQUFPZSxXQUFXZixTQUFTLFlBQVk7b0JBQUVDLFNBQVNjLFVBQVVmLEtBQUs7Z0JBQUMsSUFBSWUsV0FBV2YsU0FBUyxDQUFDLENBQUM7WUFDakc7UUFDRjtJQUNGO0lBQ0FxSixNQUFNeEUsS0FBSyxFQUFFQyxNQUFNLEVBQUV4SSxPQUFPLEVBQUU7UUFDNUIsT0FBT3dPLE9BQ0wsSUFBSSxFQUNKLElBQUksQ0FBQyxDQUFDQyxXQUFXLEVBQ2pCLElBQUksQ0FBQyxDQUFDb0ssWUFBWSxDQUFDblYsS0FBSyxFQUN4QjZFLE9BQ0FDLFFBQ0F4STtJQUVKO0lBQ0E7Ozs7O0dBS0MsR0FDRHVaLFlBQVl6WSxFQUFFLEVBQUVkLE9BQU8sRUFBRTtRQUN2QixPQUFPMFAsYUFBYSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUNqQixXQUFXLEVBQUUzTixJQUFJZDtJQUNuRDtJQUNBOzs7Ozs7OztHQVFDLEdBQ0R3WixhQUFhL1EsR0FBRyxFQUFFekksT0FBTyxFQUFFO1FBQ3pCLE9BQU84UCxjQUFjLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQ3JCLFdBQVcsRUFBRWhHLEtBQUt6STtJQUNyRDtJQUNBd0wsT0FBTzRGLFFBQVEsRUFBRXBSLE9BQU8sRUFBRTtRQUN4QixPQUFPZ1EsUUFBUSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUN2QixXQUFXLEVBQUUyQyxVQUFVLFVBQVVwUjtJQUM5RDtJQUNBMEwsa0JBQWtCMEYsUUFBUSxFQUFFcFIsT0FBTyxFQUFFO1FBQ25DLE9BQU8rUCxtQkFBbUIsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDdEIsV0FBVyxFQUFFMkMsVUFBVXBSO0lBQy9EO0lBQ0EyTCxnQkFBZ0J5RixRQUFRLEVBQUVwUixPQUFPLEVBQUU7UUFDakMsT0FBT2lRLGlCQUFpQixJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUN4QixXQUFXLEVBQUUyQyxVQUFVcFI7SUFDN0Q7SUFDQTRMLE9BQU9oRCxTQUFTLEVBQUU1SSxPQUFPLEVBQUU7UUFDekIsT0FBT2tRLFFBQVEsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDekIsV0FBVyxFQUFFN0YsV0FBVzVJO0lBQ3JEO0lBQ0FpTCxPQUFPcEMsVUFBVSxFQUFFN0ksT0FBTyxFQUFFO1FBQzFCLE9BQU9vUSxRQUFRLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzNCLFdBQVcsRUFBRTVGLFlBQVk3STtJQUN0RDtJQUNBOzs7Ozs7R0FNQyxHQUNEa0wsTUFBTXRDLFNBQVMsRUFBRUMsVUFBVSxFQUFFO1FBQzNCLE9BQU8sSUFBSTZCLGdCQUFnQjlCLFdBQVdDLFlBQVksSUFBSTtJQUN4RDtJQUNBOzs7O0dBSUMsR0FDRDRRLFlBQVk1USxVQUFVLEVBQUU7UUFDdEIsT0FBTyxJQUFJeUQsc0JBQXNCekQsWUFBWSxJQUFJO0lBQ25EO0lBQ0E7Ozs7O0dBS0MsR0FDRDZRLE9BQU83USxVQUFVLEVBQUU3SSxPQUFPLEVBQUU7UUFDMUIsT0FBT3NRLFFBQVEsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDN0IsV0FBVyxFQUFFNUYsWUFBWTdJO0lBQ3REO0lBQ0E7Ozs7R0FJQyxHQUNEK1IsUUFBUS9SLE9BQU8sRUFBRTtRQUNmLE9BQU9vUyxTQUFTLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzNELFdBQVcsRUFBRXpPO0lBQzNDO0lBQ0E7Ozs7O0dBS0MsR0FDRGtYLE9BQU85VyxHQUFHLEVBQUU4USxTQUFTLEVBQUU7UUFDckIsT0FBT1ksUUFBUSxJQUFJLEVBQUUxUixLQUFLOFE7SUFDNUI7SUFDQTs7Ozs7R0FLQyxHQUNEeUksV0FBV3RILFNBQVMsRUFBRUMsSUFBSSxFQUFFO1FBQzFCLE9BQU8zQyxZQUFZLElBQUksRUFBRTBDLFdBQVdDO0lBQ3RDO0FBQ0Y7QUFDQSxNQUFNc0g7SUFVSjs7R0FFQyxHQUNELENBQUNmLFlBQVksQ0FBQztJQUNkLENBQUNwSyxXQUFXLENBQUM7SUFLYnpTLFlBQVl5UyxXQUFXLEVBQUUxTSxTQUFTdUIsYUFBYSxDQUFFO1FBSmpEOztHQUVDLFFBQ0R3VixTQUFTakQ7UUFFUCxJQUFJLENBQUM5VCxNQUFNLENBQUNBLFNBQVMsSUFBSSxDQUFDLENBQUMwTSxXQUFXLEdBQUdBLGFBQWEsSUFBSSxDQUFDc0ssTUFBTSxHQUFHLElBQUlyRixhQUFhLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQ2pGLFdBQVcsR0FBRyxJQUFJLENBQUN1SyxRQUFRLEdBQUcsSUFBSVgsZUFBZSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM1SixXQUFXLEdBQUcsSUFBSSxDQUFDd0ssSUFBSSxHQUFHLElBQUluQyxXQUFXLElBQUksR0FBRyxJQUFJLENBQUNvQyxRQUFRLEdBQUcsSUFBSVQsZUFBZSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUNoSyxXQUFXLEdBQUcsSUFBSSxDQUFDMEssS0FBSyxHQUFHLElBQUlSLFlBQVksSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDbEssV0FBVyxHQUFHLElBQUksQ0FBQ2xVLFVBQVUsR0FBRyxJQUFJcWUsdUJBQXVCbkssYUFBYTFNO0lBQzlYO0lBQ0E7O0dBRUMsR0FDRDZJLFFBQVE7UUFDTixPQUFPLElBQUlnUCxhQUFhLElBQUksQ0FBQyxDQUFDbkwsV0FBVyxFQUFFLElBQUksQ0FBQzFNLE1BQU07SUFDeEQ7SUFDQUEsT0FBTzBDLFNBQVMsRUFBRTtRQUNoQixJQUFJQSxjQUFjLEtBQUssR0FDckIsT0FBTztZQUFFLEdBQUcsSUFBSSxDQUFDLENBQUNvVSxZQUFZO1FBQUM7UUFDakMsSUFBSSxJQUFJLENBQUMsQ0FBQ0EsWUFBWSxJQUFJLElBQUksQ0FBQyxDQUFDQSxZQUFZLENBQUNPLGdCQUFnQixLQUFLLENBQUMsR0FDakUsTUFBTSxJQUFJcmQsTUFDUjtRQUVKLE9BQU8sSUFBSSxDQUFDeEIsVUFBVSxJQUFJLElBQUksQ0FBQ0EsVUFBVSxDQUFDd0gsTUFBTSxDQUFDMEMsWUFBWSxJQUFJLENBQUMsQ0FBQ29VLFlBQVksR0FBR3ZVLFdBQVdHLFdBQVcsSUFBSSxDQUFDLENBQUNvVSxZQUFZLElBQUksQ0FBQyxJQUFJLElBQUk7SUFDekk7SUFDQTs7OztHQUlDLEdBQ0RRLFdBQVc1VSxTQUFTLEVBQUU7UUFDcEIsTUFBTTZVLGFBQWEsSUFBSSxDQUFDdlgsTUFBTTtRQUM5QixPQUFPLElBQUk2WCxhQUFhLElBQUksQ0FBQyxDQUFDbkwsV0FBVyxFQUFFO1lBQ3pDLEdBQUc2SyxVQUFVO1lBQ2IsR0FBRzdVLFNBQVM7WUFDWmYsT0FBTztnQkFDTCxHQUFHNFYsV0FBVzVWLEtBQUssSUFBSSxDQUFDLENBQUM7Z0JBQ3pCLEdBQUcsT0FBT2UsV0FBV2YsU0FBUyxZQUFZO29CQUFFQyxTQUFTYyxVQUFVZixLQUFLO2dCQUFDLElBQUllLFdBQVdmLFNBQVMsQ0FBQyxDQUFDO1lBQ2pHO1FBQ0Y7SUFDRjtJQUNBcUosTUFBTXhFLEtBQUssRUFBRUMsTUFBTSxFQUFFeEksT0FBTyxFQUFFO1FBQzVCLE9BQU9sRixzTkFBYUEsQ0FDbEIwVCxPQUNFLElBQUksRUFDSixJQUFJLENBQUMsQ0FBQ0MsV0FBVyxFQUNqQixJQUFJLENBQUMsQ0FBQ29LLFlBQVksQ0FBQ25WLEtBQUssRUFDeEI2RSxPQUNBQyxRQUNBeEk7SUFHTjtJQUNBOzs7OztHQUtDLEdBQ0R1WixZQUFZelksRUFBRSxFQUFFZCxPQUFPLEVBQUU7UUFDdkIsT0FBT2xGLHNOQUFhQSxDQUFDNFUsYUFBYSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUNqQixXQUFXLEVBQUUzTixJQUFJZDtJQUNqRTtJQUNBOzs7Ozs7OztHQVFDLEdBQ0R3WixhQUFhL1EsR0FBRyxFQUFFekksT0FBTyxFQUFFO1FBQ3pCLE9BQU9sRixzTkFBYUEsQ0FBQ2dWLGNBQWMsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDckIsV0FBVyxFQUFFaEcsS0FBS3pJO0lBQ25FO0lBQ0F3TCxPQUFPNEYsUUFBUSxFQUFFcFIsT0FBTyxFQUFFO1FBQ3hCLE9BQU9sRixzTkFBYUEsQ0FDbEJrVixRQUFRLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQ3ZCLFdBQVcsRUFBRTJDLFVBQVUsVUFBVXBSO0lBRXpEO0lBQ0EwTCxrQkFBa0IwRixRQUFRLEVBQUVwUixPQUFPLEVBQUU7UUFDbkMsT0FBT2xGLHNOQUFhQSxDQUNsQmlWLG1CQUFtQixJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUN0QixXQUFXLEVBQUUyQyxVQUFVcFI7SUFFMUQ7SUFDQTJMLGdCQUFnQnlGLFFBQVEsRUFBRXBSLE9BQU8sRUFBRTtRQUNqQyxPQUFPbEYsc05BQWFBLENBQ2xCbVYsaUJBQWlCLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQ3hCLFdBQVcsRUFBRTJDLFVBQVVwUjtJQUV4RDtJQUNBNEwsT0FBT2hELFNBQVMsRUFBRTVJLE9BQU8sRUFBRTtRQUN6QixPQUFPbEYsc05BQWFBLENBQUNvVixRQUFRLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQ3pCLFdBQVcsRUFBRTdGLFdBQVc1STtJQUNuRTtJQUNBaUwsT0FBT3BDLFVBQVUsRUFBRTdJLE9BQU8sRUFBRTtRQUMxQixPQUFPbEYsc05BQWFBLENBQUNzVixRQUFRLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzNCLFdBQVcsRUFBRTVGLFlBQVk3STtJQUNwRTtJQUNBOzs7Ozs7R0FNQyxHQUNEa0wsTUFBTVcsVUFBVSxFQUFFaEQsVUFBVSxFQUFFO1FBQzVCLE9BQU8sSUFBSXNDLE1BQU1VLFlBQVloRCxZQUFZLElBQUk7SUFDL0M7SUFDQTs7OztHQUlDLEdBQ0Q0USxZQUFZNVEsVUFBVSxFQUFFO1FBQ3RCLE9BQU8sSUFBSW1ELFlBQVluRCxZQUFZLElBQUk7SUFDekM7SUFDQTs7Ozs7O0dBTUMsR0FDRDZRLE9BQU83USxVQUFVLEVBQUU3SSxPQUFPLEVBQUU7UUFDMUIsT0FBT2xGLHNOQUFhQSxDQUFDd1YsUUFBUSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM3QixXQUFXLEVBQUU1RixZQUFZN0k7SUFDcEU7SUFDQTs7Ozs7O0dBTUMsR0FDRCtSLFFBQVEvUixPQUFPLEVBQUU7UUFDZixPQUFPbEYsc05BQWFBLENBQUNzWCxTQUFTLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzNELFdBQVcsRUFBRXpPO0lBQ3pEO0lBQ0E7Ozs7Ozs7OztHQVNDLEdBQ0Q2WixZQUFZcEosUUFBUSxFQUFFaFUsSUFBSSxFQUFFdUQsT0FBTyxFQUFFO1FBQ25DLE9BQU9sRixzTkFBYUEsQ0FBQ3VVLGFBQWEsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDWixXQUFXLEVBQUVnQyxVQUFVaFUsTUFBTXVEO0lBQzdFO0lBQ0E7Ozs7O0dBS0MsR0FDRGtYLE9BQU85VyxHQUFHLEVBQUU4USxTQUFTLEVBQUU7UUFDckIsT0FBT1ksUUFBUSxJQUFJLEVBQUUxUixLQUFLOFE7SUFDNUI7SUFDQTs7Ozs7R0FLQyxHQUNEeUksV0FBV3RILFNBQVMsRUFBRUMsSUFBSSxFQUFFO1FBQzFCLE9BQU8zQyxZQUFZLElBQUksRUFBRTBDLFdBQVdDO0lBQ3RDO0FBQ0Y7QUFDQSxTQUFTd0gsMEJBQTBCbmEsY0FBYyxFQUFFb2EsZ0JBQWdCO0lBQ2pFLE9BQU87UUFBRTlILFdBQVd2UyxrQkFBa0JDO1FBQWlCcWEsY0FBYyxDQUFDalk7WUFDcEUsTUFBTWtZLGtCQUFrQnZhLGtCQUFrQkM7WUFDMUMsT0FBTyxJQUFJb2EsaUJBQ1QsQ0FBQy9aLFNBQVNrYSxhQUFlLENBQUNBLGNBQWNELGVBQWMsRUFBRztvQkFDdkRFLGNBQWM7b0JBQ2RsYSxZQUFZOEIsT0FBTzlCLFVBQVU7b0JBQzdCbWEsWUFBWXJZLE9BQU9xWSxVQUFVO29CQUM3QixHQUFHcGEsT0FBTztnQkFDWixJQUNBK0I7UUFFSjtJQUFFO0FBQ0o7QUFDQSxTQUFTc1ksNkJBQTZCQyxhQUFhO0lBQ2pELE9BQU8sU0FBU3ZZLE1BQU07UUFDcEIsT0FBT3FCLHdCQUF3QmtYLGNBQWN2WTtJQUMvQztBQUNGO0FBQ0EsSUFBSXdZLGdCQUFnQixFQUFFO0FBQ3RCLE1BQU1DLE1BQU1WLDBCQUEwQlMsZUFBZVgsZUFBZTNILFlBQVl1SSxJQUFJdkksU0FBUyxFQUFFK0gsZUFBZVEsSUFBSVIsWUFBWSxFQUFFUyx5QkFBeUJKLDZCQUE2Qkw7QUF5QnBMLENBQ0YseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHNtcGxhdC93ZWIvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BzYW5pdHkrY2xpZW50QDYuMjkuMV9kZWJ1Z0A0LjQuMy9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5icm93c2VyLmpzP2FlODkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0SXQgfSBmcm9tIFwiZ2V0LWl0XCI7XG5pbXBvcnQgeyBhZGFwdGVyLCBlbnZpcm9ubWVudCB9IGZyb20gXCJnZXQtaXRcIjtcbmltcG9ydCB7IHJldHJ5LCBqc29uUmVxdWVzdCwganNvblJlc3BvbnNlLCBwcm9ncmVzcywgb2JzZXJ2YWJsZSB9IGZyb20gXCJnZXQtaXQvbWlkZGxld2FyZVwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZGVmZXIsIG9mLCBpc09ic2VydmFibGUsIG1lcmdlTWFwLCBmcm9tLCBsYXN0VmFsdWVGcm9tLCBzaGFyZVJlcGxheSwgY2F0Y2hFcnJvciwgY29uY2F0LCB0aHJvd0Vycm9yLCB0aW1lciwgdGFwLCBmaW5hbGl6ZSwgc2hhcmUsIG1lcmdlLCBFTVBUWSB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBzdGVnYUNsZWFuIH0gZnJvbSBcIi4vX2NodW5rcy1lcy9zdGVnYUNsZWFuLmpzXCI7XG5pbXBvcnQgeyBjb21iaW5lTGF0ZXN0V2l0aCwgbWFwLCBmaWx0ZXIsIGZpbmFsaXplIGFzIGZpbmFsaXplJDEgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcbmNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICByZXNwb25zZTtcbiAgc3RhdHVzQ29kZSA9IDQwMDtcbiAgcmVzcG9uc2VCb2R5O1xuICBkZXRhaWxzO1xuICBjb25zdHJ1Y3RvcihyZXMpIHtcbiAgICBjb25zdCBwcm9wcyA9IGV4dHJhY3RFcnJvclByb3BzKHJlcyk7XG4gICAgc3VwZXIocHJvcHMubWVzc2FnZSksIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICB9XG59XG5jbGFzcyBTZXJ2ZXJFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgcmVzcG9uc2U7XG4gIHN0YXR1c0NvZGUgPSA1MDA7XG4gIHJlc3BvbnNlQm9keTtcbiAgZGV0YWlscztcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpLCBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxufVxuZnVuY3Rpb24gZXh0cmFjdEVycm9yUHJvcHMocmVzKSB7XG4gIGNvbnN0IGJvZHkgPSByZXMuYm9keSwgcHJvcHMgPSB7XG4gICAgcmVzcG9uc2U6IHJlcyxcbiAgICBzdGF0dXNDb2RlOiByZXMuc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUJvZHk6IHN0cmluZ2lmeUJvZHkoYm9keSwgcmVzKSxcbiAgICBtZXNzYWdlOiBcIlwiLFxuICAgIGRldGFpbHM6IHZvaWQgMFxuICB9O1xuICBpZiAoYm9keS5lcnJvciAmJiBib2R5Lm1lc3NhZ2UpXG4gICAgcmV0dXJuIHByb3BzLm1lc3NhZ2UgPSBgJHtib2R5LmVycm9yfSAtICR7Ym9keS5tZXNzYWdlfWAsIHByb3BzO1xuICBpZiAoaXNNdXRhdGlvbkVycm9yKGJvZHkpIHx8IGlzQWN0aW9uRXJyb3IoYm9keSkpIHtcbiAgICBjb25zdCBhbGxJdGVtcyA9IGJvZHkuZXJyb3IuaXRlbXMgfHwgW10sIGl0ZW1zID0gYWxsSXRlbXMuc2xpY2UoMCwgNSkubWFwKChpdGVtKSA9PiBpdGVtLmVycm9yPy5kZXNjcmlwdGlvbikuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGxldCBpdGVtc1N0ciA9IGl0ZW1zLmxlbmd0aCA/IGA6XG4tICR7aXRlbXMuam9pbihgXG4tIGApfWAgOiBcIlwiO1xuICAgIHJldHVybiBhbGxJdGVtcy5sZW5ndGggPiA1ICYmIChpdGVtc1N0ciArPSBgXG4uLi5hbmQgJHthbGxJdGVtcy5sZW5ndGggLSA1fSBtb3JlYCksIHByb3BzLm1lc3NhZ2UgPSBgJHtib2R5LmVycm9yLmRlc2NyaXB0aW9ufSR7aXRlbXNTdHJ9YCwgcHJvcHMuZGV0YWlscyA9IGJvZHkuZXJyb3IsIHByb3BzO1xuICB9XG4gIHJldHVybiBib2R5LmVycm9yICYmIGJvZHkuZXJyb3IuZGVzY3JpcHRpb24gPyAocHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IuZGVzY3JpcHRpb24sIHByb3BzLmRldGFpbHMgPSBib2R5LmVycm9yLCBwcm9wcykgOiAocHJvcHMubWVzc2FnZSA9IGJvZHkuZXJyb3IgfHwgYm9keS5tZXNzYWdlIHx8IGh0dHBFcnJvck1lc3NhZ2UocmVzKSwgcHJvcHMpO1xufVxuZnVuY3Rpb24gaXNNdXRhdGlvbkVycm9yKGJvZHkpIHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYm9keSkgJiYgaXNQbGFpbk9iamVjdChib2R5LmVycm9yKSAmJiBib2R5LmVycm9yLnR5cGUgPT09IFwibXV0YXRpb25FcnJvclwiICYmIHR5cGVvZiBib2R5LmVycm9yLmRlc2NyaXB0aW9uID09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0FjdGlvbkVycm9yKGJvZHkpIHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYm9keSkgJiYgaXNQbGFpbk9iamVjdChib2R5LmVycm9yKSAmJiBib2R5LmVycm9yLnR5cGUgPT09IFwiYWN0aW9uRXJyb3JcIiAmJiB0eXBlb2YgYm9keS5lcnJvci5kZXNjcmlwdGlvbiA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmogPT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkob2JqKTtcbn1cbmZ1bmN0aW9uIGh0dHBFcnJvck1lc3NhZ2UocmVzKSB7XG4gIGNvbnN0IHN0YXR1c01lc3NhZ2UgPSByZXMuc3RhdHVzTWVzc2FnZSA/IGAgJHtyZXMuc3RhdHVzTWVzc2FnZX1gIDogXCJcIjtcbiAgcmV0dXJuIGAke3Jlcy5tZXRob2R9LXJlcXVlc3QgdG8gJHtyZXMudXJsfSByZXN1bHRlZCBpbiBIVFRQICR7cmVzLnN0YXR1c0NvZGV9JHtzdGF0dXNNZXNzYWdlfWA7XG59XG5mdW5jdGlvbiBzdHJpbmdpZnlCb2R5KGJvZHksIHJlcykge1xuICByZXR1cm4gKHJlcy5oZWFkZXJzW1wiY29udGVudC10eXBlXCJdIHx8IFwiXCIpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImFwcGxpY2F0aW9uL2pzb25cIikgIT09IC0xID8gSlNPTi5zdHJpbmdpZnkoYm9keSwgbnVsbCwgMikgOiBib2R5O1xufVxuY2xhc3MgQ29yc09yaWdpbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBwcm9qZWN0SWQ7XG4gIGFkZE9yaWdpblVybDtcbiAgY29uc3RydWN0b3IoeyBwcm9qZWN0SWQ6IHByb2plY3RJZDIgfSkge1xuICAgIHN1cGVyKFwiQ29yc09yaWdpbkVycm9yXCIpLCB0aGlzLm5hbWUgPSBcIkNvcnNPcmlnaW5FcnJvclwiLCB0aGlzLnByb2plY3RJZCA9IHByb2plY3RJZDI7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTChgaHR0cHM6Ly9zYW5pdHkuaW8vbWFuYWdlL3Byb2plY3QvJHtwcm9qZWN0SWQyfS9hcGlgKTtcbiAgICBpZiAodHlwZW9mIGxvY2F0aW9uIDwgXCJ1XCIpIHtcbiAgICAgIGNvbnN0IHsgb3JpZ2luIH0gPSBsb2NhdGlvbjtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiY29yc1wiLCBcImFkZFwiKSwgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJvcmlnaW5cIiwgb3JpZ2luKSwgdGhpcy5hZGRPcmlnaW5VcmwgPSB1cmwsIHRoaXMubWVzc2FnZSA9IGBUaGUgY3VycmVudCBvcmlnaW4gaXMgbm90IGFsbG93ZWQgdG8gY29ubmVjdCB0byB0aGUgTGl2ZSBDb250ZW50IEFQSS4gQWRkIGl0IGhlcmU6ICR7dXJsfWA7XG4gICAgfSBlbHNlXG4gICAgICB0aGlzLm1lc3NhZ2UgPSBgVGhlIGN1cnJlbnQgb3JpZ2luIGlzIG5vdCBhbGxvd2VkIHRvIGNvbm5lY3QgdG8gdGhlIExpdmUgQ29udGVudCBBUEkuIENoYW5nZSB5b3VyIGNvbmZpZ3VyYXRpb24gaGVyZTogJHt1cmx9YDtcbiAgfVxufVxuY29uc3QgaHR0cEVycm9yID0ge1xuICBvblJlc3BvbnNlOiAocmVzKSA9PiB7XG4gICAgaWYgKHJlcy5zdGF0dXNDb2RlID49IDUwMClcbiAgICAgIHRocm93IG5ldyBTZXJ2ZXJFcnJvcihyZXMpO1xuICAgIGlmIChyZXMuc3RhdHVzQ29kZSA+PSA0MDApXG4gICAgICB0aHJvdyBuZXcgQ2xpZW50RXJyb3IocmVzKTtcbiAgICByZXR1cm4gcmVzO1xuICB9XG59O1xuZnVuY3Rpb24gcHJpbnRXYXJuaW5ncygpIHtcbiAgY29uc3Qgc2VlbiA9IHt9O1xuICByZXR1cm4ge1xuICAgIG9uUmVzcG9uc2U6IChyZXMpID0+IHtcbiAgICAgIGNvbnN0IHdhcm4gPSByZXMuaGVhZGVyc1tcIngtc2FuaXR5LXdhcm5pbmdcIl0sIHdhcm5pbmdzID0gQXJyYXkuaXNBcnJheSh3YXJuKSA/IHdhcm4gOiBbd2Fybl07XG4gICAgICBmb3IgKGNvbnN0IG1zZyBvZiB3YXJuaW5ncylcbiAgICAgICAgIW1zZyB8fCBzZWVuW21zZ10gfHwgKHNlZW5bbXNnXSA9ICEwLCBjb25zb2xlLndhcm4obXNnKSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUyKSB7XG4gIHJldHVybiBnZXRJdChbXG4gICAgcmV0cnkoeyBzaG91bGRSZXRyeSB9KSxcbiAgICAuLi5lbnZNaWRkbGV3YXJlMixcbiAgICBwcmludFdhcm5pbmdzKCksXG4gICAganNvblJlcXVlc3QoKSxcbiAgICBqc29uUmVzcG9uc2UoKSxcbiAgICBwcm9ncmVzcygpLFxuICAgIGh0dHBFcnJvcixcbiAgICBvYnNlcnZhYmxlKHsgaW1wbGVtZW50YXRpb246IE9ic2VydmFibGUgfSlcbiAgXSk7XG59XG5mdW5jdGlvbiBzaG91bGRSZXRyeShlcnIsIGF0dGVtcHQsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMubWF4UmV0cmllcyA9PT0gMCkgcmV0dXJuICExO1xuICBjb25zdCBpc1NhZmUgPSBvcHRpb25zLm1ldGhvZCA9PT0gXCJHRVRcIiB8fCBvcHRpb25zLm1ldGhvZCA9PT0gXCJIRUFEXCIsIGlzUXVlcnkyID0gKG9wdGlvbnMudXJpIHx8IG9wdGlvbnMudXJsKS5zdGFydHNXaXRoKFwiL2RhdGEvcXVlcnlcIiksIGlzUmV0cmlhYmxlUmVzcG9uc2UgPSBlcnIucmVzcG9uc2UgJiYgKGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA0MjkgfHwgZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDUwMiB8fCBlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNTAzKTtcbiAgcmV0dXJuIChpc1NhZmUgfHwgaXNRdWVyeTIpICYmIGlzUmV0cmlhYmxlUmVzcG9uc2UgPyAhMCA6IHJldHJ5LnNob3VsZFJldHJ5KGVyciwgYXR0ZW1wdCwgb3B0aW9ucyk7XG59XG5jb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly93d3cuc2FuaXR5LmlvL2hlbHAvXCI7XG5mdW5jdGlvbiBnZW5lcmF0ZUhlbHBVcmwoc2x1Zykge1xuICByZXR1cm4gQkFTRV9VUkwgKyBzbHVnO1xufVxuY29uc3QgVkFMSURfQVNTRVRfVFlQRVMgPSBbXCJpbWFnZVwiLCBcImZpbGVcIl0sIFZBTElEX0lOU0VSVF9MT0NBVElPTlMgPSBbXCJiZWZvcmVcIiwgXCJhZnRlclwiLCBcInJlcGxhY2VcIl0sIGRhdGFzZXQgPSAobmFtZSkgPT4ge1xuICBpZiAoIS9eKH5bYS16MC05XXsxfVstXFx3XXswLDYzfXxbYS16MC05XXsxfVstXFx3XXswLDYzfSkkLy50ZXN0KG5hbWUpKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiRGF0YXNldHMgY2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgY2hhcmFjdGVycywgbnVtYmVycywgdW5kZXJzY29yZXMgYW5kIGRhc2hlcywgYW5kIHN0YXJ0IHdpdGggdGlsZGUsIGFuZCBiZSBtYXhpbXVtIDY0IGNoYXJhY3RlcnNcIlxuICAgICk7XG59LCBwcm9qZWN0SWQgPSAoaWQpID0+IHtcbiAgaWYgKCEvXlstYS16MC05XSskL2kudGVzdChpZCkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYHByb2plY3RJZGAgY2FuIG9ubHkgY29udGFpbiBvbmx5IGEteiwgMC05IGFuZCBkYXNoZXNcIik7XG59LCB2YWxpZGF0ZUFzc2V0VHlwZSA9ICh0eXBlKSA9PiB7XG4gIGlmIChWQUxJRF9BU1NFVF9UWVBFUy5pbmRleE9mKHR5cGUpID09PSAtMSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYXNzZXQgdHlwZTogJHt0eXBlfS4gTXVzdCBiZSBvbmUgb2YgJHtWQUxJRF9BU1NFVF9UWVBFUy5qb2luKFwiLCBcIil9YCk7XG59LCB2YWxpZGF0ZU9iamVjdCA9IChvcCwgdmFsKSA9PiB7XG4gIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCAhPSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkodmFsKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7b3B9KCkgdGFrZXMgYW4gb2JqZWN0IG9mIHByb3BlcnRpZXNgKTtcbn0sIHZhbGlkYXRlRG9jdW1lbnRJZCA9IChvcCwgaWQpID0+IHtcbiAgaWYgKHR5cGVvZiBpZCAhPSBcInN0cmluZ1wiIHx8ICEvXlthLXowLTlfXVthLXowLTlfLi1dezAsMTI3fSQvaS50ZXN0KGlkKSB8fCBpZC5pbmNsdWRlcyhcIi4uXCIpKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtvcH0oKTogXCIke2lkfVwiIGlzIG5vdCBhIHZhbGlkIGRvY3VtZW50IElEYCk7XG59LCByZXF1aXJlRG9jdW1lbnRJZCA9IChvcCwgZG9jKSA9PiB7XG4gIGlmICghZG9jLl9pZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYCR7b3B9KCkgcmVxdWlyZXMgdGhhdCB0aGUgZG9jdW1lbnQgY29udGFpbnMgYW4gSUQgKFwiX2lkXCIgcHJvcGVydHkpYCk7XG4gIHZhbGlkYXRlRG9jdW1lbnRJZChvcCwgZG9jLl9pZCk7XG59LCB2YWxpZGF0ZUluc2VydCA9IChhdCwgc2VsZWN0b3IsIGl0ZW1zKSA9PiB7XG4gIGNvbnN0IHNpZ25hdHVyZSA9IFwiaW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpXCI7XG4gIGlmIChWQUxJRF9JTlNFUlRfTE9DQVRJT05TLmluZGV4T2YoYXQpID09PSAtMSkge1xuICAgIGNvbnN0IHZhbGlkID0gVkFMSURfSU5TRVJUX0xPQ0FUSU9OUy5tYXAoKGxvYykgPT4gYFwiJHtsb2N9XCJgKS5qb2luKFwiLCBcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3NpZ25hdHVyZX0gdGFrZXMgYW4gXCJhdFwiLWFyZ3VtZW50IHdoaWNoIGlzIG9uZSBvZjogJHt2YWxpZH1gKTtcbiAgfVxuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9IFwic3RyaW5nXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3NpZ25hdHVyZX0gdGFrZXMgYSBcInNlbGVjdG9yXCItYXJndW1lbnQgd2hpY2ggbXVzdCBiZSBhIHN0cmluZ2ApO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtzaWduYXR1cmV9IHRha2VzIGFuIFwiaXRlbXNcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGFuIGFycmF5YCk7XG59LCBoYXNEYXRhc2V0ID0gKGNvbmZpZykgPT4ge1xuICBpZiAoIWNvbmZpZy5kYXRhc2V0KVxuICAgIHRocm93IG5ldyBFcnJvcihcImBkYXRhc2V0YCBtdXN0IGJlIHByb3ZpZGVkIHRvIHBlcmZvcm0gcXVlcmllc1wiKTtcbiAgcmV0dXJuIGNvbmZpZy5kYXRhc2V0IHx8IFwiXCI7XG59LCByZXF1ZXN0VGFnID0gKHRhZykgPT4ge1xuICBpZiAodHlwZW9mIHRhZyAhPSBcInN0cmluZ1wiIHx8ICEvXlthLXowLTkuXy1dezEsNzV9JC9pLnRlc3QodGFnKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRhZyBjYW4gb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLCB1bmRlcnNjb3JlcywgZGFzaGVzIGFuZCBkb3RzLCBhbmQgYmUgYmV0d2VlbiBvbmUgYW5kIDc1IGNoYXJhY3RlcnMgbG9uZy5cIlxuICAgICk7XG4gIHJldHVybiB0YWc7XG59LCByZXNvdXJjZUNvbmZpZyA9IChjb25maWcpID0+IHtcbiAgaWYgKCFjb25maWdbXCJ+ZXhwZXJpbWVudGFsX3Jlc291cmNlXCJdKVxuICAgIHRocm93IG5ldyBFcnJvcihcImByZXNvdXJjZWAgbXVzdCBiZSBwcm92aWRlZCB0byBwZXJmb3JtIHJlc291cmNlIHF1ZXJpZXNcIik7XG4gIGNvbnN0IHsgdHlwZSwgaWQgfSA9IGNvbmZpZ1tcIn5leHBlcmltZW50YWxfcmVzb3VyY2VcIl07XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJkYXRhc2V0XCI6IHtcbiAgICAgIGlmIChpZC5zcGxpdChcIi5cIikubGVuZ3RoICE9PSAyKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFzZXQgcmVzb3VyY2UgSUQgbXVzdCBiZSBpbiB0aGUgZm9ybWF0IFwicHJvamVjdC5kYXRhc2V0XCInKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FzZSBcImRhc2hib2FyZFwiOlxuICAgIGNhc2UgXCJtZWRpYS1saWJyYXJ5XCI6XG4gICAgY2FzZSBcImNhbnZhc1wiOlxuICAgICAgcmV0dXJuO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHJlc291cmNlIHR5cGU6ICR7dHlwZS50b1N0cmluZygpfWApO1xuICB9XG59LCByZXNvdXJjZUd1YXJkID0gKHNlcnZpY2UsIGNvbmZpZykgPT4ge1xuICBpZiAoY29uZmlnW1wifmV4cGVyaW1lbnRhbF9yZXNvdXJjZVwiXSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFxcYCR7c2VydmljZX1cXGAgZG9lcyBub3Qgc3VwcG9ydCByZXNvdXJjZS1iYXNlZCBvcGVyYXRpb25zYCk7XG59O1xuZnVuY3Rpb24gb25jZShmbikge1xuICBsZXQgZGlkQ2FsbCA9ICExLCByZXR1cm5WYWx1ZTtcbiAgcmV0dXJuICguLi5hcmdzKSA9PiAoZGlkQ2FsbCB8fCAocmV0dXJuVmFsdWUgPSBmbiguLi5hcmdzKSwgZGlkQ2FsbCA9ICEwKSwgcmV0dXJuVmFsdWUpO1xufVxuY29uc3QgY3JlYXRlV2FybmluZ1ByaW50ZXIgPSAobWVzc2FnZSkgPT4gKFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBvbmNlKCguLi5hcmdzKSA9PiBjb25zb2xlLndhcm4obWVzc2FnZS5qb2luKFwiIFwiKSwgLi4uYXJncykpXG4pLCBwcmludENkbkFuZFdpdGhDcmVkZW50aWFsc1dhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiQmVjYXVzZSB5b3Ugc2V0IGB3aXRoQ3JlZGVudGlhbHNgIHRvIHRydWUsIHdlIHdpbGwgb3ZlcnJpZGUgeW91ciBgdXNlQ2RuYFwiLFxuICBcInNldHRpbmcgdG8gYmUgZmFsc2Ugc2luY2UgKGNvb2tpZS1iYXNlZCkgY3JlZGVudGlhbHMgYXJlIG5ldmVyIHNldCBvbiB0aGUgQ0ROXCJcbl0pLCBwcmludENkbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiU2luY2UgeW91IGhhdmVuJ3Qgc2V0IGEgdmFsdWUgZm9yIGB1c2VDZG5gLCB3ZSB3aWxsIGRlbGl2ZXIgY29udGVudCB1c2luZyBvdXJcIixcbiAgXCJnbG9iYWwsIGVkZ2UtY2FjaGVkIEFQSS1DRE4uIElmIHlvdSB3aXNoIHRvIGhhdmUgY29udGVudCBkZWxpdmVyZWQgZmFzdGVyLCBzZXRcIixcbiAgXCJgdXNlQ2RuOiBmYWxzZWAgdG8gdXNlIHRoZSBMaXZlIEFQSS4gTm90ZTogWW91IG1heSBpbmN1ciBoaWdoZXIgY29zdHMgdXNpbmcgdGhlIGxpdmUgQVBJLlwiXG5dKSwgcHJpbnRDZG5QcmV2aWV3RHJhZnRzV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJUaGUgU2FuaXR5IGNsaWVudCBpcyBjb25maWd1cmVkIHdpdGggdGhlIGBwZXJzcGVjdGl2ZWAgc2V0IHRvIGBkcmFmdHNgIG9yIGBwcmV2aWV3RHJhZnRzYCwgd2hpY2ggZG9lc24ndCBzdXBwb3J0IHRoZSBBUEktQ0ROLlwiLFxuICBcIlRoZSBMaXZlIEFQSSB3aWxsIGJlIHVzZWQgaW5zdGVhZC4gU2V0IGB1c2VDZG46IGZhbHNlYCBpbiB5b3VyIGNvbmZpZ3VyYXRpb24gdG8gaGlkZSB0aGlzIHdhcm5pbmcuXCJcbl0pLCBwcmludFByZXZpZXdEcmFmdHNEZXByZWNhdGlvbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVGhlIGBwcmV2aWV3RHJhZnRzYCBwZXJzcGVjdGl2ZSBoYXMgYmVlbiByZW5hbWVkIHRvICBgZHJhZnRzYCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIEFQSSB2ZXJzaW9uXCJcbl0pLCBwcmludEJyb3dzZXJUb2tlbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiWW91IGhhdmUgY29uZmlndXJlZCBTYW5pdHkgY2xpZW50IHRvIHVzZSBhIHRva2VuIGluIHRoZSBicm93c2VyLiBUaGlzIG1heSBjYXVzZSB1bmludGVudGlvbmFsIHNlY3VyaXR5IGlzc3Vlcy5cIixcbiAgYFNlZSAke2dlbmVyYXRlSGVscFVybChcbiAgICBcImpzLWNsaWVudC1icm93c2VyLXRva2VuXCJcbiAgKX0gZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGhvdyB0byBoaWRlIHRoaXMgd2FybmluZy5gXG5dKSwgcHJpbnRDcmVkZW50aWFsZWRUb2tlbldhcm5pbmcgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiWW91IGhhdmUgY29uZmlndXJlZCBTYW5pdHkgY2xpZW50IHRvIHVzZSBhIHRva2VuLCBidXQgYWxzbyBwcm92aWRlZCBgd2l0aENyZWRlbnRpYWxzOiB0cnVlYC5cIixcbiAgXCJUaGlzIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgLSBvbmx5IHRva2VuIHdpbGwgYmUgdXNlZCAtIHJlbW92ZSBgd2l0aENyZWRlbnRpYWxzOiB0cnVlYC5cIlxuXSksIHByaW50Tm9BcGlWZXJzaW9uU3BlY2lmaWVkV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcbiAgXCJVc2luZyB0aGUgU2FuaXR5IGNsaWVudCB3aXRob3V0IHNwZWNpZnlpbmcgYW4gQVBJIHZlcnNpb24gaXMgZGVwcmVjYXRlZC5cIixcbiAgYFNlZSAke2dlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1hcGktdmVyc2lvblwiKX1gXG5dKSwgcHJpbnROb0RlZmF1bHRFeHBvcnQgPSBjcmVhdGVXYXJuaW5nUHJpbnRlcihbXG4gIFwiVGhlIGRlZmF1bHQgZXhwb3J0IG9mIEBzYW5pdHkvY2xpZW50IGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSB0aGUgbmFtZWQgZXhwb3J0IGBjcmVhdGVDbGllbnRgIGluc3RlYWQuXCJcbl0pLCBkZWZhdWx0Q2RuSG9zdCA9IFwiYXBpY2RuLnNhbml0eS5pb1wiLCBkZWZhdWx0Q29uZmlnID0ge1xuICBhcGlIb3N0OiBcImh0dHBzOi8vYXBpLnNhbml0eS5pb1wiLFxuICBhcGlWZXJzaW9uOiBcIjFcIixcbiAgdXNlUHJvamVjdEhvc3RuYW1lOiAhMCxcbiAgc3RlZ2E6IHsgZW5hYmxlZDogITEgfVxufSwgTE9DQUxIT1NUUyA9IFtcImxvY2FsaG9zdFwiLCBcIjEyNy4wLjAuMVwiLCBcIjAuMC4wLjBcIl0sIGlzTG9jYWwgPSAoaG9zdCkgPT4gTE9DQUxIT1NUUy5pbmRleE9mKGhvc3QpICE9PSAtMTtcbmZ1bmN0aW9uIHZhbGlkYXRlQXBpVmVyc2lvbihhcGlWZXJzaW9uKSB7XG4gIGlmIChhcGlWZXJzaW9uID09PSBcIjFcIiB8fCBhcGlWZXJzaW9uID09PSBcIlhcIilcbiAgICByZXR1cm47XG4gIGNvbnN0IGFwaURhdGUgPSBuZXcgRGF0ZShhcGlWZXJzaW9uKTtcbiAgaWYgKCEoL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvLnRlc3QoYXBpVmVyc2lvbikgJiYgYXBpRGF0ZSBpbnN0YW5jZW9mIERhdGUgJiYgYXBpRGF0ZS5nZXRUaW1lKCkgPiAwKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEFQSSB2ZXJzaW9uIHN0cmluZywgZXhwZWN0ZWQgYDFgIG9yIGRhdGUgaW4gZm9ybWF0IGBZWVlZLU1NLUREYFwiKTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQXBpUGVyc3BlY3RpdmUocGVyc3BlY3RpdmUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGVyc3BlY3RpdmUpICYmIHBlcnNwZWN0aXZlLmxlbmd0aCA+IDEgJiYgcGVyc3BlY3RpdmUuaW5jbHVkZXMoXCJyYXdcIikpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICdJbnZhbGlkIEFQSSBwZXJzcGVjdGl2ZSB2YWx1ZTogXCJyYXdcIi4gVGhlIHJhdy1wZXJzcGVjdGl2ZSBjYW4gbm90IGJlIGNvbWJpbmVkIHdpdGggb3RoZXIgcGVyc3BlY3RpdmVzJ1xuICAgICk7XG59XG5jb25zdCBpbml0Q29uZmlnID0gKGNvbmZpZywgcHJldkNvbmZpZykgPT4ge1xuICBjb25zdCBzcGVjaWZpZWRDb25maWcgPSB7XG4gICAgLi4ucHJldkNvbmZpZyxcbiAgICAuLi5jb25maWcsXG4gICAgc3RlZ2E6IHtcbiAgICAgIC4uLnR5cGVvZiBwcmV2Q29uZmlnLnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBwcmV2Q29uZmlnLnN0ZWdhIH0gOiBwcmV2Q29uZmlnLnN0ZWdhIHx8IGRlZmF1bHRDb25maWcuc3RlZ2EsXG4gICAgICAuLi50eXBlb2YgY29uZmlnLnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBjb25maWcuc3RlZ2EgfSA6IGNvbmZpZy5zdGVnYSB8fCB7fVxuICAgIH1cbiAgfTtcbiAgc3BlY2lmaWVkQ29uZmlnLmFwaVZlcnNpb24gfHwgcHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nKCk7XG4gIGNvbnN0IG5ld0NvbmZpZyA9IHtcbiAgICAuLi5kZWZhdWx0Q29uZmlnLFxuICAgIC4uLnNwZWNpZmllZENvbmZpZ1xuICB9LCBwcm9qZWN0QmFzZWQgPSBuZXdDb25maWcudXNlUHJvamVjdEhvc3RuYW1lICYmICFuZXdDb25maWdbXCJ+ZXhwZXJpbWVudGFsX3Jlc291cmNlXCJdO1xuICBpZiAodHlwZW9mIFByb21pc2UgPiBcInVcIikge1xuICAgIGNvbnN0IGhlbHBVcmwgPSBnZW5lcmF0ZUhlbHBVcmwoXCJqcy1jbGllbnQtcHJvbWlzZS1wb2x5ZmlsbFwiKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIG5hdGl2ZSBQcm9taXNlLWltcGxlbWVudGF0aW9uIGZvdW5kLCBwb2x5ZmlsbCBuZWVkZWQgLSBzZWUgJHtoZWxwVXJsfWApO1xuICB9XG4gIGlmIChwcm9qZWN0QmFzZWQgJiYgIW5ld0NvbmZpZy5wcm9qZWN0SWQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ29uZmlndXJhdGlvbiBtdXN0IGNvbnRhaW4gYHByb2plY3RJZGBcIik7XG4gIGlmIChuZXdDb25maWdbXCJ+ZXhwZXJpbWVudGFsX3Jlc291cmNlXCJdICYmIHJlc291cmNlQ29uZmlnKG5ld0NvbmZpZyksIHR5cGVvZiBuZXdDb25maWcucGVyc3BlY3RpdmUgPCBcInVcIiAmJiB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKG5ld0NvbmZpZy5wZXJzcGVjdGl2ZSksIFwiZW5jb2RlU291cmNlTWFwXCIgaW4gbmV3Q29uZmlnKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQnLiBEaWQgeW91IG1lYW4gJ3N0ZWdhLmVuYWJsZWQnP1wiXG4gICAgKTtcbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwQXRQYXRoXCIgaW4gbmV3Q29uZmlnKVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcEF0UGF0aCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQnLiBEaWQgeW91IG1lYW4gJ3N0ZWdhLmZpbHRlcic/XCJcbiAgICApO1xuICBpZiAodHlwZW9mIG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICE9IFwiYm9vbGVhblwiKVxuICAgIHRocm93IG5ldyBFcnJvcihgc3RlZ2EuZW5hYmxlZCBtdXN0IGJlIGEgYm9vbGVhbiwgcmVjZWl2ZWQgJHtuZXdDb25maWcuc3RlZ2EuZW5hYmxlZH1gKTtcbiAgaWYgKG5ld0NvbmZpZy5zdGVnYS5lbmFibGVkICYmIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgPT09IHZvaWQgMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJzdGVnYS5zdHVkaW9VcmwgbXVzdCBiZSBkZWZpbmVkIHdoZW4gc3RlZ2EuZW5hYmxlZCBpcyB0cnVlXCIpO1xuICBpZiAobmV3Q29uZmlnLnN0ZWdhLmVuYWJsZWQgJiYgdHlwZW9mIG5ld0NvbmZpZy5zdGVnYS5zdHVkaW9VcmwgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgbmV3Q29uZmlnLnN0ZWdhLnN0dWRpb1VybCAhPSBcImZ1bmN0aW9uXCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYHN0ZWdhLnN0dWRpb1VybCBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24sIHJlY2VpdmVkICR7bmV3Q29uZmlnLnN0ZWdhLnN0dWRpb1VybH1gXG4gICAgKTtcbiAgY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUsIGlzTG9jYWxob3N0ID0gaXNCcm93c2VyICYmIGlzTG9jYWwod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKSwgaGFzVG9rZW4gPSAhIW5ld0NvbmZpZy50b2tlbjtcbiAgbmV3Q29uZmlnLndpdGhDcmVkZW50aWFscyAmJiBoYXNUb2tlbiAmJiAocHJpbnRDcmVkZW50aWFsZWRUb2tlbldhcm5pbmcoKSwgbmV3Q29uZmlnLndpdGhDcmVkZW50aWFscyA9ICExKSwgaXNCcm93c2VyICYmIGlzTG9jYWxob3N0ICYmIGhhc1Rva2VuICYmIG5ld0NvbmZpZy5pZ25vcmVCcm93c2VyVG9rZW5XYXJuaW5nICE9PSAhMCA/IHByaW50QnJvd3NlclRva2VuV2FybmluZygpIDogdHlwZW9mIG5ld0NvbmZpZy51c2VDZG4gPiBcInVcIiAmJiBwcmludENkbldhcm5pbmcoKSwgcHJvamVjdEJhc2VkICYmIHByb2plY3RJZChuZXdDb25maWcucHJvamVjdElkKSwgbmV3Q29uZmlnLmRhdGFzZXQgJiYgZGF0YXNldChuZXdDb25maWcuZGF0YXNldCksIFwicmVxdWVzdFRhZ1ByZWZpeFwiIGluIG5ld0NvbmZpZyAmJiAobmV3Q29uZmlnLnJlcXVlc3RUYWdQcmVmaXggPSBuZXdDb25maWcucmVxdWVzdFRhZ1ByZWZpeCA/IHJlcXVlc3RUYWcobmV3Q29uZmlnLnJlcXVlc3RUYWdQcmVmaXgpLnJlcGxhY2UoL1xcLiskLywgXCJcIikgOiB2b2lkIDApLCBuZXdDb25maWcuYXBpVmVyc2lvbiA9IGAke25ld0NvbmZpZy5hcGlWZXJzaW9ufWAucmVwbGFjZSgvXnYvLCBcIlwiKSwgbmV3Q29uZmlnLmlzRGVmYXVsdEFwaSA9IG5ld0NvbmZpZy5hcGlIb3N0ID09PSBkZWZhdWx0Q29uZmlnLmFwaUhvc3QsIG5ld0NvbmZpZy51c2VDZG4gPT09ICEwICYmIG5ld0NvbmZpZy53aXRoQ3JlZGVudGlhbHMgJiYgcHJpbnRDZG5BbmRXaXRoQ3JlZGVudGlhbHNXYXJuaW5nKCksIG5ld0NvbmZpZy51c2VDZG4gPSBuZXdDb25maWcudXNlQ2RuICE9PSAhMSAmJiAhbmV3Q29uZmlnLndpdGhDcmVkZW50aWFscywgdmFsaWRhdGVBcGlWZXJzaW9uKG5ld0NvbmZpZy5hcGlWZXJzaW9uKTtcbiAgY29uc3QgaG9zdFBhcnRzID0gbmV3Q29uZmlnLmFwaUhvc3Quc3BsaXQoXCI6Ly9cIiwgMiksIHByb3RvY29sID0gaG9zdFBhcnRzWzBdLCBob3N0ID0gaG9zdFBhcnRzWzFdLCBjZG5Ib3N0ID0gbmV3Q29uZmlnLmlzRGVmYXVsdEFwaSA/IGRlZmF1bHRDZG5Ib3N0IDogaG9zdDtcbiAgcmV0dXJuIHByb2plY3RCYXNlZCA/IChuZXdDb25maWcudXJsID0gYCR7cHJvdG9jb2x9Oi8vJHtuZXdDb25maWcucHJvamVjdElkfS4ke2hvc3R9L3Yke25ld0NvbmZpZy5hcGlWZXJzaW9ufWAsIG5ld0NvbmZpZy5jZG5VcmwgPSBgJHtwcm90b2NvbH06Ly8ke25ld0NvbmZpZy5wcm9qZWN0SWR9LiR7Y2RuSG9zdH0vdiR7bmV3Q29uZmlnLmFwaVZlcnNpb259YCkgOiAobmV3Q29uZmlnLnVybCA9IGAke25ld0NvbmZpZy5hcGlIb3N0fS92JHtuZXdDb25maWcuYXBpVmVyc2lvbn1gLCBuZXdDb25maWcuY2RuVXJsID0gbmV3Q29uZmlnLnVybCksIG5ld0NvbmZpZztcbn07XG5jbGFzcyBDb25uZWN0aW9uRmFpbGVkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIG5hbWUgPSBcIkNvbm5lY3Rpb25GYWlsZWRFcnJvclwiO1xufVxuY2xhc3MgRGlzY29ubmVjdEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBuYW1lID0gXCJEaXNjb25uZWN0RXJyb3JcIjtcbiAgcmVhc29uO1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCByZWFzb24sIG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKG1lc3NhZ2UsIG9wdGlvbnMpLCB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgfVxufVxuY2xhc3MgQ2hhbm5lbEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBuYW1lID0gXCJDaGFubmVsRXJyb3JcIjtcbiAgZGF0YTtcbiAgY29uc3RydWN0b3IobWVzc2FnZSwgZGF0YSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpLCB0aGlzLmRhdGEgPSBkYXRhO1xuICB9XG59XG5jbGFzcyBNZXNzYWdlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIG5hbWUgPSBcIk1lc3NhZ2VFcnJvclwiO1xuICBkYXRhO1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBkYXRhLCBvcHRpb25zID0ge30pIHtcbiAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKSwgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxufVxuY2xhc3MgTWVzc2FnZVBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIG5hbWUgPSBcIk1lc3NhZ2VQYXJzZUVycm9yXCI7XG59XG5jb25zdCBSRVFVSVJFRF9FVkVOVFMgPSBbXCJjaGFubmVsRXJyb3JcIiwgXCJkaXNjb25uZWN0XCJdO1xuZnVuY3Rpb24gY29ubmVjdEV2ZW50U291cmNlKGluaXRFdmVudFNvdXJjZSwgZXZlbnRzKSB7XG4gIHJldHVybiBkZWZlcigoKSA9PiB7XG4gICAgY29uc3QgZXMgPSBpbml0RXZlbnRTb3VyY2UoKTtcbiAgICByZXR1cm4gaXNPYnNlcnZhYmxlKGVzKSA/IGVzIDogb2YoZXMpO1xuICB9KS5waXBlKG1lcmdlTWFwKChlcykgPT4gY29ubmVjdFdpdGhFU0luc3RhbmNlKGVzLCBldmVudHMpKSk7XG59XG5mdW5jdGlvbiBjb25uZWN0V2l0aEVTSW5zdGFuY2UoZXMsIGV2ZW50cykge1xuICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9ic2VydmVyKSA9PiB7XG4gICAgY29uc3QgZW1pdE9wZW4gPSBldmVudHMuaW5jbHVkZXMoXCJvcGVuXCIpLCBlbWl0UmVjb25uZWN0ID0gZXZlbnRzLmluY2x1ZGVzKFwicmVjb25uZWN0XCIpO1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXZ0KSB7XG4gICAgICBpZiAoXCJkYXRhXCIgaW4gZXZ0KSB7XG4gICAgICAgIGNvbnN0IFtwYXJzZUVycm9yLCBldmVudF0gPSBwYXJzZUV2ZW50KGV2dCk7XG4gICAgICAgIG9ic2VydmVyLmVycm9yKFxuICAgICAgICAgIHBhcnNlRXJyb3IgPyBuZXcgTWVzc2FnZVBhcnNlRXJyb3IoXCJVbmFibGUgdG8gcGFyc2UgRXZlbnRTb3VyY2UgZXJyb3IgbWVzc2FnZVwiLCB7IGNhdXNlOiBldmVudCB9KSA6IG5ldyBNZXNzYWdlRXJyb3IoKGV2ZW50Py5kYXRhKS5tZXNzYWdlLCBldmVudClcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZXMucmVhZHlTdGF0ZSA9PT0gZXMuQ0xPU0VEID8gb2JzZXJ2ZXIuZXJyb3IobmV3IENvbm5lY3Rpb25GYWlsZWRFcnJvcihcIkV2ZW50U291cmNlIGNvbm5lY3Rpb24gZmFpbGVkXCIpKSA6IGVtaXRSZWNvbm5lY3QgJiYgb2JzZXJ2ZXIubmV4dCh7IHR5cGU6IFwicmVjb25uZWN0XCIgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uT3BlbigpIHtcbiAgICAgIG9ic2VydmVyLm5leHQoeyB0eXBlOiBcIm9wZW5cIiB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25NZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgIGNvbnN0IFtwYXJzZUVycm9yLCBldmVudF0gPSBwYXJzZUV2ZW50KG1lc3NhZ2UpO1xuICAgICAgaWYgKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoXG4gICAgICAgICAgbmV3IE1lc3NhZ2VQYXJzZUVycm9yKFwiVW5hYmxlIHRvIHBhcnNlIEV2ZW50U291cmNlIG1lc3NhZ2VcIiwgeyBjYXVzZTogcGFyc2VFcnJvciB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAobWVzc2FnZS50eXBlID09PSBcImNoYW5uZWxFcnJvclwiKSB7XG4gICAgICAgIG9ic2VydmVyLmVycm9yKG5ldyBDaGFubmVsRXJyb3IoZXh0cmFjdEVycm9yTWVzc2FnZShldmVudD8uZGF0YSksIGV2ZW50LmRhdGEpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJkaXNjb25uZWN0XCIpIHtcbiAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoXG4gICAgICAgICAgbmV3IERpc2Nvbm5lY3RFcnJvcihcbiAgICAgICAgICAgIGBTZXJ2ZXIgZGlzY29ubmVjdGVkIGNsaWVudDogJHtldmVudC5kYXRhPy5yZWFzb24gfHwgXCJ1bmtub3duIGVycm9yXCJ9YFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb2JzZXJ2ZXIubmV4dCh7XG4gICAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgICAgaWQ6IG1lc3NhZ2UubGFzdEV2ZW50SWQsXG4gICAgICAgIC4uLmV2ZW50LmRhdGEgPyB7IGRhdGE6IGV2ZW50LmRhdGEgfSA6IHt9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZXMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpLCBlbWl0T3BlbiAmJiBlcy5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCBvbk9wZW4pO1xuICAgIGNvbnN0IGNsZWFuZWRFdmVudHMgPSBbLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLlJFUVVJUkVEX0VWRU5UUywgLi4uZXZlbnRzXSldLmZpbHRlcigodHlwZSkgPT4gdHlwZSAhPT0gXCJlcnJvclwiICYmIHR5cGUgIT09IFwib3BlblwiICYmIHR5cGUgIT09IFwicmVjb25uZWN0XCIpO1xuICAgIHJldHVybiBjbGVhbmVkRXZlbnRzLmZvckVhY2goKHR5cGUpID0+IGVzLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb25NZXNzYWdlKSksICgpID0+IHtcbiAgICAgIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKSwgZW1pdE9wZW4gJiYgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgb25PcGVuKSwgY2xlYW5lZEV2ZW50cy5mb3JFYWNoKCh0eXBlKSA9PiBlcy5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSkpLCBlcy5jbG9zZSgpO1xuICAgIH07XG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VFdmVudChtZXNzYWdlKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZGF0YSA9IHR5cGVvZiBtZXNzYWdlLmRhdGEgPT0gXCJzdHJpbmdcIiAmJiBKU09OLnBhcnNlKG1lc3NhZ2UuZGF0YSk7XG4gICAgcmV0dXJuIFtcbiAgICAgIG51bGwsXG4gICAgICB7XG4gICAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgICAgaWQ6IG1lc3NhZ2UubGFzdEV2ZW50SWQsXG4gICAgICAgIC4uLmlzRW1wdHlPYmplY3QoZGF0YSkgPyB7fSA6IHsgZGF0YSB9XG4gICAgICB9XG4gICAgXTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIFtlcnIsIG51bGxdO1xuICB9XG59XG5mdW5jdGlvbiBleHRyYWN0RXJyb3JNZXNzYWdlKGVycikge1xuICByZXR1cm4gZXJyLmVycm9yID8gZXJyLmVycm9yLmRlc2NyaXB0aW9uID8gZXJyLmVycm9yLmRlc2NyaXB0aW9uIDogdHlwZW9mIGVyci5lcnJvciA9PSBcInN0cmluZ1wiID8gZXJyLmVycm9yIDogSlNPTi5zdHJpbmdpZnkoZXJyLmVycm9yLCBudWxsLCAyKSA6IGVyci5tZXNzYWdlIHx8IFwiVW5rbm93biBsaXN0ZW5lciBlcnJvclwiO1xufVxuZnVuY3Rpb24gaXNFbXB0eU9iamVjdChkYXRhKSB7XG4gIGZvciAoY29uc3QgXyBpbiBkYXRhKVxuICAgIHJldHVybiAhMTtcbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKHNlbCkge1xuICBpZiAodHlwZW9mIHNlbCA9PSBcInN0cmluZ1wiKVxuICAgIHJldHVybiB7IGlkOiBzZWwgfTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2VsKSlcbiAgICByZXR1cm4geyBxdWVyeTogXCIqW19pZCBpbiAkaWRzXVwiLCBwYXJhbXM6IHsgaWRzOiBzZWwgfSB9O1xuICBpZiAodHlwZW9mIHNlbCA9PSBcIm9iamVjdFwiICYmIHNlbCAhPT0gbnVsbCAmJiBcInF1ZXJ5XCIgaW4gc2VsICYmIHR5cGVvZiBzZWwucXVlcnkgPT0gXCJzdHJpbmdcIilcbiAgICByZXR1cm4gXCJwYXJhbXNcIiBpbiBzZWwgJiYgdHlwZW9mIHNlbC5wYXJhbXMgPT0gXCJvYmplY3RcIiAmJiBzZWwucGFyYW1zICE9PSBudWxsID8geyBxdWVyeTogc2VsLnF1ZXJ5LCBwYXJhbXM6IHNlbC5wYXJhbXMgfSA6IHsgcXVlcnk6IHNlbC5xdWVyeSB9O1xuICBjb25zdCBzZWxlY3Rpb25PcHRzID0gW1xuICAgIFwiKiBEb2N1bWVudCBJRCAoPGRvY0lkPilcIixcbiAgICBcIiogQXJyYXkgb2YgZG9jdW1lbnQgSURzXCIsXG4gICAgXCIqIE9iamVjdCBjb250YWluaW5nIGBxdWVyeWBcIlxuICBdLmpvaW4oYFxuYCk7XG4gIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzZWxlY3Rpb24gLSBtdXN0IGJlIG9uZSBvZjpcblxuJHtzZWxlY3Rpb25PcHRzfWApO1xufVxuY2xhc3MgQmFzZVBhdGNoIHtcbiAgc2VsZWN0aW9uO1xuICBvcGVyYXRpb25zO1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMgPSB7fSkge1xuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uLCB0aGlzLm9wZXJhdGlvbnMgPSBvcGVyYXRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIHRvIHRoZSBkb2N1bWVudC4gRG9lcyBOT1QgbWVyZ2Ugb2JqZWN0cy5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHNldC4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwidmFsdWVcIlxcfVxuICAgKi9cbiAgc2V0KGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcInNldFwiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIGF0dHJpYnV0ZXMgdG8gdGhlIGRvY3VtZW50IGlmIHRoZXkgYXJlIG5vdCBjdXJyZW50bHkgc2V0LiBEb2VzIE5PVCBtZXJnZSBvYmplY3RzLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZXMgdG8gc2V0LiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJ2YWx1ZVwiXFx9XG4gICAqL1xuICBzZXRJZk1pc3NpbmcoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwic2V0SWZNaXNzaW5nXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybXMgYSBcImRpZmYtbWF0Y2gtcGF0Y2hcIiBvcGVyYXRpb24gb24gdGhlIHN0cmluZyBhdHRyaWJ1dGVzIHByb3ZpZGVkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZXMgdG8gcGVyZm9ybSBvcGVyYXRpb24gb24uIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcImRtcFwiXFx9XG4gICAqL1xuICBkaWZmTWF0Y2hQYXRjaChhdHRycykge1xuICAgIHJldHVybiB2YWxpZGF0ZU9iamVjdChcImRpZmZNYXRjaFBhdGNoXCIsIGF0dHJzKSwgdGhpcy5fYXNzaWduKFwiZGlmZk1hdGNoUGF0Y2hcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBVbnNldHMgdGhlIGF0dHJpYnV0ZSBwYXRocyBwcm92aWRlZC5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGUgcGF0aHMgdG8gdW5zZXQuXG4gICAqL1xuICB1bnNldChhdHRycykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhdHRycykpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnNldChhdHRycykgdGFrZXMgYW4gYXJyYXkgb2YgYXR0cmlidXRlcyB0byB1bnNldCwgbm9uLWFycmF5IGdpdmVuXCIpO1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wZXJhdGlvbnMsIHsgdW5zZXQ6IGF0dHJzIH0pLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBJbmNyZW1lbnQgYSBudW1lcmljIHZhbHVlLiBFYWNoIGVudHJ5IGluIHRoZSBhcmd1bWVudCBpcyBlaXRoZXIgYW4gYXR0cmlidXRlIG9yIGEgSlNPTiBwYXRoLiBUaGUgdmFsdWUgbWF5IGJlIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgaW50ZWdlciBvciBmbG9hdGluZy1wb2ludCB2YWx1ZS4gVGhlIG9wZXJhdGlvbiB3aWxsIGZhaWwgaWYgdGFyZ2V0IHZhbHVlIGlzIG5vdCBhIG51bWVyaWMgdmFsdWUsIG9yIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIE9iamVjdCBvZiBhdHRyaWJ1dGUgcGF0aHMgdG8gaW5jcmVtZW50LCB2YWx1ZXMgcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgdG8gaW5jcmVtZW50IGJ5LlxuICAgKi9cbiAgaW5jKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcImluY1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIERlY3JlbWVudCBhIG51bWVyaWMgdmFsdWUuIEVhY2ggZW50cnkgaW4gdGhlIGFyZ3VtZW50IGlzIGVpdGhlciBhbiBhdHRyaWJ1dGUgb3IgYSBKU09OIHBhdGguIFRoZSB2YWx1ZSBtYXkgYmUgYSBwb3NpdGl2ZSBvciBuZWdhdGl2ZSBpbnRlZ2VyIG9yIGZsb2F0aW5nLXBvaW50IHZhbHVlLiBUaGUgb3BlcmF0aW9uIHdpbGwgZmFpbCBpZiB0YXJnZXQgdmFsdWUgaXMgbm90IGEgbnVtZXJpYyB2YWx1ZSwgb3IgZG9lc24ndCBleGlzdC5cbiAgICpcbiAgICogQHBhcmFtIGF0dHJzIC0gT2JqZWN0IG9mIGF0dHJpYnV0ZSBwYXRocyB0byBkZWNyZW1lbnQsIHZhbHVlcyByZXByZXNlbnRpbmcgdGhlIG51bWJlciB0byBkZWNyZW1lbnQgYnkuXG4gICAqL1xuICBkZWMoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwiZGVjXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogUHJvdmlkZXMgbWV0aG9kcyBmb3IgbW9kaWZ5aW5nIGFycmF5cywgYnkgaW5zZXJ0aW5nLCBhcHBlbmRpbmcgYW5kIHJlcGxhY2luZyBlbGVtZW50cyB2aWEgYSBKU09OUGF0aCBleHByZXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYXQgLSBMb2NhdGlvbiB0byBpbnNlcnQgYXQsIHJlbGF0aXZlIHRvIHRoZSBnaXZlbiBzZWxlY3Rvciwgb3IgJ3JlcGxhY2UnIHRoZSBtYXRjaGVkIHBhdGhcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gSlNPTlBhdGggZXhwcmVzc2lvbiwgZWcgYGNvbW1lbnRzWy0xXWAgb3IgYGJsb2Nrc1tfa2V5PT1cImFiYzEyM1wiXWBcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gaW5zZXJ0L3JlcGxhY2VcbiAgICovXG4gIGluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlSW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpLCB0aGlzLl9hc3NpZ24oXCJpbnNlcnRcIiwgeyBbYXRdOiBzZWxlY3RvciwgaXRlbXMgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGVuZCB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiBKU09OUGF0aFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUvcGF0aCB0byBhcHBlbmQgdG8sIGVnIGBjb21tZW50c2Agb3IgYHBlcnNvbi5ob2JiaWVzYFxuICAgKiBAcGFyYW0gaXRlbXMgLSBBcnJheSBvZiBpdGVtcyB0byBhcHBlbmQgdG8gdGhlIGFycmF5XG4gICAqL1xuICBhcHBlbmQoc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwiYWZ0ZXJcIiwgYCR7c2VsZWN0b3J9Wy0xXWAsIGl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogUHJlcGVuZCB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiBKU09OUGF0aFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUvcGF0aCB0byBwcmVwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gcHJlcGVuZCB0byB0aGUgYXJyYXlcbiAgICovXG4gIHByZXBlbmQoc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwiYmVmb3JlXCIsIGAke3NlbGVjdG9yfVswXWAsIGl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogQ2hhbmdlIHRoZSBjb250ZW50cyBvZiBhbiBhcnJheSBieSByZW1vdmluZyBleGlzdGluZyBlbGVtZW50cyBhbmQvb3IgYWRkaW5nIG5ldyBlbGVtZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlIG9yIEpTT05QYXRoIGV4cHJlc3Npb24gZm9yIGFycmF5XG4gICAqIEBwYXJhbSBzdGFydCAtIEluZGV4IGF0IHdoaWNoIHRvIHN0YXJ0IGNoYW5naW5nIHRoZSBhcnJheSAod2l0aCBvcmlnaW4gMCkuIElmIGdyZWF0ZXIgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheSwgYWN0dWFsIHN0YXJ0aW5nIGluZGV4IHdpbGwgYmUgc2V0IHRvIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LiBJZiBuZWdhdGl2ZSwgd2lsbCBiZWdpbiB0aGF0IG1hbnkgZWxlbWVudHMgZnJvbSB0aGUgZW5kIG9mIHRoZSBhcnJheSAod2l0aCBvcmlnaW4gLTEpIGFuZCB3aWxsIGJlIHNldCB0byAwIGlmIGFic29sdXRlIHZhbHVlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBhcnJheS54XG4gICAqIEBwYXJhbSBkZWxldGVDb3VudCAtIEFuIGludGVnZXIgaW5kaWNhdGluZyB0aGUgbnVtYmVyIG9mIG9sZCBhcnJheSBlbGVtZW50cyB0byByZW1vdmUuXG4gICAqIEBwYXJhbSBpdGVtcyAtIFRoZSBlbGVtZW50cyB0byBhZGQgdG8gdGhlIGFycmF5LCBiZWdpbm5pbmcgYXQgdGhlIHN0YXJ0IGluZGV4LiBJZiB5b3UgZG9uJ3Qgc3BlY2lmeSBhbnkgZWxlbWVudHMsIHNwbGljZSgpIHdpbGwgb25seSByZW1vdmUgZWxlbWVudHMgZnJvbSB0aGUgYXJyYXkuXG4gICAqL1xuICBzcGxpY2Uoc2VsZWN0b3IsIHN0YXJ0LCBkZWxldGVDb3VudCwgaXRlbXMpIHtcbiAgICBjb25zdCBkZWxBbGwgPSB0eXBlb2YgZGVsZXRlQ291bnQgPiBcInVcIiB8fCBkZWxldGVDb3VudCA9PT0gLTEsIHN0YXJ0SW5kZXggPSBzdGFydCA8IDAgPyBzdGFydCAtIDEgOiBzdGFydCwgZGVsQ291bnQgPSBkZWxBbGwgPyAtMSA6IE1hdGgubWF4KDAsIHN0YXJ0ICsgZGVsZXRlQ291bnQpLCBkZWxSYW5nZSA9IHN0YXJ0SW5kZXggPCAwICYmIGRlbENvdW50ID49IDAgPyBcIlwiIDogZGVsQ291bnQsIHJhbmdlU2VsZWN0b3IgPSBgJHtzZWxlY3Rvcn1bJHtzdGFydEluZGV4fToke2RlbFJhbmdlfV1gO1xuICAgIHJldHVybiB0aGlzLmluc2VydChcInJlcGxhY2VcIiwgcmFuZ2VTZWxlY3RvciwgaXRlbXMgfHwgW10pO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgcmV2aXNpb24gY2xhdXNlLCBwcmV2ZW50aW5nIHRoZSBkb2N1bWVudCBmcm9tIGJlaW5nIHBhdGNoZWQgaWYgdGhlIGBfcmV2YCBwcm9wZXJ0eSBkb2VzIG5vdCBtYXRjaCB0aGUgZ2l2ZW4gdmFsdWVcbiAgICpcbiAgICogQHBhcmFtIHJldiAtIFJldmlzaW9uIHRvIGxvY2sgdGhlIHBhdGNoIHRvXG4gICAqL1xuICBpZlJldmlzaW9uSWQocmV2KSB7XG4gICAgcmV0dXJuIHRoaXMub3BlcmF0aW9ucy5pZlJldmlzaW9uSUQgPSByZXYsIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHsgLi4uZ2V0U2VsZWN0aW9uKHRoaXMuc2VsZWN0aW9uKSwgLi4udGhpcy5vcGVyYXRpb25zIH07XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgcGF0Y2ggb2YgYWxsIG9wZXJhdGlvbnNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMgPSB7fSwgdGhpcztcbiAgfVxuICBfYXNzaWduKG9wLCBwcm9wcywgbWVyZ2UyID0gITApIHtcbiAgICByZXR1cm4gdmFsaWRhdGVPYmplY3Qob3AsIHByb3BzKSwgdGhpcy5vcGVyYXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcGVyYXRpb25zLCB7XG4gICAgICBbb3BdOiBPYmplY3QuYXNzaWduKHt9LCBtZXJnZTIgJiYgdGhpcy5vcGVyYXRpb25zW29wXSB8fCB7fSwgcHJvcHMpXG4gICAgfSksIHRoaXM7XG4gIH1cbiAgX3NldChvcCwgcHJvcHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKG9wLCBwcm9wcywgITEpO1xuICB9XG59XG5jbGFzcyBPYnNlcnZhYmxlUGF0Y2ggZXh0ZW5kcyBCYXNlUGF0Y2gge1xuICAjY2xpZW50O1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIGNsaWVudCkge1xuICAgIHN1cGVyKHNlbGVjdGlvbiwgb3BlcmF0aW9ucyksIHRoaXMuI2NsaWVudCA9IGNsaWVudDtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSBwYXRjaFxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUGF0Y2godGhpcy5zZWxlY3Rpb24sIHsgLi4udGhpcy5vcGVyYXRpb25zIH0sIHRoaXMuI2NsaWVudCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuI2NsaWVudClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gcGF0Y2gsIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSBwYXRjaCB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIlxuICAgICAgKTtcbiAgICBjb25zdCByZXR1cm5GaXJzdCA9IHR5cGVvZiB0aGlzLnNlbGVjdGlvbiA9PSBcInN0cmluZ1wiLCBvcHRzID0gT2JqZWN0LmFzc2lnbih7IHJldHVybkZpcnN0LCByZXR1cm5Eb2N1bWVudHM6ICEwIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLiNjbGllbnQubXV0YXRlKHsgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKCkgfSwgb3B0cyk7XG4gIH1cbn1cbmNsYXNzIFBhdGNoIGV4dGVuZHMgQmFzZVBhdGNoIHtcbiAgI2NsaWVudDtcbiAgY29uc3RydWN0b3Ioc2VsZWN0aW9uLCBvcGVyYXRpb25zLCBjbGllbnQpIHtcbiAgICBzdXBlcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMpLCB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgcGF0Y2hcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgUGF0Y2godGhpcy5zZWxlY3Rpb24sIHsgLi4udGhpcy5vcGVyYXRpb25zIH0sIHRoaXMuI2NsaWVudCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuI2NsaWVudClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gcGF0Y2gsIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSBwYXRjaCB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIlxuICAgICAgKTtcbiAgICBjb25zdCByZXR1cm5GaXJzdCA9IHR5cGVvZiB0aGlzLnNlbGVjdGlvbiA9PSBcInN0cmluZ1wiLCBvcHRzID0gT2JqZWN0LmFzc2lnbih7IHJldHVybkZpcnN0LCByZXR1cm5Eb2N1bWVudHM6ICEwIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiB0aGlzLiNjbGllbnQubXV0YXRlKHsgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKCkgfSwgb3B0cyk7XG4gIH1cbn1cbmNvbnN0IGRlZmF1bHRNdXRhdGVPcHRpb25zID0geyByZXR1cm5Eb2N1bWVudHM6ICExIH07XG5jbGFzcyBCYXNlVHJhbnNhY3Rpb24ge1xuICBvcGVyYXRpb25zO1xuICB0cnhJZDtcbiAgY29uc3RydWN0b3Iob3BlcmF0aW9ucyA9IFtdLCB0cmFuc2FjdGlvbklkKSB7XG4gICAgdGhpcy5vcGVyYXRpb25zID0gb3BlcmF0aW9ucywgdGhpcy50cnhJZCA9IHRyYW5zYWN0aW9uSWQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LiBJZiBgX2lkYCBpcyBwcm92aWRlZCBhbmQgYWxyZWFkeSBleGlzdHMsIHRoZSBtdXRhdGlvbiB3aWxsIGZhaWwuIElmIG5vIGBfaWRgIGlzIGdpdmVuLCBvbmUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGdlbmVyYXRlZCBieSB0aGUgZGF0YWJhc2UuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZS4gUmVxdWlyZXMgYSBgX3R5cGVgIHByb3BlcnR5LlxuICAgKi9cbiAgY3JlYXRlKGRvYykge1xuICAgIHJldHVybiB2YWxpZGF0ZU9iamVjdChcImNyZWF0ZVwiLCBkb2MpLCB0aGlzLl9hZGQoeyBjcmVhdGU6IGRvYyB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQuIElmIGEgZG9jdW1lbnQgd2l0aCB0aGUgc2FtZSBgX2lkYCBhbHJlYWR5IGV4aXN0cywgdGhlIGNyZWF0ZSBvcGVyYXRpb24gd2lsbCBiZSBpZ25vcmVkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2MgLSBEb2N1bWVudCB0byBjcmVhdGUgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdC4gUmVxdWlyZXMgYF9pZGAgYW5kIGBfdHlwZWAgcHJvcGVydGllcy5cbiAgICovXG4gIGNyZWF0ZUlmTm90RXhpc3RzKGRvYykge1xuICAgIGNvbnN0IG9wID0gXCJjcmVhdGVJZk5vdEV4aXN0c1wiO1xuICAgIHJldHVybiB2YWxpZGF0ZU9iamVjdChvcCwgZG9jKSwgcmVxdWlyZURvY3VtZW50SWQob3AsIGRvYyksIHRoaXMuX2FkZCh7IFtvcF06IGRvYyB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQsIG9yIHJlcGxhY2VzIGFuIGV4aXN0aW5nIG9uZSBpZiB0aGUgc2FtZSBgX2lkYCBpcyBhbHJlYWR5IHVzZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBvciByZXBsYWNlLiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlT3JSZXBsYWNlKGRvYykge1xuICAgIGNvbnN0IG9wID0gXCJjcmVhdGVPclJlcGxhY2VcIjtcbiAgICByZXR1cm4gdmFsaWRhdGVPYmplY3Qob3AsIGRvYyksIHJlcXVpcmVEb2N1bWVudElkKG9wLCBkb2MpLCB0aGlzLl9hZGQoeyBbb3BdOiBkb2MgfSk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZXMgdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGRvY3VtZW50IElEXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvY3VtZW50SWQgLSBEb2N1bWVudCBJRCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShkb2N1bWVudElkKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlRG9jdW1lbnRJZChcImRlbGV0ZVwiLCBkb2N1bWVudElkKSwgdGhpcy5fYWRkKHsgZGVsZXRlOiB7IGlkOiBkb2N1bWVudElkIH0gfSk7XG4gIH1cbiAgdHJhbnNhY3Rpb25JZChpZCkge1xuICAgIHJldHVybiBpZCA/ICh0aGlzLnRyeElkID0gaWQsIHRoaXMpIDogdGhpcy50cnhJZDtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIHNlcmlhbGl6ZSgpIHtcbiAgICByZXR1cm4gWy4uLnRoaXMub3BlcmF0aW9uc107XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VyaWFsaXplKCk7XG4gIH1cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgdHJhbnNhY3Rpb24gb2YgYWxsIG9wZXJhdGlvbnNcbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMgPSBbXSwgdGhpcztcbiAgfVxuICBfYWRkKG11dCkge1xuICAgIHJldHVybiB0aGlzLm9wZXJhdGlvbnMucHVzaChtdXQpLCB0aGlzO1xuICB9XG59XG5jbGFzcyBUcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gICNjbGllbnQ7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpLCB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb24oWy4uLnRoaXMub3BlcmF0aW9uc10sIHRoaXMuI2NsaWVudCwgdGhpcy50cnhJZCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuI2NsaWVudClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gdHJhbnNhY3Rpb24sIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSB0cmFuc2FjdGlvbiB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIlxuICAgICAgKTtcbiAgICByZXR1cm4gdGhpcy4jY2xpZW50Lm11dGF0ZShcbiAgICAgIHRoaXMuc2VyaWFsaXplKCksXG4gICAgICBPYmplY3QuYXNzaWduKHsgdHJhbnNhY3Rpb25JZDogdGhpcy50cnhJZCB9LCBkZWZhdWx0TXV0YXRlT3B0aW9ucywgb3B0aW9ucyB8fCB7fSlcbiAgICApO1xuICB9XG4gIHBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCBwYXRjaE9wcykge1xuICAgIGNvbnN0IGlzQnVpbGRlciA9IHR5cGVvZiBwYXRjaE9wcyA9PSBcImZ1bmN0aW9uXCIsIGlzUGF0Y2ggPSB0eXBlb2YgcGF0Y2hPckRvY3VtZW50SWQgIT0gXCJzdHJpbmdcIiAmJiBwYXRjaE9yRG9jdW1lbnRJZCBpbnN0YW5jZW9mIFBhdGNoLCBpc011dGF0aW9uU2VsZWN0aW9uID0gdHlwZW9mIHBhdGNoT3JEb2N1bWVudElkID09IFwib2JqZWN0XCIgJiYgKFwicXVlcnlcIiBpbiBwYXRjaE9yRG9jdW1lbnRJZCB8fCBcImlkXCIgaW4gcGF0Y2hPckRvY3VtZW50SWQpO1xuICAgIGlmIChpc1BhdGNoKVxuICAgICAgcmV0dXJuIHRoaXMuX2FkZCh7IHBhdGNoOiBwYXRjaE9yRG9jdW1lbnRJZC5zZXJpYWxpemUoKSB9KTtcbiAgICBpZiAoaXNCdWlsZGVyKSB7XG4gICAgICBjb25zdCBwYXRjaCA9IHBhdGNoT3BzKG5ldyBQYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwge30sIHRoaXMuI2NsaWVudCkpO1xuICAgICAgaWYgKCEocGF0Y2ggaW5zdGFuY2VvZiBQYXRjaCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImZ1bmN0aW9uIHBhc3NlZCB0byBgcGF0Y2goKWAgbXVzdCByZXR1cm4gdGhlIHBhdGNoXCIpO1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZCh7IHBhdGNoOiBwYXRjaC5zZXJpYWxpemUoKSB9KTtcbiAgICB9XG4gICAgaWYgKGlzTXV0YXRpb25TZWxlY3Rpb24pIHtcbiAgICAgIGNvbnN0IHBhdGNoID0gbmV3IFBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCBwYXRjaE9wcyB8fCB7fSwgdGhpcy4jY2xpZW50KTtcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2guc2VyaWFsaXplKCkgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogeyBpZDogcGF0Y2hPckRvY3VtZW50SWQsIC4uLnBhdGNoT3BzIH0gfSk7XG4gIH1cbn1cbmNsYXNzIE9ic2VydmFibGVUcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gICNjbGllbnQ7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpLCB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lcyB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKFsuLi50aGlzLm9wZXJhdGlvbnNdLCB0aGlzLiNjbGllbnQsIHRoaXMudHJ4SWQpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLiNjbGllbnQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHRyYW5zYWN0aW9uLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgdHJhbnNhY3Rpb24gdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCJcbiAgICAgICk7XG4gICAgcmV0dXJuIHRoaXMuI2NsaWVudC5tdXRhdGUoXG4gICAgICB0aGlzLnNlcmlhbGl6ZSgpLFxuICAgICAgT2JqZWN0LmFzc2lnbih7IHRyYW5zYWN0aW9uSWQ6IHRoaXMudHJ4SWQgfSwgZGVmYXVsdE11dGF0ZU9wdGlvbnMsIG9wdGlvbnMgfHwge30pXG4gICAgKTtcbiAgfVxuICBwYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwgcGF0Y2hPcHMpIHtcbiAgICBjb25zdCBpc0J1aWxkZXIgPSB0eXBlb2YgcGF0Y2hPcHMgPT0gXCJmdW5jdGlvblwiO1xuICAgIGlmICh0eXBlb2YgcGF0Y2hPckRvY3VtZW50SWQgIT0gXCJzdHJpbmdcIiAmJiBwYXRjaE9yRG9jdW1lbnRJZCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaClcbiAgICAgIHJldHVybiB0aGlzLl9hZGQoeyBwYXRjaDogcGF0Y2hPckRvY3VtZW50SWQuc2VyaWFsaXplKCkgfSk7XG4gICAgaWYgKGlzQnVpbGRlcikge1xuICAgICAgY29uc3QgcGF0Y2ggPSBwYXRjaE9wcyhuZXcgT2JzZXJ2YWJsZVBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCB7fSwgdGhpcy4jY2xpZW50KSk7XG4gICAgICBpZiAoIShwYXRjaCBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImZ1bmN0aW9uIHBhc3NlZCB0byBgcGF0Y2goKWAgbXVzdCByZXR1cm4gdGhlIHBhdGNoXCIpO1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZCh7IHBhdGNoOiBwYXRjaC5zZXJpYWxpemUoKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7IHBhdGNoOiB7IGlkOiBwYXRjaE9yRG9jdW1lbnRJZCwgLi4ucGF0Y2hPcHMgfSB9KTtcbiAgfVxufVxuY29uc3QgcHJvamVjdEhlYWRlciA9IFwiWC1TYW5pdHktUHJvamVjdC1JRFwiO1xuZnVuY3Rpb24gcmVxdWVzdE9wdGlvbnMoY29uZmlnLCBvdmVycmlkZXMgPSB7fSkge1xuICBjb25zdCBoZWFkZXJzID0ge30sIHRva2VuID0gb3ZlcnJpZGVzLnRva2VuIHx8IGNvbmZpZy50b2tlbjtcbiAgdG9rZW4gJiYgKGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gKSwgIW92ZXJyaWRlcy51c2VHbG9iYWxBcGkgJiYgIWNvbmZpZy51c2VQcm9qZWN0SG9zdG5hbWUgJiYgY29uZmlnLnByb2plY3RJZCAmJiAoaGVhZGVyc1twcm9qZWN0SGVhZGVyXSA9IGNvbmZpZy5wcm9qZWN0SWQpO1xuICBjb25zdCB3aXRoQ3JlZGVudGlhbHMgPSAhISh0eXBlb2Ygb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFscyA+IFwidVwiID8gY29uZmlnLndpdGhDcmVkZW50aWFscyA6IG92ZXJyaWRlcy53aXRoQ3JlZGVudGlhbHMpLCB0aW1lb3V0ID0gdHlwZW9mIG92ZXJyaWRlcy50aW1lb3V0ID4gXCJ1XCIgPyBjb25maWcudGltZW91dCA6IG92ZXJyaWRlcy50aW1lb3V0O1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgb3ZlcnJpZGVzLCB7XG4gICAgaGVhZGVyczogT2JqZWN0LmFzc2lnbih7fSwgaGVhZGVycywgb3ZlcnJpZGVzLmhlYWRlcnMgfHwge30pLFxuICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID4gXCJ1XCIgPyA1ICogNjAgKiAxZTMgOiB0aW1lb3V0LFxuICAgIHByb3h5OiBvdmVycmlkZXMucHJveHkgfHwgY29uZmlnLnByb3h5LFxuICAgIGpzb246ICEwLFxuICAgIHdpdGhDcmVkZW50aWFscyxcbiAgICBmZXRjaDogdHlwZW9mIG92ZXJyaWRlcy5mZXRjaCA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBjb25maWcuZmV0Y2ggPT0gXCJvYmplY3RcIiA/IHsgLi4uY29uZmlnLmZldGNoLCAuLi5vdmVycmlkZXMuZmV0Y2ggfSA6IG92ZXJyaWRlcy5mZXRjaCB8fCBjb25maWcuZmV0Y2hcbiAgfSk7XG59XG5jb25zdCBlbmNvZGVRdWVyeVN0cmluZyA9ICh7XG4gIHF1ZXJ5LFxuICBwYXJhbXMgPSB7fSxcbiAgb3B0aW9ucyA9IHt9XG59KSA9PiB7XG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKSwgeyB0YWcsIGluY2x1ZGVNdXRhdGlvbnMsIHJldHVyblF1ZXJ5LCAuLi5vcHRzIH0gPSBvcHRpb25zO1xuICB0YWcgJiYgc2VhcmNoUGFyYW1zLmFwcGVuZChcInRhZ1wiLCB0YWcpLCBzZWFyY2hQYXJhbXMuYXBwZW5kKFwicXVlcnlcIiwgcXVlcnkpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbXMpKVxuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoYCQke2tleX1gLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRzKSlcbiAgICB2YWx1ZSAmJiBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgYCR7dmFsdWV9YCk7XG4gIHJldHVybiByZXR1cm5RdWVyeSA9PT0gITEgJiYgc2VhcmNoUGFyYW1zLmFwcGVuZChcInJldHVyblF1ZXJ5XCIsIFwiZmFsc2VcIiksIGluY2x1ZGVNdXRhdGlvbnMgPT09ICExICYmIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmNsdWRlTXV0YXRpb25zXCIsIFwiZmFsc2VcIiksIGA/JHtzZWFyY2hQYXJhbXN9YDtcbn0sIGV4Y2x1ZGVGYWxzZXkgPSAocGFyYW0sIGRlZlZhbHVlKSA9PiBwYXJhbSA9PT0gITEgPyB2b2lkIDAgOiB0eXBlb2YgcGFyYW0gPiBcInVcIiA/IGRlZlZhbHVlIDogcGFyYW0sIGdldE11dGF0aW9uUXVlcnkgPSAob3B0aW9ucyA9IHt9KSA9PiAoe1xuICBkcnlSdW46IG9wdGlvbnMuZHJ5UnVuLFxuICByZXR1cm5JZHM6ICEwLFxuICByZXR1cm5Eb2N1bWVudHM6IGV4Y2x1ZGVGYWxzZXkob3B0aW9ucy5yZXR1cm5Eb2N1bWVudHMsICEwKSxcbiAgdmlzaWJpbGl0eTogb3B0aW9ucy52aXNpYmlsaXR5IHx8IFwic3luY1wiLFxuICBhdXRvR2VuZXJhdGVBcnJheUtleXM6IG9wdGlvbnMuYXV0b0dlbmVyYXRlQXJyYXlLZXlzLFxuICBza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbjogb3B0aW9ucy5za2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvblxufSksIGlzUmVzcG9uc2UgPSAoZXZlbnQpID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIiwgZ2V0Qm9keSA9IChldmVudCkgPT4gZXZlbnQuYm9keSwgaW5kZXhCeSA9IChkb2NzLCBhdHRyKSA9PiBkb2NzLnJlZHVjZSgoaW5kZXhlZCwgZG9jKSA9PiAoaW5kZXhlZFthdHRyKGRvYyldID0gZG9jLCBpbmRleGVkKSwgLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpLCBnZXRRdWVyeVNpemVMaW1pdCA9IDExMjY0O1xuZnVuY3Rpb24gX2ZldGNoKGNsaWVudCwgaHR0cFJlcXVlc3QsIF9zdGVnYSwgcXVlcnksIF9wYXJhbXMgPSB7fSwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHN0ZWdhID0gXCJzdGVnYVwiIGluIG9wdGlvbnMgPyB7XG4gICAgLi4uX3N0ZWdhIHx8IHt9LFxuICAgIC4uLnR5cGVvZiBvcHRpb25zLnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBvcHRpb25zLnN0ZWdhIH0gOiBvcHRpb25zLnN0ZWdhIHx8IHt9XG4gIH0gOiBfc3RlZ2EsIHBhcmFtcyA9IHN0ZWdhLmVuYWJsZWQgPyBzdGVnYUNsZWFuKF9wYXJhbXMpIDogX3BhcmFtcywgbWFwUmVzcG9uc2UgPSBvcHRpb25zLmZpbHRlclJlc3BvbnNlID09PSAhMSA/IChyZXMpID0+IHJlcyA6IChyZXMpID0+IHJlcy5yZXN1bHQsIHsgY2FjaGUsIG5leHQsIC4uLm9wdHMgfSA9IHtcbiAgICAvLyBPcHQgb3V0IG9mIHNldHRpbmcgYSBgc2lnbmFsYCBvbiBhbiBpbnRlcm5hbCBgZmV0Y2hgIGlmIG9uZSBpc24ndCBwcm92aWRlZC5cbiAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBpbiBSZWFjdCBTZXJ2ZXIgQ29tcG9uZW50cyB0byBhdm9pZCBvcHRpbmcgb3V0IG9mIFJlcXVlc3QgTWVtb2l6YXRpb24uXG4gICAgdXNlQWJvcnRTaWduYWw6IHR5cGVvZiBvcHRpb25zLnNpZ25hbCA8IFwidVwiLFxuICAgIC8vIFNldCBgcmVzdWx0U291cmNlTWFwJyB3aGVuIHN0ZWdhIGlzIGVuYWJsZWQsIGFzIGl0J3MgcmVxdWlyZWQgZm9yIGVuY29kaW5nLlxuICAgIHJlc3VsdFNvdXJjZU1hcDogc3RlZ2EuZW5hYmxlZCA/IFwid2l0aEtleUFycmF5U2VsZWN0b3JcIiA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIC4uLm9wdGlvbnMsXG4gICAgLy8gRGVmYXVsdCB0byBub3QgcmV0dXJuaW5nIHRoZSBxdWVyeSwgdW5sZXNzIGBmaWx0ZXJSZXNwb25zZWAgaXMgYGZhbHNlYCxcbiAgICAvLyBvciBgcmV0dXJuUXVlcnlgIGlzIGV4cGxpY2l0bHkgc2V0LiBgdHJ1ZWAgaXMgdGhlIGRlZmF1bHQgaW4gQ29udGVudCBMYWtlLCBzbyBza2lwIGlmIHRydXRoeVxuICAgIHJldHVyblF1ZXJ5OiBvcHRpb25zLmZpbHRlclJlc3BvbnNlID09PSAhMSAmJiBvcHRpb25zLnJldHVyblF1ZXJ5ICE9PSAhMVxuICB9LCByZXFPcHRzID0gdHlwZW9mIGNhY2hlIDwgXCJ1XCIgfHwgdHlwZW9mIG5leHQgPCBcInVcIiA/IHsgLi4ub3B0cywgZmV0Y2g6IHsgY2FjaGUsIG5leHQgfSB9IDogb3B0cywgJHJlcXVlc3QgPSBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJxdWVyeVwiLCB7IHF1ZXJ5LCBwYXJhbXMgfSwgcmVxT3B0cyk7XG4gIHJldHVybiBzdGVnYS5lbmFibGVkID8gJHJlcXVlc3QucGlwZShcbiAgICBjb21iaW5lTGF0ZXN0V2l0aChcbiAgICAgIGZyb20oXG4gICAgICAgIGltcG9ydChcIi4vX2NodW5rcy1lcy9zdGVnYUVuY29kZVNvdXJjZU1hcC5qc1wiKS50aGVuKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICByZXR1cm4gbi5zdGVnYUVuY29kZVNvdXJjZU1hcCQxO1xuICAgICAgICB9KS50aGVuKFxuICAgICAgICAgICh7IHN0ZWdhRW5jb2RlU291cmNlTWFwIH0pID0+IHN0ZWdhRW5jb2RlU291cmNlTWFwXG4gICAgICAgIClcbiAgICAgIClcbiAgICApLFxuICAgIG1hcChcbiAgICAgIChbcmVzLCBzdGVnYUVuY29kZVNvdXJjZU1hcF0pID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc3RlZ2FFbmNvZGVTb3VyY2VNYXAocmVzLnJlc3VsdCwgcmVzLnJlc3VsdFNvdXJjZU1hcCwgc3RlZ2EpO1xuICAgICAgICByZXR1cm4gbWFwUmVzcG9uc2UoeyAuLi5yZXMsIHJlc3VsdCB9KTtcbiAgICAgIH1cbiAgICApXG4gICkgOiAkcmVxdWVzdC5waXBlKG1hcChtYXBSZXNwb25zZSkpO1xufVxuZnVuY3Rpb24gX2dldERvY3VtZW50KGNsaWVudCwgaHR0cFJlcXVlc3QsIGlkLCBvcHRzID0ge30pIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICB1cmk6IF9nZXREYXRhVXJsKGNsaWVudCwgXCJkb2NcIiwgaWQpLFxuICAgIGpzb246ICEwLFxuICAgIHRhZzogb3B0cy50YWcsXG4gICAgc2lnbmFsOiBvcHRzLnNpZ25hbFxuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKGlzUmVzcG9uc2UpLFxuICAgIG1hcCgoZXZlbnQpID0+IGV2ZW50LmJvZHkuZG9jdW1lbnRzICYmIGV2ZW50LmJvZHkuZG9jdW1lbnRzWzBdKVxuICApO1xufVxuZnVuY3Rpb24gX2dldERvY3VtZW50cyhjbGllbnQsIGh0dHBSZXF1ZXN0LCBpZHMsIG9wdHMgPSB7fSkge1xuICBjb25zdCBvcHRpb25zID0ge1xuICAgIHVyaTogX2dldERhdGFVcmwoY2xpZW50LCBcImRvY1wiLCBpZHMuam9pbihcIixcIikpLFxuICAgIGpzb246ICEwLFxuICAgIHRhZzogb3B0cy50YWcsXG4gICAgc2lnbmFsOiBvcHRzLnNpZ25hbFxuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKGlzUmVzcG9uc2UpLFxuICAgIG1hcCgoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ZWQgPSBpbmRleEJ5KGV2ZW50LmJvZHkuZG9jdW1lbnRzIHx8IFtdLCAoZG9jKSA9PiBkb2MuX2lkKTtcbiAgICAgIHJldHVybiBpZHMubWFwKChpZCkgPT4gaW5kZXhlZFtpZF0gfHwgbnVsbCk7XG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVJZk5vdEV4aXN0cyhjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHJlcXVpcmVEb2N1bWVudElkKFwiY3JlYXRlSWZOb3RFeGlzdHNcIiwgZG9jKSwgX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIFwiY3JlYXRlSWZOb3RFeGlzdHNcIiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfY3JlYXRlT3JSZXBsYWNlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgb3B0aW9ucykge1xuICByZXR1cm4gcmVxdWlyZURvY3VtZW50SWQoXCJjcmVhdGVPclJlcGxhY2VcIiwgZG9jKSwgX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIFwiY3JlYXRlT3JSZXBsYWNlXCIsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2RlbGV0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBzZWxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChcbiAgICBjbGllbnQsXG4gICAgaHR0cFJlcXVlc3QsXG4gICAgXCJtdXRhdGVcIixcbiAgICB7IG11dGF0aW9uczogW3sgZGVsZXRlOiBnZXRTZWxlY3Rpb24oc2VsZWN0aW9uKSB9XSB9LFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbmZ1bmN0aW9uIF9tdXRhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgbXV0YXRpb25zLCBvcHRpb25zKSB7XG4gIGxldCBtdXQ7XG4gIG11dGF0aW9ucyBpbnN0YW5jZW9mIFBhdGNoIHx8IG11dGF0aW9ucyBpbnN0YW5jZW9mIE9ic2VydmFibGVQYXRjaCA/IG11dCA9IHsgcGF0Y2g6IG11dGF0aW9ucy5zZXJpYWxpemUoKSB9IDogbXV0YXRpb25zIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24gfHwgbXV0YXRpb25zIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID8gbXV0ID0gbXV0YXRpb25zLnNlcmlhbGl6ZSgpIDogbXV0ID0gbXV0YXRpb25zO1xuICBjb25zdCBtdXRzID0gQXJyYXkuaXNBcnJheShtdXQpID8gbXV0IDogW211dF0sIHRyYW5zYWN0aW9uSWQgPSBvcHRpb25zICYmIG9wdGlvbnMudHJhbnNhY3Rpb25JZCB8fCB2b2lkIDA7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwgeyBtdXRhdGlvbnM6IG11dHMsIHRyYW5zYWN0aW9uSWQgfSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfYWN0aW9uKGNsaWVudCwgaHR0cFJlcXVlc3QsIGFjdGlvbnMsIG9wdGlvbnMpIHtcbiAgY29uc3QgYWN0cyA9IEFycmF5LmlzQXJyYXkoYWN0aW9ucykgPyBhY3Rpb25zIDogW2FjdGlvbnNdLCB0cmFuc2FjdGlvbklkID0gb3B0aW9ucyAmJiBvcHRpb25zLnRyYW5zYWN0aW9uSWQgfHwgdm9pZCAwLCBza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5za2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiB8fCB2b2lkIDAsIGRyeVJ1biA9IG9wdGlvbnMgJiYgb3B0aW9ucy5kcnlSdW4gfHwgdm9pZCAwO1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KFxuICAgIGNsaWVudCxcbiAgICBodHRwUmVxdWVzdCxcbiAgICBcImFjdGlvbnNcIixcbiAgICB7IGFjdGlvbnM6IGFjdHMsIHRyYW5zYWN0aW9uSWQsIHNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uLCBkcnlSdW4gfSxcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBpc011dGF0aW9uID0gZW5kcG9pbnQgPT09IFwibXV0YXRlXCIsIGlzQWN0aW9uID0gZW5kcG9pbnQgPT09IFwiYWN0aW9uc1wiLCBpc1F1ZXJ5MiA9IGVuZHBvaW50ID09PSBcInF1ZXJ5XCIsIHN0clF1ZXJ5ID0gaXNNdXRhdGlvbiB8fCBpc0FjdGlvbiA/IFwiXCIgOiBlbmNvZGVRdWVyeVN0cmluZyhib2R5KSwgdXNlR2V0ID0gIWlzTXV0YXRpb24gJiYgIWlzQWN0aW9uICYmIHN0clF1ZXJ5Lmxlbmd0aCA8IGdldFF1ZXJ5U2l6ZUxpbWl0LCBzdHJpbmdRdWVyeSA9IHVzZUdldCA/IHN0clF1ZXJ5IDogXCJcIiwgcmV0dXJuRmlyc3QgPSBvcHRpb25zLnJldHVybkZpcnN0LCB7IHRpbWVvdXQsIHRva2VuLCB0YWcsIGhlYWRlcnMsIHJldHVyblF1ZXJ5LCBsYXN0TGl2ZUV2ZW50SWQsIGNhY2hlTW9kZSB9ID0gb3B0aW9ucywgdXJpID0gX2dldERhdGFVcmwoY2xpZW50LCBlbmRwb2ludCwgc3RyaW5nUXVlcnkpLCByZXFPcHRpb25zID0ge1xuICAgIG1ldGhvZDogdXNlR2V0ID8gXCJHRVRcIiA6IFwiUE9TVFwiLFxuICAgIHVyaSxcbiAgICBqc29uOiAhMCxcbiAgICBib2R5OiB1c2VHZXQgPyB2b2lkIDAgOiBib2R5LFxuICAgIHF1ZXJ5OiBpc011dGF0aW9uICYmIGdldE11dGF0aW9uUXVlcnkob3B0aW9ucyksXG4gICAgdGltZW91dCxcbiAgICBoZWFkZXJzLFxuICAgIHRva2VuLFxuICAgIHRhZyxcbiAgICByZXR1cm5RdWVyeSxcbiAgICBwZXJzcGVjdGl2ZTogb3B0aW9ucy5wZXJzcGVjdGl2ZSxcbiAgICByZXN1bHRTb3VyY2VNYXA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIGxhc3RMaXZlRXZlbnRJZDogQXJyYXkuaXNBcnJheShsYXN0TGl2ZUV2ZW50SWQpID8gbGFzdExpdmVFdmVudElkWzBdIDogbGFzdExpdmVFdmVudElkLFxuICAgIGNhY2hlTW9kZSxcbiAgICBjYW5Vc2VDZG46IGlzUXVlcnkyLFxuICAgIHNpZ25hbDogb3B0aW9ucy5zaWduYWwsXG4gICAgZmV0Y2g6IG9wdGlvbnMuZmV0Y2gsXG4gICAgdXNlQWJvcnRTaWduYWw6IG9wdGlvbnMudXNlQWJvcnRTaWduYWwsXG4gICAgdXNlQ2RuOiBvcHRpb25zLnVzZUNkblxuICB9O1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHJlcU9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKGlzUmVzcG9uc2UpLFxuICAgIG1hcChnZXRCb2R5KSxcbiAgICBtYXAoKHJlcykgPT4ge1xuICAgICAgaWYgKCFpc011dGF0aW9uKVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgY29uc3QgcmVzdWx0cyA9IHJlcy5yZXN1bHRzIHx8IFtdO1xuICAgICAgaWYgKG9wdGlvbnMucmV0dXJuRG9jdW1lbnRzKVxuICAgICAgICByZXR1cm4gcmV0dXJuRmlyc3QgPyByZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uZG9jdW1lbnQgOiByZXN1bHRzLm1hcCgobXV0KSA9PiBtdXQuZG9jdW1lbnQpO1xuICAgICAgY29uc3Qga2V5ID0gcmV0dXJuRmlyc3QgPyBcImRvY3VtZW50SWRcIiA6IFwiZG9jdW1lbnRJZHNcIiwgaWRzID0gcmV0dXJuRmlyc3QgPyByZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uaWQgOiByZXN1bHRzLm1hcCgobXV0KSA9PiBtdXQuaWQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHJhbnNhY3Rpb25JZDogcmVzLnRyYW5zYWN0aW9uSWQsXG4gICAgICAgIHJlc3VsdHMsXG4gICAgICAgIFtrZXldOiBpZHNcbiAgICAgIH07XG4gICAgfSlcbiAgKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGUoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IG11dGF0aW9uID0geyBbb3BdOiBkb2MgfSwgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyByZXR1cm5GaXJzdDogITAsIHJldHVybkRvY3VtZW50czogITAgfSwgb3B0aW9ucyk7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwgeyBtdXRhdGlvbnM6IFttdXRhdGlvbl0gfSwgb3B0cyk7XG59XG5jb25zdCBoYXNEYXRhQ29uZmlnID0gKGNsaWVudCkgPT4gY2xpZW50LmNvbmZpZygpLmRhdGFzZXQgIT09IHZvaWQgMCAmJiBjbGllbnQuY29uZmlnKCkucHJvamVjdElkICE9PSB2b2lkIDAgfHwgY2xpZW50LmNvbmZpZygpW1wifmV4cGVyaW1lbnRhbF9yZXNvdXJjZVwiXSAhPT0gdm9pZCAwLCBpc1F1ZXJ5ID0gKGNsaWVudCwgdXJpKSA9PiBoYXNEYXRhQ29uZmlnKGNsaWVudCkgJiYgdXJpLnN0YXJ0c1dpdGgoX2dldERhdGFVcmwoY2xpZW50LCBcInF1ZXJ5XCIpKSwgaXNNdXRhdGUgPSAoY2xpZW50LCB1cmkpID0+IGhhc0RhdGFDb25maWcoY2xpZW50KSAmJiB1cmkuc3RhcnRzV2l0aChfZ2V0RGF0YVVybChjbGllbnQsIFwibXV0YXRlXCIpKSwgaXNEb2MgPSAoY2xpZW50LCB1cmkpID0+IGhhc0RhdGFDb25maWcoY2xpZW50KSAmJiB1cmkuc3RhcnRzV2l0aChfZ2V0RGF0YVVybChjbGllbnQsIFwiZG9jXCIsIFwiXCIpKSwgaXNMaXN0ZW5lciA9IChjbGllbnQsIHVyaSkgPT4gaGFzRGF0YUNvbmZpZyhjbGllbnQpICYmIHVyaS5zdGFydHNXaXRoKF9nZXREYXRhVXJsKGNsaWVudCwgXCJsaXN0ZW5cIikpLCBpc0hpc3RvcnkgPSAoY2xpZW50LCB1cmkpID0+IGhhc0RhdGFDb25maWcoY2xpZW50KSAmJiB1cmkuc3RhcnRzV2l0aChfZ2V0RGF0YVVybChjbGllbnQsIFwiaGlzdG9yeVwiLCBcIlwiKSksIGlzRGF0YSA9IChjbGllbnQsIHVyaSkgPT4gdXJpLnN0YXJ0c1dpdGgoXCIvZGF0YS9cIikgfHwgaXNRdWVyeShjbGllbnQsIHVyaSkgfHwgaXNNdXRhdGUoY2xpZW50LCB1cmkpIHx8IGlzRG9jKGNsaWVudCwgdXJpKSB8fCBpc0xpc3RlbmVyKGNsaWVudCwgdXJpKSB8fCBpc0hpc3RvcnkoY2xpZW50LCB1cmkpO1xuZnVuY3Rpb24gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpIHtcbiAgY29uc3QgdXJpID0gb3B0aW9ucy51cmwgfHwgb3B0aW9ucy51cmksIGNvbmZpZyA9IGNsaWVudC5jb25maWcoKSwgY2FuVXNlQ2RuID0gdHlwZW9mIG9wdGlvbnMuY2FuVXNlQ2RuID4gXCJ1XCIgPyBbXCJHRVRcIiwgXCJIRUFEXCJdLmluZGV4T2Yob3B0aW9ucy5tZXRob2QgfHwgXCJHRVRcIikgPj0gMCAmJiBpc0RhdGEoY2xpZW50LCB1cmkpIDogb3B0aW9ucy5jYW5Vc2VDZG47XG4gIGxldCB1c2VDZG4gPSAob3B0aW9ucy51c2VDZG4gPz8gY29uZmlnLnVzZUNkbikgJiYgY2FuVXNlQ2RuO1xuICBjb25zdCB0YWcgPSBvcHRpb25zLnRhZyAmJiBjb25maWcucmVxdWVzdFRhZ1ByZWZpeCA/IFtjb25maWcucmVxdWVzdFRhZ1ByZWZpeCwgb3B0aW9ucy50YWddLmpvaW4oXCIuXCIpIDogb3B0aW9ucy50YWcgfHwgY29uZmlnLnJlcXVlc3RUYWdQcmVmaXg7XG4gIGlmICh0YWcgJiYgb3B0aW9ucy50YWcgIT09IG51bGwgJiYgKG9wdGlvbnMucXVlcnkgPSB7IHRhZzogcmVxdWVzdFRhZyh0YWcpLCAuLi5vcHRpb25zLnF1ZXJ5IH0pLCBbXCJHRVRcIiwgXCJIRUFEXCIsIFwiUE9TVFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpID49IDAgJiYgaXNRdWVyeShjbGllbnQsIHVyaSkpIHtcbiAgICBjb25zdCByZXN1bHRTb3VyY2VNYXAgPSBvcHRpb25zLnJlc3VsdFNvdXJjZU1hcCA/PyBjb25maWcucmVzdWx0U291cmNlTWFwO1xuICAgIHJlc3VsdFNvdXJjZU1hcCAhPT0gdm9pZCAwICYmIHJlc3VsdFNvdXJjZU1hcCAhPT0gITEgJiYgKG9wdGlvbnMucXVlcnkgPSB7IHJlc3VsdFNvdXJjZU1hcCwgLi4ub3B0aW9ucy5xdWVyeSB9KTtcbiAgICBjb25zdCBwZXJzcGVjdGl2ZU9wdGlvbiA9IG9wdGlvbnMucGVyc3BlY3RpdmUgfHwgY29uZmlnLnBlcnNwZWN0aXZlO1xuICAgIHR5cGVvZiBwZXJzcGVjdGl2ZU9wdGlvbiA8IFwidVwiICYmIChwZXJzcGVjdGl2ZU9wdGlvbiA9PT0gXCJwcmV2aWV3RHJhZnRzXCIgJiYgcHJpbnRQcmV2aWV3RHJhZnRzRGVwcmVjYXRpb25XYXJuaW5nKCksIHZhbGlkYXRlQXBpUGVyc3BlY3RpdmUocGVyc3BlY3RpdmVPcHRpb24pLCBvcHRpb25zLnF1ZXJ5ID0ge1xuICAgICAgcGVyc3BlY3RpdmU6IEFycmF5LmlzQXJyYXkocGVyc3BlY3RpdmVPcHRpb24pID8gcGVyc3BlY3RpdmVPcHRpb24uam9pbihcIixcIikgOiBwZXJzcGVjdGl2ZU9wdGlvbixcbiAgICAgIC4uLm9wdGlvbnMucXVlcnlcbiAgICB9LCAoQXJyYXkuaXNBcnJheShwZXJzcGVjdGl2ZU9wdGlvbikgJiYgcGVyc3BlY3RpdmVPcHRpb24ubGVuZ3RoID4gMCB8fCAvLyBwcmV2aWV3RHJhZnRzIHdhcyByZW5hbWVkIHRvIGRyYWZ0cywgYnV0IGtlZXAgZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAgICBwZXJzcGVjdGl2ZU9wdGlvbiA9PT0gXCJwcmV2aWV3RHJhZnRzXCIgfHwgcGVyc3BlY3RpdmVPcHRpb24gPT09IFwiZHJhZnRzXCIpICYmIHVzZUNkbiAmJiAodXNlQ2RuID0gITEsIHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcoKSkpLCBvcHRpb25zLmxhc3RMaXZlRXZlbnRJZCAmJiAob3B0aW9ucy5xdWVyeSA9IHsgLi4ub3B0aW9ucy5xdWVyeSwgbGFzdExpdmVFdmVudElkOiBvcHRpb25zLmxhc3RMaXZlRXZlbnRJZCB9KSwgb3B0aW9ucy5yZXR1cm5RdWVyeSA9PT0gITEgJiYgKG9wdGlvbnMucXVlcnkgPSB7IHJldHVyblF1ZXJ5OiBcImZhbHNlXCIsIC4uLm9wdGlvbnMucXVlcnkgfSksIHVzZUNkbiAmJiBvcHRpb25zLmNhY2hlTW9kZSA9PSBcIm5vU3RhbGVcIiAmJiAob3B0aW9ucy5xdWVyeSA9IHsgY2FjaGVNb2RlOiBcIm5vU3RhbGVcIiwgLi4ub3B0aW9ucy5xdWVyeSB9KTtcbiAgfVxuICBjb25zdCByZXFPcHRpb25zID0gcmVxdWVzdE9wdGlvbnMoXG4gICAgY29uZmlnLFxuICAgIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIHVybDogX2dldFVybChjbGllbnQsIHVyaSwgdXNlQ2RuKVxuICAgIH0pXG4gICksIHJlcXVlc3QgPSBuZXcgT2JzZXJ2YWJsZShcbiAgICAoc3Vic2NyaWJlcikgPT4gaHR0cFJlcXVlc3QocmVxT3B0aW9ucywgY29uZmlnLnJlcXVlc3Rlcikuc3Vic2NyaWJlKHN1YnNjcmliZXIpXG4gICk7XG4gIHJldHVybiBvcHRpb25zLnNpZ25hbCA/IHJlcXVlc3QucGlwZShfd2l0aEFib3J0U2lnbmFsKG9wdGlvbnMuc2lnbmFsKSkgOiByZXF1ZXN0O1xufVxuZnVuY3Rpb24gX3JlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykge1xuICByZXR1cm4gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoXG4gICAgZmlsdGVyKChldmVudCkgPT4gZXZlbnQudHlwZSA9PT0gXCJyZXNwb25zZVwiKSxcbiAgICBtYXAoKGV2ZW50KSA9PiBldmVudC5ib2R5KVxuICApO1xufVxuZnVuY3Rpb24gX2dldERhdGFVcmwoY2xpZW50LCBvcGVyYXRpb24sIHBhdGgpIHtcbiAgY29uc3QgY29uZmlnID0gY2xpZW50LmNvbmZpZygpO1xuICBpZiAoY29uZmlnW1wifmV4cGVyaW1lbnRhbF9yZXNvdXJjZVwiXSkge1xuICAgIHJlc291cmNlQ29uZmlnKGNvbmZpZyk7XG4gICAgY29uc3QgcmVzb3VyY2VCYXNlID0gcmVzb3VyY2VEYXRhQmFzZShjb25maWcpLCB1cmkyID0gcGF0aCAhPT0gdm9pZCAwID8gYCR7b3BlcmF0aW9ufS8ke3BhdGh9YCA6IG9wZXJhdGlvbjtcbiAgICByZXR1cm4gYCR7cmVzb3VyY2VCYXNlfS8ke3VyaTJ9YC5yZXBsYWNlKC9cXC8oJHxcXD8pLywgXCIkMVwiKTtcbiAgfVxuICBjb25zdCBjYXRhbG9nID0gaGFzRGF0YXNldChjb25maWcpLCBiYXNlVXJpID0gYC8ke29wZXJhdGlvbn0vJHtjYXRhbG9nfWA7XG4gIHJldHVybiBgL2RhdGEke3BhdGggIT09IHZvaWQgMCA/IGAke2Jhc2VVcml9LyR7cGF0aH1gIDogYmFzZVVyaX1gLnJlcGxhY2UoL1xcLygkfFxcPykvLCBcIiQxXCIpO1xufVxuZnVuY3Rpb24gX2dldFVybChjbGllbnQsIHVyaSwgY2FuVXNlQ2RuID0gITEpIHtcbiAgY29uc3QgeyB1cmwsIGNkblVybCB9ID0gY2xpZW50LmNvbmZpZygpO1xuICByZXR1cm4gYCR7Y2FuVXNlQ2RuID8gY2RuVXJsIDogdXJsfS8ke3VyaS5yZXBsYWNlKC9eXFwvLywgXCJcIil9YDtcbn1cbmZ1bmN0aW9uIF93aXRoQWJvcnRTaWduYWwoc2lnbmFsKSB7XG4gIHJldHVybiAoaW5wdXQpID0+IG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgIGNvbnN0IGFib3J0ID0gKCkgPT4gb2JzZXJ2ZXIuZXJyb3IoX2NyZWF0ZUFib3J0RXJyb3Ioc2lnbmFsKSk7XG4gICAgaWYgKHNpZ25hbCAmJiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgYWJvcnQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gaW5wdXQuc3Vic2NyaWJlKG9ic2VydmVyKTtcbiAgICByZXR1cm4gc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBhYm9ydCksICgpID0+IHtcbiAgICAgIHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgYWJvcnQpLCBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9KTtcbn1cbmNvbnN0IGlzRG9tRXhjZXB0aW9uU3VwcG9ydGVkID0gISFnbG9iYWxUaGlzLkRPTUV4Y2VwdGlvbjtcbmZ1bmN0aW9uIF9jcmVhdGVBYm9ydEVycm9yKHNpZ25hbCkge1xuICBpZiAoaXNEb21FeGNlcHRpb25TdXBwb3J0ZWQpXG4gICAgcmV0dXJuIG5ldyBET01FeGNlcHRpb24oc2lnbmFsPy5yZWFzb24gPz8gXCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLlwiLCBcIkFib3J0RXJyb3JcIik7XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHNpZ25hbD8ucmVhc29uID8/IFwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC5cIik7XG4gIHJldHVybiBlcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCIsIGVycm9yO1xufVxuY29uc3QgcmVzb3VyY2VEYXRhQmFzZSA9IChjb25maWcpID0+IHtcbiAgaWYgKCFjb25maWdbXCJ+ZXhwZXJpbWVudGFsX3Jlc291cmNlXCJdKVxuICAgIHRocm93IG5ldyBFcnJvcihcImByZXNvdXJjZWAgbXVzdCBiZSBwcm92aWRlZCB0byBwZXJmb3JtIHJlc291cmNlIHF1ZXJpZXNcIik7XG4gIGNvbnN0IHsgdHlwZSwgaWQgfSA9IGNvbmZpZ1tcIn5leHBlcmltZW50YWxfcmVzb3VyY2VcIl07XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJkYXRhc2V0XCI6IHtcbiAgICAgIGNvbnN0IHNlZ21lbnRzID0gaWQuc3BsaXQoXCIuXCIpO1xuICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCAhPT0gMilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhc2V0IElEIG11c3QgYmUgaW4gdGhlIGZvcm1hdCBcInByb2plY3QuZGF0YXNldFwiJyk7XG4gICAgICByZXR1cm4gYC9wcm9qZWN0cy8ke3NlZ21lbnRzWzBdfS9kYXRhc2V0cy8ke3NlZ21lbnRzWzFdfWA7XG4gICAgfVxuICAgIGNhc2UgXCJjYW52YXNcIjpcbiAgICAgIHJldHVybiBgL2NhbnZhc2VzLyR7aWR9YDtcbiAgICBjYXNlIFwibWVkaWEtbGlicmFyeVwiOlxuICAgICAgcmV0dXJuIGAvbWVkaWEtbGlicmFyaWVzLyR7aWR9YDtcbiAgICBjYXNlIFwiZGFzaGJvYXJkXCI6XG4gICAgICByZXR1cm4gYC9kYXNoYm9hcmRzLyR7aWR9YDtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCByZXNvdXJjZSB0eXBlOiAke3R5cGUudG9TdHJpbmcoKX1gKTtcbiAgfVxufTtcbmNsYXNzIE9ic2VydmFibGVBc3NldHNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgdXBsb2FkKGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiBfdXBsb2FkKHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucyk7XG4gIH1cbn1cbmNsYXNzIEFzc2V0c0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICB1cGxvYWQoYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZTIgPSBfdXBsb2FkKHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oXG4gICAgICBvYnNlcnZhYmxlMi5waXBlKFxuICAgICAgICBmaWx0ZXIoKGV2ZW50KSA9PiBldmVudC50eXBlID09PSBcInJlc3BvbnNlXCIpLFxuICAgICAgICBtYXAoXG4gICAgICAgICAgKGV2ZW50KSA9PiBldmVudC5ib2R5LmRvY3VtZW50XG4gICAgICAgIClcbiAgICAgIClcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBfdXBsb2FkKGNsaWVudCwgaHR0cFJlcXVlc3QsIGFzc2V0VHlwZSwgYm9keSwgb3B0cyA9IHt9KSB7XG4gIHZhbGlkYXRlQXNzZXRUeXBlKGFzc2V0VHlwZSk7XG4gIGxldCBtZXRhID0gb3B0cy5leHRyYWN0IHx8IHZvaWQgMDtcbiAgbWV0YSAmJiAhbWV0YS5sZW5ndGggJiYgKG1ldGEgPSBbXCJub25lXCJdKTtcbiAgY29uc3QgY29uZmlnID0gY2xpZW50LmNvbmZpZygpLCBvcHRpb25zID0gb3B0aW9uc0Zyb21GaWxlKG9wdHMsIGJvZHkpLCB7IHRhZywgbGFiZWwsIHRpdGxlLCBkZXNjcmlwdGlvbiwgY3JlZGl0TGluZSwgZmlsZW5hbWUsIHNvdXJjZSB9ID0gb3B0aW9ucywgcXVlcnkgPSB7XG4gICAgbGFiZWwsXG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgZmlsZW5hbWUsXG4gICAgbWV0YSxcbiAgICBjcmVkaXRMaW5lXG4gIH07XG4gIHJldHVybiBzb3VyY2UgJiYgKHF1ZXJ5LnNvdXJjZUlkID0gc291cmNlLmlkLCBxdWVyeS5zb3VyY2VOYW1lID0gc291cmNlLm5hbWUsIHF1ZXJ5LnNvdXJjZVVybCA9IHNvdXJjZS51cmwpLCBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwge1xuICAgIHRhZyxcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCB8fCAwLFxuICAgIHVyaTogYnVpbGRBc3NldFVwbG9hZFVybChjb25maWcsIGFzc2V0VHlwZSksXG4gICAgaGVhZGVyczogb3B0aW9ucy5jb250ZW50VHlwZSA/IHsgXCJDb250ZW50LVR5cGVcIjogb3B0aW9ucy5jb250ZW50VHlwZSB9IDoge30sXG4gICAgcXVlcnksXG4gICAgYm9keVxuICB9KTtcbn1cbmZ1bmN0aW9uIGJ1aWxkQXNzZXRVcGxvYWRVcmwoY29uZmlnLCBhc3NldFR5cGUpIHtcbiAgY29uc3QgYXNzZXRUeXBlRW5kcG9pbnQgPSBhc3NldFR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiaW1hZ2VzXCIgOiBcImZpbGVzXCI7XG4gIGlmIChjb25maWdbXCJ+ZXhwZXJpbWVudGFsX3Jlc291cmNlXCJdKSB7XG4gICAgY29uc3QgeyB0eXBlLCBpZCB9ID0gY29uZmlnW1wifmV4cGVyaW1lbnRhbF9yZXNvdXJjZVwiXTtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgXCJkYXRhc2V0XCI6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkFzc2V0cyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgZGF0YXNldCByZXNvdXJjZXMsIHlldC4gQ29uZmlndXJlIHRoZSBjbGllbnQgd2l0aCBge3Byb2plY3RJZDogPHByb2plY3RJZD4sIGRhdGFzZXQ6IDxkYXRhc2V0SWQ+fWAgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgY2FzZSBcImNhbnZhc1wiOlxuICAgICAgICByZXR1cm4gYC9jYW52YXNlcy8ke2lkfS9hc3NldHMvJHthc3NldFR5cGVFbmRwb2ludH1gO1xuICAgICAgY2FzZSBcIm1lZGlhLWxpYnJhcnlcIjpcbiAgICAgICAgcmV0dXJuIGAvbWVkaWEtbGlicmFyaWVzLyR7aWR9L3VwbG9hZGA7XG4gICAgICBjYXNlIFwiZGFzaGJvYXJkXCI6XG4gICAgICAgIHJldHVybiBgL2Rhc2hib2FyZHMvJHtpZH0vYXNzZXRzLyR7YXNzZXRUeXBlRW5kcG9pbnR9YDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcmVzb3VyY2UgdHlwZTogJHt0eXBlLnRvU3RyaW5nKCl9YCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGRhdGFzZXQyID0gaGFzRGF0YXNldChjb25maWcpO1xuICByZXR1cm4gYGFzc2V0cy8ke2Fzc2V0VHlwZUVuZHBvaW50fS8ke2RhdGFzZXQyfWA7XG59XG5mdW5jdGlvbiBvcHRpb25zRnJvbUZpbGUob3B0cywgZmlsZSkge1xuICByZXR1cm4gdHlwZW9mIEZpbGUgPiBcInVcIiB8fCAhKGZpbGUgaW5zdGFuY2VvZiBGaWxlKSA/IG9wdHMgOiBPYmplY3QuYXNzaWduKFxuICAgIHtcbiAgICAgIGZpbGVuYW1lOiBvcHRzLnByZXNlcnZlRmlsZW5hbWUgPT09ICExID8gdm9pZCAwIDogZmlsZS5uYW1lLFxuICAgICAgY29udGVudFR5cGU6IGZpbGUudHlwZVxuICAgIH0sXG4gICAgb3B0c1xuICApO1xufVxudmFyIGRlZmF1bHRzID0gKG9iaiwgZGVmYXVsdHMyKSA9PiBPYmplY3Qua2V5cyhkZWZhdWx0czIpLmNvbmNhdChPYmplY3Qua2V5cyhvYmopKS5yZWR1Y2UoKHRhcmdldCwgcHJvcCkgPT4gKHRhcmdldFtwcm9wXSA9IHR5cGVvZiBvYmpbcHJvcF0gPiBcInVcIiA/IGRlZmF1bHRzMltwcm9wXSA6IG9ialtwcm9wXSwgdGFyZ2V0KSwge30pO1xuY29uc3QgcGljayA9IChvYmosIHByb3BzKSA9PiBwcm9wcy5yZWR1Y2UoKHNlbGVjdGlvbiwgcHJvcCkgPT4gKHR5cGVvZiBvYmpbcHJvcF0gPiBcInVcIiB8fCAoc2VsZWN0aW9uW3Byb3BdID0gb2JqW3Byb3BdKSwgc2VsZWN0aW9uKSwge30pLCBldmVudFNvdXJjZVBvbHlmaWxsID0gZGVmZXIoKCkgPT4gaW1wb3J0KFwiQHNhbml0eS9ldmVudHNvdXJjZVwiKSkucGlwZShcbiAgbWFwKCh7IGRlZmF1bHQ6IEV2ZW50U291cmNlMiB9KSA9PiBFdmVudFNvdXJjZTIpLFxuICBzaGFyZVJlcGxheSgxKVxuKTtcbmZ1bmN0aW9uIHJlY29ubmVjdE9uQ29ubmVjdGlvbkZhaWx1cmUoKSB7XG4gIHJldHVybiBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICByZXR1cm4gc291cmNlLnBpcGUoXG4gICAgICBjYXRjaEVycm9yKChlcnIsIGNhdWdodCkgPT4gZXJyIGluc3RhbmNlb2YgQ29ubmVjdGlvbkZhaWxlZEVycm9yID8gY29uY2F0KG9mKHsgdHlwZTogXCJyZWNvbm5lY3RcIiB9KSwgdGltZXIoMWUzKS5waXBlKG1lcmdlTWFwKCgpID0+IGNhdWdodCkpKSA6IHRocm93RXJyb3IoKCkgPT4gZXJyKSlcbiAgICApO1xuICB9O1xufVxuY29uc3QgTUFYX1VSTF9MRU5HVEggPSAxNDgwMCwgcG9zc2libGVPcHRpb25zID0gW1xuICBcImluY2x1ZGVQcmV2aW91c1JldmlzaW9uXCIsXG4gIFwiaW5jbHVkZVJlc3VsdFwiLFxuICBcImluY2x1ZGVNdXRhdGlvbnNcIixcbiAgXCJpbmNsdWRlQWxsVmVyc2lvbnNcIixcbiAgXCJ2aXNpYmlsaXR5XCIsXG4gIFwiZWZmZWN0Rm9ybWF0XCIsXG4gIFwidGFnXCJcbl0sIGRlZmF1bHRPcHRpb25zID0ge1xuICBpbmNsdWRlUmVzdWx0OiAhMFxufTtcbmZ1bmN0aW9uIF9saXN0ZW4ocXVlcnksIHBhcmFtcywgb3B0cyA9IHt9KSB7XG4gIGNvbnN0IHsgdXJsLCB0b2tlbiwgd2l0aENyZWRlbnRpYWxzLCByZXF1ZXN0VGFnUHJlZml4IH0gPSB0aGlzLmNvbmZpZygpLCB0YWcgPSBvcHRzLnRhZyAmJiByZXF1ZXN0VGFnUHJlZml4ID8gW3JlcXVlc3RUYWdQcmVmaXgsIG9wdHMudGFnXS5qb2luKFwiLlwiKSA6IG9wdHMudGFnLCBvcHRpb25zID0geyAuLi5kZWZhdWx0cyhvcHRzLCBkZWZhdWx0T3B0aW9ucyksIHRhZyB9LCBsaXN0ZW5PcHRzID0gcGljayhvcHRpb25zLCBwb3NzaWJsZU9wdGlvbnMpLCBxcyA9IGVuY29kZVF1ZXJ5U3RyaW5nKHsgcXVlcnksIHBhcmFtcywgb3B0aW9uczogeyB0YWcsIC4uLmxpc3Rlbk9wdHMgfSB9KSwgdXJpID0gYCR7dXJsfSR7X2dldERhdGFVcmwodGhpcywgXCJsaXN0ZW5cIiwgcXMpfWA7XG4gIGlmICh1cmkubGVuZ3RoID4gTUFYX1VSTF9MRU5HVEgpXG4gICAgcmV0dXJuIHRocm93RXJyb3IoKCkgPT4gbmV3IEVycm9yKFwiUXVlcnkgdG9vIGxhcmdlIGZvciBsaXN0ZW5lclwiKSk7XG4gIGNvbnN0IGxpc3RlbkZvciA9IG9wdGlvbnMuZXZlbnRzID8gb3B0aW9ucy5ldmVudHMgOiBbXCJtdXRhdGlvblwiXSwgZXNPcHRpb25zID0ge307XG4gIHJldHVybiB3aXRoQ3JlZGVudGlhbHMgJiYgKGVzT3B0aW9ucy53aXRoQ3JlZGVudGlhbHMgPSAhMCksIHRva2VuICYmIChlc09wdGlvbnMuaGVhZGVycyA9IHtcbiAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YFxuICB9KSwgY29ubmVjdEV2ZW50U291cmNlKCgpID0+IChcbiAgICAvLyB1c2UgcG9seWZpbGwgaWYgdGhlcmUgaXMgbm8gZ2xvYmFsIEV2ZW50U291cmNlIG9yIGlmIHdlIG5lZWQgdG8gc2V0IGhlYWRlcnNcbiAgICAodHlwZW9mIEV2ZW50U291cmNlID4gXCJ1XCIgfHwgZXNPcHRpb25zLmhlYWRlcnMgPyBldmVudFNvdXJjZVBvbHlmaWxsIDogb2YoRXZlbnRTb3VyY2UpKS5waXBlKG1hcCgoRXZlbnRTb3VyY2UyKSA9PiBuZXcgRXZlbnRTb3VyY2UyKHVyaSwgZXNPcHRpb25zKSkpXG4gICksIGxpc3RlbkZvcikucGlwZShcbiAgICByZWNvbm5lY3RPbkNvbm5lY3Rpb25GYWlsdXJlKCksXG4gICAgZmlsdGVyKChldmVudCkgPT4gbGlzdGVuRm9yLmluY2x1ZGVzKGV2ZW50LnR5cGUpKSxcbiAgICBtYXAoXG4gICAgICAoZXZlbnQpID0+ICh7XG4gICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgIC4uLlwiZGF0YVwiIGluIGV2ZW50ID8gZXZlbnQuZGF0YSA6IHt9XG4gICAgICB9KVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYXJlUmVwbGF5TGF0ZXN0KGNvbmZpZ09yUHJlZGljYXRlLCBjb25maWcpIHtcbiAgcmV0dXJuIF9zaGFyZVJlcGxheUxhdGVzdChcbiAgICB0eXBlb2YgY29uZmlnT3JQcmVkaWNhdGUgPT0gXCJmdW5jdGlvblwiID8geyBwcmVkaWNhdGU6IGNvbmZpZ09yUHJlZGljYXRlLCAuLi5jb25maWcgfSA6IGNvbmZpZ09yUHJlZGljYXRlXG4gICk7XG59XG5mdW5jdGlvbiBfc2hhcmVSZXBsYXlMYXRlc3QoY29uZmlnKSB7XG4gIHJldHVybiAoc291cmNlKSA9PiB7XG4gICAgbGV0IGxhdGVzdCwgZW1pdHRlZCA9ICExO1xuICAgIGNvbnN0IHsgcHJlZGljYXRlLCAuLi5zaGFyZUNvbmZpZyB9ID0gY29uZmlnLCB3cmFwcGVkID0gc291cmNlLnBpcGUoXG4gICAgICB0YXAoKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbmZpZy5wcmVkaWNhdGUodmFsdWUpICYmIChlbWl0dGVkID0gITAsIGxhdGVzdCA9IHZhbHVlKTtcbiAgICAgIH0pLFxuICAgICAgZmluYWxpemUoKCkgPT4ge1xuICAgICAgICBlbWl0dGVkID0gITEsIGxhdGVzdCA9IHZvaWQgMDtcbiAgICAgIH0pLFxuICAgICAgc2hhcmUoc2hhcmVDb25maWcpXG4gICAgKSwgZW1pdExhdGVzdCA9IG5ldyBPYnNlcnZhYmxlKChzdWJzY3JpYmVyKSA9PiB7XG4gICAgICBlbWl0dGVkICYmIHN1YnNjcmliZXIubmV4dChcbiAgICAgICAgLy8gdGhpcyBjYXN0IGlzIHNhZmUgYmVjYXVzZSBvZiB0aGUgZW1pdHRlZCBjaGVjayB3aGljaCBhc3NlcnRzIHRoYXQgd2UgZ290IFQgZnJvbSB0aGUgc291cmNlXG4gICAgICAgIGxhdGVzdFxuICAgICAgKSwgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXJnZSh3cmFwcGVkLCBlbWl0TGF0ZXN0KTtcbiAgfTtcbn1cbmNvbnN0IHJlcXVpcmVkQXBpVmVyc2lvbiA9IFwiMjAyMS0wMy0yNVwiO1xuY2xhc3MgTGl2ZUNsaWVudCB7XG4gICNjbGllbnQ7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudDtcbiAgfVxuICAvKipcbiAgICogUmVxdWlyZXMgYGFwaVZlcnNpb25gIHRvIGJlIGAyMDIxLTAzLTI1YCBvciBsYXRlci5cbiAgICovXG4gIGV2ZW50cyh7XG4gICAgaW5jbHVkZURyYWZ0cyA9ICExLFxuICAgIHRhZzogX3RhZ1xuICB9ID0ge30pIHtcbiAgICByZXNvdXJjZUd1YXJkKFwibGl2ZVwiLCB0aGlzLiNjbGllbnQuY29uZmlnKCkpO1xuICAgIGNvbnN0IHtcbiAgICAgIHByb2plY3RJZDogcHJvamVjdElkMixcbiAgICAgIGFwaVZlcnNpb246IF9hcGlWZXJzaW9uLFxuICAgICAgdG9rZW4sXG4gICAgICB3aXRoQ3JlZGVudGlhbHMsXG4gICAgICByZXF1ZXN0VGFnUHJlZml4XG4gICAgfSA9IHRoaXMuI2NsaWVudC5jb25maWcoKSwgYXBpVmVyc2lvbiA9IF9hcGlWZXJzaW9uLnJlcGxhY2UoL152LywgXCJcIik7XG4gICAgaWYgKGFwaVZlcnNpb24gIT09IFwiWFwiICYmIGFwaVZlcnNpb24gPCByZXF1aXJlZEFwaVZlcnNpb24pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBUaGUgbGl2ZSBldmVudHMgQVBJIHJlcXVpcmVzIEFQSSB2ZXJzaW9uICR7cmVxdWlyZWRBcGlWZXJzaW9ufSBvciBsYXRlci4gVGhlIGN1cnJlbnQgQVBJIHZlcnNpb24gaXMgJHthcGlWZXJzaW9ufS4gUGxlYXNlIHVwZGF0ZSB5b3VyIEFQSSB2ZXJzaW9uIHRvIHVzZSB0aGlzIGZlYXR1cmUuYFxuICAgICAgKTtcbiAgICBpZiAoaW5jbHVkZURyYWZ0cyAmJiAhdG9rZW4gJiYgIXdpdGhDcmVkZW50aWFscylcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgbGl2ZSBldmVudHMgQVBJIHJlcXVpcmVzIGEgdG9rZW4gb3Igd2l0aENyZWRlbnRpYWxzIHdoZW4gJ2luY2x1ZGVEcmFmdHM6IHRydWUnLiBQbGVhc2UgdXBkYXRlIHlvdXIgY2xpZW50IGNvbmZpZ3VyYXRpb24uIFRoZSB0b2tlbiBzaG91bGQgaGF2ZSB0aGUgbG93ZXN0IHBvc3NpYmxlIGFjY2VzcyByb2xlLlwiXG4gICAgICApO1xuICAgIGNvbnN0IHBhdGggPSBfZ2V0RGF0YVVybCh0aGlzLiNjbGllbnQsIFwibGl2ZS9ldmVudHNcIiksIHVybCA9IG5ldyBVUkwodGhpcy4jY2xpZW50LmdldFVybChwYXRoLCAhMSkpLCB0YWcgPSBfdGFnICYmIHJlcXVlc3RUYWdQcmVmaXggPyBbcmVxdWVzdFRhZ1ByZWZpeCwgX3RhZ10uam9pbihcIi5cIikgOiBfdGFnO1xuICAgIHRhZyAmJiB1cmwuc2VhcmNoUGFyYW1zLnNldChcInRhZ1wiLCB0YWcpLCBpbmNsdWRlRHJhZnRzICYmIHVybC5zZWFyY2hQYXJhbXMuc2V0KFwiaW5jbHVkZURyYWZ0c1wiLCBcInRydWVcIik7XG4gICAgY29uc3QgZXNPcHRpb25zID0ge307XG4gICAgaW5jbHVkZURyYWZ0cyAmJiB0b2tlbiAmJiAoZXNPcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YFxuICAgIH0pLCBpbmNsdWRlRHJhZnRzICYmIHdpdGhDcmVkZW50aWFscyAmJiAoZXNPcHRpb25zLndpdGhDcmVkZW50aWFscyA9ICEwKTtcbiAgICBjb25zdCBrZXkgPSBgJHt1cmwuaHJlZn06OiR7SlNPTi5zdHJpbmdpZnkoZXNPcHRpb25zKX1gLCBleGlzdGluZyA9IGV2ZW50c0NhY2hlLmdldChrZXkpO1xuICAgIGlmIChleGlzdGluZylcbiAgICAgIHJldHVybiBleGlzdGluZztcbiAgICBjb25zdCBldmVudHMgPSBjb25uZWN0RXZlbnRTb3VyY2UoKCkgPT4gKFxuICAgICAgLy8gdXNlIHBvbHlmaWxsIGlmIHRoZXJlIGlzIG5vIGdsb2JhbCBFdmVudFNvdXJjZSBvciBpZiB3ZSBuZWVkIHRvIHNldCBoZWFkZXJzXG4gICAgICAodHlwZW9mIEV2ZW50U291cmNlID4gXCJ1XCIgfHwgZXNPcHRpb25zLmhlYWRlcnMgPyBldmVudFNvdXJjZVBvbHlmaWxsIDogb2YoRXZlbnRTb3VyY2UpKS5waXBlKG1hcCgoRXZlbnRTb3VyY2UyKSA9PiBuZXcgRXZlbnRTb3VyY2UyKHVybC5ocmVmLCBlc09wdGlvbnMpKSlcbiAgICApLCBbXG4gICAgICBcIm1lc3NhZ2VcIixcbiAgICAgIFwicmVzdGFydFwiLFxuICAgICAgXCJ3ZWxjb21lXCIsXG4gICAgICBcInJlY29ubmVjdFwiLFxuICAgICAgXCJnb2F3YXlcIlxuICAgIF0pLnBpcGUoXG4gICAgICByZWNvbm5lY3RPbkNvbm5lY3Rpb25GYWlsdXJlKCksXG4gICAgICBtYXAoKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgIGNvbnN0IHsgZGF0YSwgLi4ucmVzdCB9ID0gZXZlbnQ7XG4gICAgICAgICAgcmV0dXJuIHsgLi4ucmVzdCwgdGFnczogZGF0YS50YWdzIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgfSlcbiAgICApLCBjaGVja0NvcnMgPSBmZXRjaE9ic2VydmFibGUodXJsLCB7XG4gICAgICBtZXRob2Q6IFwiT1BUSU9OU1wiLFxuICAgICAgbW9kZTogXCJjb3JzXCIsXG4gICAgICBjcmVkZW50aWFsczogZXNPcHRpb25zLndpdGhDcmVkZW50aWFscyA/IFwiaW5jbHVkZVwiIDogXCJvbWl0XCIsXG4gICAgICBoZWFkZXJzOiBlc09wdGlvbnMuaGVhZGVyc1xuICAgIH0pLnBpcGUoXG4gICAgICBtZXJnZU1hcCgoKSA9PiBFTVBUWSksXG4gICAgICBjYXRjaEVycm9yKCgpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IENvcnNPcmlnaW5FcnJvcih7IHByb2plY3RJZDogcHJvamVjdElkMiB9KTtcbiAgICAgIH0pXG4gICAgKSwgb2JzZXJ2YWJsZTIgPSBjb25jYXQoY2hlY2tDb3JzLCBldmVudHMpLnBpcGUoXG4gICAgICBmaW5hbGl6ZSQxKCgpID0+IGV2ZW50c0NhY2hlLmRlbGV0ZShrZXkpKSxcbiAgICAgIHNoYXJlUmVwbGF5TGF0ZXN0KHtcbiAgICAgICAgcHJlZGljYXRlOiAoZXZlbnQpID0+IGV2ZW50LnR5cGUgPT09IFwid2VsY29tZVwiXG4gICAgICB9KVxuICAgICk7XG4gICAgcmV0dXJuIGV2ZW50c0NhY2hlLnNldChrZXksIG9ic2VydmFibGUyKSwgb2JzZXJ2YWJsZTI7XG4gIH1cbn1cbmZ1bmN0aW9uIGZldGNoT2JzZXJ2YWJsZSh1cmwsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnNlcnZlcikgPT4ge1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCksIHNpZ25hbCA9IGNvbnRyb2xsZXIuc2lnbmFsO1xuICAgIHJldHVybiBmZXRjaCh1cmwsIHsgLi4uaW5pdCwgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCB9KS50aGVuKFxuICAgICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIG9ic2VydmVyLm5leHQocmVzcG9uc2UpLCBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgfSxcbiAgICAgIChlcnIpID0+IHtcbiAgICAgICAgc2lnbmFsLmFib3J0ZWQgfHwgb2JzZXJ2ZXIuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICApLCAoKSA9PiBjb250cm9sbGVyLmFib3J0KCk7XG4gIH0pO1xufVxuY29uc3QgZXZlbnRzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuY2xhc3MgT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50IHtcbiAgI2NsaWVudDtcbiAgI2h0dHBSZXF1ZXN0O1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCA9IGh0dHBSZXF1ZXN0O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBjcmVhdGVcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgY3JlYXRlKG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX21vZGlmeSh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCBcIlBVVFwiLCBuYW1lLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRWRpdCBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZWRpdFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5ldyBvcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgZWRpdChuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tb2RpZnkodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgXCJQQVRDSFwiLCBuYW1lLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRGVsZXRlIGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBkZWxldGVcbiAgICovXG4gIGRlbGV0ZShuYW1lKSB7XG4gICAgcmV0dXJuIF9tb2RpZnkodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgXCJERUxFVEVcIiwgbmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBkYXRhc2V0cyBmb3IgdGhlIGNvbmZpZ3VyZWQgcHJvamVjdFxuICAgKi9cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwge1xuICAgICAgdXJpOiBcIi9kYXRhc2V0c1wiLFxuICAgICAgdGFnOiBudWxsXG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIERhdGFzZXRzQ2xpZW50IHtcbiAgI2NsaWVudDtcbiAgI2h0dHBSZXF1ZXN0O1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCA9IGh0dHBSZXF1ZXN0O1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBjcmVhdGVcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgY3JlYXRlKG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcmVzb3VyY2VHdWFyZChcImRhdGFzZXRcIiwgdGhpcy4jY2xpZW50LmNvbmZpZygpKSwgbGFzdFZhbHVlRnJvbShcbiAgICAgIF9tb2RpZnkodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgXCJQVVRcIiwgbmFtZSwgb3B0aW9ucylcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBFZGl0IGEgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBlZGl0XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gTmV3IG9wdGlvbnMgZm9yIHRoZSBkYXRhc2V0XG4gICAqL1xuICBlZGl0KG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gcmVzb3VyY2VHdWFyZChcImRhdGFzZXRcIiwgdGhpcy4jY2xpZW50LmNvbmZpZygpKSwgbGFzdFZhbHVlRnJvbShcbiAgICAgIF9tb2RpZnkodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgXCJQQVRDSFwiLCBuYW1lLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIERlbGV0ZSBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUobmFtZSkge1xuICAgIHJldHVybiByZXNvdXJjZUd1YXJkKFwiZGF0YXNldFwiLCB0aGlzLiNjbGllbnQuY29uZmlnKCkpLCBsYXN0VmFsdWVGcm9tKF9tb2RpZnkodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgXCJERUxFVEVcIiwgbmFtZSkpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIGxpc3Qgb2YgZGF0YXNldHMgZm9yIHRoZSBjb25maWd1cmVkIHByb2plY3RcbiAgICovXG4gIGxpc3QoKSB7XG4gICAgcmV0dXJuIHJlc291cmNlR3VhcmQoXCJkYXRhc2V0XCIsIHRoaXMuI2NsaWVudC5jb25maWcoKSksIGxhc3RWYWx1ZUZyb20oXG4gICAgICBfcmVxdWVzdCh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCB7IHVyaTogXCIvZGF0YXNldHNcIiwgdGFnOiBudWxsIH0pXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gX21vZGlmeShjbGllbnQsIGh0dHBSZXF1ZXN0LCBtZXRob2QsIG5hbWUsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHJlc291cmNlR3VhcmQoXCJkYXRhc2V0XCIsIGNsaWVudC5jb25maWcoKSksIGRhdGFzZXQobmFtZSksIF9yZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIHtcbiAgICBtZXRob2QsXG4gICAgdXJpOiBgL2RhdGFzZXRzLyR7bmFtZX1gLFxuICAgIGJvZHk6IG9wdGlvbnMsXG4gICAgdGFnOiBudWxsXG4gIH0pO1xufVxuY2xhc3MgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50IHtcbiAgI2NsaWVudDtcbiAgI2h0dHBSZXF1ZXN0O1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCA9IGh0dHBSZXF1ZXN0O1xuICB9XG4gIGxpc3Qob3B0aW9ucykge1xuICAgIHJlc291cmNlR3VhcmQoXCJwcm9qZWN0c1wiLCB0aGlzLiNjbGllbnQuY29uZmlnKCkpO1xuICAgIGNvbnN0IHVyaSA9IG9wdGlvbnM/LmluY2x1ZGVNZW1iZXJzID09PSAhMSA/IFwiL3Byb2plY3RzP2luY2x1ZGVNZW1iZXJzPWZhbHNlXCIgOiBcIi9wcm9qZWN0c1wiO1xuICAgIHJldHVybiBfcmVxdWVzdCh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCB7IHVyaSB9KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBwcm9qZWN0IGJ5IHByb2plY3QgSURcbiAgICpcbiAgICogQHBhcmFtIHByb2plY3RJZCAtIElEIG9mIHRoZSBwcm9qZWN0IHRvIGZldGNoXG4gICAqL1xuICBnZXRCeUlkKHByb2plY3RJZDIpIHtcbiAgICByZXR1cm4gcmVzb3VyY2VHdWFyZChcInByb2plY3RzXCIsIHRoaXMuI2NsaWVudC5jb25maWcoKSksIF9yZXF1ZXN0KHRoaXMuI2NsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QsIHsgdXJpOiBgL3Byb2plY3RzLyR7cHJvamVjdElkMn1gIH0pO1xuICB9XG59XG5jbGFzcyBQcm9qZWN0c0NsaWVudCB7XG4gICNjbGllbnQ7XG4gICNodHRwUmVxdWVzdDtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudCwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdDtcbiAgfVxuICBsaXN0KG9wdGlvbnMpIHtcbiAgICByZXNvdXJjZUd1YXJkKFwicHJvamVjdHNcIiwgdGhpcy4jY2xpZW50LmNvbmZpZygpKTtcbiAgICBjb25zdCB1cmkgPSBvcHRpb25zPy5pbmNsdWRlTWVtYmVycyA9PT0gITEgPyBcIi9wcm9qZWN0cz9pbmNsdWRlTWVtYmVycz1mYWxzZVwiIDogXCIvcHJvamVjdHNcIjtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdCh0aGlzLiNjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0LCB7IHVyaSB9KSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQyKSB7XG4gICAgcmV0dXJuIHJlc291cmNlR3VhcmQoXCJwcm9qZWN0c1wiLCB0aGlzLiNjbGllbnQuY29uZmlnKCkpLCBsYXN0VmFsdWVGcm9tKFxuICAgICAgX3JlcXVlc3QodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwgeyB1cmk6IGAvcHJvamVjdHMvJHtwcm9qZWN0SWQyfWAgfSlcbiAgICApO1xuICB9XG59XG5jbGFzcyBPYnNlcnZhYmxlVXNlcnNDbGllbnQge1xuICAjY2xpZW50O1xuICAjaHR0cFJlcXVlc3Q7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQsIHRoaXMuI2h0dHBSZXF1ZXN0ID0gaHR0cFJlcXVlc3Q7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgdXNlciBieSB1c2VyIElEXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIFVzZXIgSUQgb2YgdGhlIHVzZXIgdG8gZmV0Y2guIElmIGBtZWAgaXMgcHJvdmlkZWQsIGEgbWluaW1hbCByZXNwb25zZSBpbmNsdWRpbmcgdGhlIHVzZXJzIHJvbGUgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBnZXRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KFxuICAgICAgdGhpcy4jY2xpZW50LFxuICAgICAgdGhpcy4jaHR0cFJlcXVlc3QsXG4gICAgICB7IHVyaTogYC91c2Vycy8ke2lkfWAgfVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIFVzZXJzQ2xpZW50IHtcbiAgI2NsaWVudDtcbiAgI2h0dHBSZXF1ZXN0O1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgdGhpcy4jY2xpZW50ID0gY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCA9IGh0dHBSZXF1ZXN0O1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHVzZXIgYnkgdXNlciBJRFxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBVc2VyIElEIG9mIHRoZSB1c2VyIHRvIGZldGNoLiBJZiBgbWVgIGlzIHByb3ZpZGVkLCBhIG1pbmltYWwgcmVzcG9uc2UgaW5jbHVkaW5nIHRoZSB1c2VycyByb2xlIGlzIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0QnlJZChpZCkge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX3JlcXVlc3QodGhpcy4jY2xpZW50LCB0aGlzLiNodHRwUmVxdWVzdCwge1xuICAgICAgICB1cmk6IGAvdXNlcnMvJHtpZH1gXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn1cbmNsYXNzIE9ic2VydmFibGVTYW5pdHlDbGllbnQge1xuICBhc3NldHM7XG4gIGRhdGFzZXRzO1xuICBsaXZlO1xuICBwcm9qZWN0cztcbiAgdXNlcnM7XG4gIC8qKlxuICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICovXG4gICNjbGllbnRDb25maWc7XG4gICNodHRwUmVxdWVzdDtcbiAgLyoqXG4gICAqIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICovXG4gIGxpc3RlbiA9IF9saXN0ZW47XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0LCBjb25maWcgPSBkZWZhdWx0Q29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcoY29uZmlnKSwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdCwgdGhpcy5hc3NldHMgPSBuZXcgT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCksIHRoaXMuZGF0YXNldHMgPSBuZXcgT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy5saXZlID0gbmV3IExpdmVDbGllbnQodGhpcyksIHRoaXMucHJvamVjdHMgPSBuZXcgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy51c2VycyA9IG5ldyBPYnNlcnZhYmxlVXNlcnNDbGllbnQodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50KHRoaXMuI2h0dHBSZXF1ZXN0LCB0aGlzLmNvbmZpZygpKTtcbiAgfVxuICBjb25maWcobmV3Q29uZmlnKSB7XG4gICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKVxuICAgICAgcmV0dXJuIHsgLi4udGhpcy4jY2xpZW50Q29uZmlnIH07XG4gICAgaWYgKHRoaXMuI2NsaWVudENvbmZpZyAmJiB0aGlzLiNjbGllbnRDb25maWcuYWxsb3dSZWNvbmZpZ3VyZSA9PT0gITEpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhpc3RpbmcgY2xpZW50IGluc3RhbmNlIGNhbm5vdCBiZSByZWNvbmZpZ3VyZWQgLSB1c2UgYHdpdGhDb25maWcobmV3Q29uZmlnKWAgdG8gcmV0dXJuIGEgbmV3IGNsaWVudFwiXG4gICAgICApO1xuICAgIHJldHVybiB0aGlzLiNjbGllbnRDb25maWcgPSBpbml0Q29uZmlnKG5ld0NvbmZpZywgdGhpcy4jY2xpZW50Q29uZmlnIHx8IHt9KSwgdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIGNvbnN0IHRoaXNDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCh0aGlzLiNodHRwUmVxdWVzdCwge1xuICAgICAgLi4udGhpc0NvbmZpZyxcbiAgICAgIC4uLm5ld0NvbmZpZyxcbiAgICAgIHN0ZWdhOiB7XG4gICAgICAgIC4uLnRoaXNDb25maWcuc3RlZ2EgfHwge30sXG4gICAgICAgIC4uLnR5cGVvZiBuZXdDb25maWc/LnN0ZWdhID09IFwiYm9vbGVhblwiID8geyBlbmFibGVkOiBuZXdDb25maWcuc3RlZ2EgfSA6IG5ld0NvbmZpZz8uc3RlZ2EgfHwge31cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9mZXRjaChcbiAgICAgIHRoaXMsXG4gICAgICB0aGlzLiNodHRwUmVxdWVzdCxcbiAgICAgIHRoaXMuI2NsaWVudENvbmZpZy5zdGVnYSxcbiAgICAgIHF1ZXJ5LFxuICAgICAgcGFyYW1zLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgc2luZ2xlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIElELlxuICAgKlxuICAgKiBAcGFyYW0gaWQgLSBEb2N1bWVudCBJRCB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnQoaWQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2dldERvY3VtZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBpZCwgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIG11bHRpcGxlIGRvY3VtZW50cyBpbiBvbmUgcmVxdWVzdC5cbiAgICogU2hvdWxkIGJlIHVzZWQgc3BhcmluZ2x5IC0gcGVyZm9ybWluZyBhIHF1ZXJ5IGlzIHVzdWFsbHkgYSBiZXR0ZXIgb3B0aW9uLlxuICAgKiBUaGUgb3JkZXIvcG9zaXRpb24gb2YgZG9jdW1lbnRzIGlzIHByZXNlcnZlZCBiYXNlZCBvbiB0aGUgb3JpZ2luYWwgYXJyYXkgb2YgSURzLlxuICAgKiBJZiBhbnkgb2YgdGhlIGRvY3VtZW50cyBhcmUgbWlzc2luZywgdGhleSB3aWxsIGJlIHJlcGxhY2VkIGJ5IGEgYG51bGxgIGVudHJ5IGluIHRoZSByZXR1cm5lZCBhcnJheVxuICAgKlxuICAgKiBAcGFyYW0gaWRzIC0gRG9jdW1lbnQgSURzIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudHMoaWRzLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9nZXREb2N1bWVudHModGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGlkcywgb3B0aW9ucyk7XG4gIH1cbiAgY3JlYXRlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGUodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGVJZk5vdEV4aXN0cyhkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlSWZOb3RFeGlzdHModGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGRvY3VtZW50LCBvcHRpb25zKTtcbiAgfVxuICBjcmVhdGVPclJlcGxhY2UoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZU9yUmVwbGFjZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZG9jdW1lbnQsIG9wdGlvbnMpO1xuICB9XG4gIGRlbGV0ZShzZWxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2RlbGV0ZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgc2VsZWN0aW9uLCBvcHRpb25zKTtcbiAgfVxuICBtdXRhdGUob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBfbXV0YXRlKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBvcGVyYXRpb25zLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGJ1aWxkYWJsZSBwYXRjaCBvZiBvcGVyYXRpb25zIHRvIHBlcmZvcm1cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdGlvbiAtIERvY3VtZW50IElELCBhbiBhcnJheSBvZiBkb2N1bWVudCBJRHMsIG9yIGFuIG9iamVjdCB3aXRoIGBxdWVyeWAgYW5kIG9wdGlvbmFsIGBwYXJhbXNgLCBkZWZpbmluZyB3aGljaCBkb2N1bWVudChzKSB0byBwYXRjaFxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIG9iamVjdCBvZiBwYXRjaCBvcGVyYXRpb25zIHRvIGluaXRpYWxpemUgdGhlIHBhdGNoIGluc3RhbmNlIHdpdGhcbiAgICogQHJldHVybnMgUGF0Y2ggaW5zdGFuY2UgLSBjYWxsIGAuY29tbWl0KClgIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbnMgZGVmaW5lZFxuICAgKi9cbiAgcGF0Y2goc2VsZWN0aW9uLCBvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlUGF0Y2goc2VsZWN0aW9uLCBvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIG9mIG11dGF0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIGFycmF5IG9mIG11dGF0aW9uIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdHJhbnNhY3Rpb24gaW5zdGFuY2Ugd2l0aFxuICAgKi9cbiAgdHJhbnNhY3Rpb24ob3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKG9wZXJhdGlvbnMsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGFjdGlvbiBvcGVyYXRpb25zIGFnYWluc3QgdGhlIGNvbmZpZ3VyZWQgZGF0YXNldFxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIEFjdGlvbiBvcGVyYXRpb24ocykgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFjdGlvbiBvcHRpb25zXG4gICAqL1xuICBhY3Rpb24ob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBfYWN0aW9uKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBvcGVyYXRpb25zLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBVUkkgcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIHVyaSAtIFVSSS9wYXRoIHRvIGJ1aWxkIFVSTCBmb3JcbiAgICogQHBhcmFtIGNhblVzZUNkbiAtIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IHVzaW5nIHRoZSBBUEkgQ0ROIGZvciB0aGlzIHJvdXRlXG4gICAqL1xuICBnZXRVcmwodXJpLCBjYW5Vc2VDZG4pIHtcbiAgICByZXR1cm4gX2dldFVybCh0aGlzLCB1cmksIGNhblVzZUNkbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgZGF0YSBvcGVyYXRpb24gYW5kIHBhdGggcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIERhdGEgb3BlcmF0aW9uIChlZyBgcXVlcnlgLCBgbXV0YXRlYCwgYGxpc3RlbmAgb3Igc2ltaWxhcilcbiAgICogQHBhcmFtIHBhdGggLSBQYXRoIHRvIGFwcGVuZCBhZnRlciB0aGUgb3BlcmF0aW9uXG4gICAqL1xuICBnZXREYXRhVXJsKG9wZXJhdGlvbiwgcGF0aCkge1xuICAgIHJldHVybiBfZ2V0RGF0YVVybCh0aGlzLCBvcGVyYXRpb24sIHBhdGgpO1xuICB9XG59XG5jbGFzcyBTYW5pdHlDbGllbnQge1xuICBhc3NldHM7XG4gIGRhdGFzZXRzO1xuICBsaXZlO1xuICBwcm9qZWN0cztcbiAgdXNlcnM7XG4gIC8qKlxuICAgKiBPYnNlcnZhYmxlIHZlcnNpb24gb2YgdGhlIFNhbml0eSBjbGllbnQsIHdpdGggdGhlIHNhbWUgY29uZmlndXJhdGlvbiBhcyB0aGUgcHJvbWlzZS1iYXNlZCBvbmVcbiAgICovXG4gIG9ic2VydmFibGU7XG4gIC8qKlxuICAgKiBQcml2YXRlIHByb3BlcnRpZXNcbiAgICovXG4gICNjbGllbnRDb25maWc7XG4gICNodHRwUmVxdWVzdDtcbiAgLyoqXG4gICAqIEluc3RhbmNlIHByb3BlcnRpZXNcbiAgICovXG4gIGxpc3RlbiA9IF9saXN0ZW47XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0LCBjb25maWcgPSBkZWZhdWx0Q29uZmlnKSB7XG4gICAgdGhpcy5jb25maWcoY29uZmlnKSwgdGhpcy4jaHR0cFJlcXVlc3QgPSBodHRwUmVxdWVzdCwgdGhpcy5hc3NldHMgPSBuZXcgQXNzZXRzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy5kYXRhc2V0cyA9IG5ldyBEYXRhc2V0c0NsaWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCksIHRoaXMubGl2ZSA9IG5ldyBMaXZlQ2xpZW50KHRoaXMpLCB0aGlzLnByb2plY3RzID0gbmV3IFByb2plY3RzQ2xpZW50KHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0KSwgdGhpcy51c2VycyA9IG5ldyBVc2Vyc0NsaWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCksIHRoaXMub2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50KGh0dHBSZXF1ZXN0LCBjb25maWcpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBTYW5pdHlDbGllbnQodGhpcy4jaHR0cFJlcXVlc3QsIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApXG4gICAgICByZXR1cm4geyAuLi50aGlzLiNjbGllbnRDb25maWcgfTtcbiAgICBpZiAodGhpcy4jY2xpZW50Q29uZmlnICYmIHRoaXMuI2NsaWVudENvbmZpZy5hbGxvd1JlY29uZmlndXJlID09PSAhMSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeGlzdGluZyBjbGllbnQgaW5zdGFuY2UgY2Fubm90IGJlIHJlY29uZmlndXJlZCAtIHVzZSBgd2l0aENvbmZpZyhuZXdDb25maWcpYCB0byByZXR1cm4gYSBuZXcgY2xpZW50XCJcbiAgICAgICk7XG4gICAgcmV0dXJuIHRoaXMub2JzZXJ2YWJsZSAmJiB0aGlzLm9ic2VydmFibGUuY29uZmlnKG5ld0NvbmZpZyksIHRoaXMuI2NsaWVudENvbmZpZyA9IGluaXRDb25maWcobmV3Q29uZmlnLCB0aGlzLiNjbGllbnRDb25maWcgfHwge30pLCB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IHdpdGggYSBuZXcgKHBhcnRpYWwpIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdDb25maWcgLSBOZXcgY2xpZW50IGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcywgc2hhbGxvd2x5IG1lcmdlZCB3aXRoIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIHdpdGhDb25maWcobmV3Q29uZmlnKSB7XG4gICAgY29uc3QgdGhpc0NvbmZpZyA9IHRoaXMuY29uZmlnKCk7XG4gICAgcmV0dXJuIG5ldyBTYW5pdHlDbGllbnQodGhpcy4jaHR0cFJlcXVlc3QsIHtcbiAgICAgIC4uLnRoaXNDb25maWcsXG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICBzdGVnYToge1xuICAgICAgICAuLi50aGlzQ29uZmlnLnN0ZWdhIHx8IHt9LFxuICAgICAgICAuLi50eXBlb2YgbmV3Q29uZmlnPy5zdGVnYSA9PSBcImJvb2xlYW5cIiA/IHsgZW5hYmxlZDogbmV3Q29uZmlnLnN0ZWdhIH0gOiBuZXdDb25maWc/LnN0ZWdhIHx8IHt9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZmV0Y2gocXVlcnksIHBhcmFtcywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKFxuICAgICAgX2ZldGNoKFxuICAgICAgICB0aGlzLFxuICAgICAgICB0aGlzLiNodHRwUmVxdWVzdCxcbiAgICAgICAgdGhpcy4jY2xpZW50Q29uZmlnLnN0ZWdhLFxuICAgICAgICBxdWVyeSxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBvcHRpb25zXG4gICAgICApXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSBzaW5nbGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIERvY3VtZW50IElEIHRvIGZldGNoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqL1xuICBnZXREb2N1bWVudChpZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9nZXREb2N1bWVudCh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgaWQsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgZG9jdW1lbnRzIGluIG9uZSByZXF1ZXN0LlxuICAgKiBTaG91bGQgYmUgdXNlZCBzcGFyaW5nbHkgLSBwZXJmb3JtaW5nIGEgcXVlcnkgaXMgdXN1YWxseSBhIGJldHRlciBvcHRpb24uXG4gICAqIFRoZSBvcmRlci9wb3NpdGlvbiBvZiBkb2N1bWVudHMgaXMgcHJlc2VydmVkIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBhcnJheSBvZiBJRHMuXG4gICAqIElmIGFueSBvZiB0aGUgZG9jdW1lbnRzIGFyZSBtaXNzaW5nLCB0aGV5IHdpbGwgYmUgcmVwbGFjZWQgYnkgYSBgbnVsbGAgZW50cnkgaW4gdGhlIHJldHVybmVkIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSBpZHMgLSBEb2N1bWVudCBJRHMgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50cyhpZHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZ2V0RG9jdW1lbnRzKHRoaXMsIHRoaXMuI2h0dHBSZXF1ZXN0LCBpZHMsIG9wdGlvbnMpKTtcbiAgfVxuICBjcmVhdGUoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9jcmVhdGUodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9jcmVhdGVJZk5vdEV4aXN0cyh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgZG9jdW1lbnQsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICBjcmVhdGVPclJlcGxhY2UoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShcbiAgICAgIF9jcmVhdGVPclJlcGxhY2UodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGRvY3VtZW50LCBvcHRpb25zKVxuICAgICk7XG4gIH1cbiAgZGVsZXRlKHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9kZWxldGUodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIHNlbGVjdGlvbiwgb3B0aW9ucykpO1xuICB9XG4gIG11dGF0ZShvcGVyYXRpb25zLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX211dGF0ZSh0aGlzLCB0aGlzLiNodHRwUmVxdWVzdCwgb3BlcmF0aW9ucywgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRhYmxlIHBhdGNoIG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gRG9jdW1lbnQgSUQsIGFuIGFycmF5IG9mIGRvY3VtZW50IElEcywgb3IgYW4gb2JqZWN0IHdpdGggYHF1ZXJ5YCBhbmQgb3B0aW9uYWwgYHBhcmFtc2AsIGRlZmluaW5nIHdoaWNoIGRvY3VtZW50KHMpIHRvIHBhdGNoXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgb2JqZWN0IG9mIHBhdGNoIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgcGF0Y2ggaW5zdGFuY2Ugd2l0aFxuICAgKiBAcmV0dXJucyBQYXRjaCBpbnN0YW5jZSAtIGNhbGwgYC5jb21taXQoKWAgdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9ucyBkZWZpbmVkXG4gICAqL1xuICBwYXRjaChkb2N1bWVudElkLCBvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBQYXRjaChkb2N1bWVudElkLCBvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIG9mIG11dGF0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIGFycmF5IG9mIG11dGF0aW9uIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdHJhbnNhY3Rpb24gaW5zdGFuY2Ugd2l0aFxuICAgKi9cbiAgdHJhbnNhY3Rpb24ob3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYWN0aW9uIG9wZXJhdGlvbnMgYWdhaW5zdCB0aGUgY29uZmlndXJlZCBkYXRhc2V0XG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zYWN0aW9uIHJlc3VsdFxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIEFjdGlvbiBvcGVyYXRpb24ocykgdG8gZXhlY3V0ZVxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFjdGlvbiBvcHRpb25zXG4gICAqL1xuICBhY3Rpb24ob3BlcmF0aW9ucywgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9hY3Rpb24odGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIG9wZXJhdGlvbnMsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKiBOT1RFOiBPbmx5IHVzZSB0aGlzIGZvciBTYW5pdHkgQVBJIGVuZHBvaW50cywgbm90IGZvciB5b3VyIG93biBBUElzIVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byB0aGUgcmVzcG9uc2UgYm9keVxuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX3JlcXVlc3QodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYSBgL2RhdGFgIHN1Yi1lbmRwb2ludFxuICAgKiBOT1RFOiBDb25zaWRlcmVkIGludGVybmFsLCB0aHVzIG1hcmtlZCBhcyBkZXByZWNhdGVkLiBVc2UgYHJlcXVlc3RgIGluc3RlYWQuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkIC0gVXNlIGByZXF1ZXN0KClgIG9yIHlvdXIgb3duIEhUVFAgbGlicmFyeSBpbnN0ZWFkXG4gICAqIEBwYXJhbSBlbmRwb2ludCAtIEVuZHBvaW50IHRvIGhpdCAobXV0YXRlLCBxdWVyeSBldGMpXG4gICAqIEBwYXJhbSBib2R5IC0gUmVxdWVzdCBib2R5XG4gICAqIEBwYXJhbSBvcHRpb25zIC0gUmVxdWVzdCBvcHRpb25zXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGF0YVJlcXVlc3QoZW5kcG9pbnQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZGF0YVJlcXVlc3QodGhpcywgdGhpcy4jaHR0cFJlcXVlc3QsIGVuZHBvaW50LCBib2R5LCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgVVJJIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBVUkkvcGF0aCB0byBidWlsZCBVUkwgZm9yXG4gICAqIEBwYXJhbSBjYW5Vc2VDZG4gLSBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyB1c2luZyB0aGUgQVBJIENETiBmb3IgdGhpcyByb3V0ZVxuICAgKi9cbiAgZ2V0VXJsKHVyaSwgY2FuVXNlQ2RuKSB7XG4gICAgcmV0dXJuIF9nZXRVcmwodGhpcywgdXJpLCBjYW5Vc2VDZG4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIGRhdGEgb3BlcmF0aW9uIGFuZCBwYXRoIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBEYXRhIG9wZXJhdGlvbiAoZWcgYHF1ZXJ5YCwgYG11dGF0ZWAsIGBsaXN0ZW5gIG9yIHNpbWlsYXIpXG4gICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBhcHBlbmQgYWZ0ZXIgdGhlIG9wZXJhdGlvblxuICAgKi9cbiAgZ2V0RGF0YVVybChvcGVyYXRpb24sIHBhdGgpIHtcbiAgICByZXR1cm4gX2dldERhdGFVcmwodGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cyhlbnZNaWRkbGV3YXJlMiwgQ2xhc3NDb25zdHJ1Y3Rvcikge1xuICByZXR1cm4geyByZXF1ZXN0ZXI6IGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUyKSwgY3JlYXRlQ2xpZW50OiAoY29uZmlnKSA9PiB7XG4gICAgY29uc3QgY2xpZW50UmVxdWVzdGVyID0gZGVmaW5lSHR0cFJlcXVlc3QoZW52TWlkZGxld2FyZTIpO1xuICAgIHJldHVybiBuZXcgQ2xhc3NDb25zdHJ1Y3RvcihcbiAgICAgIChvcHRpb25zLCByZXF1ZXN0ZXIyKSA9PiAocmVxdWVzdGVyMiB8fCBjbGllbnRSZXF1ZXN0ZXIpKHtcbiAgICAgICAgbWF4UmVkaXJlY3RzOiAwLFxuICAgICAgICBtYXhSZXRyaWVzOiBjb25maWcubWF4UmV0cmllcyxcbiAgICAgICAgcmV0cnlEZWxheTogY29uZmlnLnJldHJ5RGVsYXksXG4gICAgICAgIC4uLm9wdGlvbnNcbiAgICAgIH0pLFxuICAgICAgY29uZmlnXG4gICAgKTtcbiAgfSB9O1xufVxuZnVuY3Rpb24gZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudChjcmVhdGVDbGllbnQyKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb25maWcpIHtcbiAgICByZXR1cm4gcHJpbnROb0RlZmF1bHRFeHBvcnQoKSwgY3JlYXRlQ2xpZW50Mihjb25maWcpO1xuICB9O1xufVxudmFyIGVudk1pZGRsZXdhcmUgPSBbXTtcbmNvbnN0IGV4cCA9IGRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMoZW52TWlkZGxld2FyZSwgU2FuaXR5Q2xpZW50KSwgcmVxdWVzdGVyID0gZXhwLnJlcXVlc3RlciwgY3JlYXRlQ2xpZW50ID0gZXhwLmNyZWF0ZUNsaWVudCwgZGVwcmVjYXRlZENyZWF0ZUNsaWVudCA9IGRlZmluZURlcHJlY2F0ZWRDcmVhdGVDbGllbnQoY3JlYXRlQ2xpZW50KTtcbmV4cG9ydCB7XG4gIEJhc2VQYXRjaCxcbiAgQmFzZVRyYW5zYWN0aW9uLFxuICBDaGFubmVsRXJyb3IsXG4gIENsaWVudEVycm9yLFxuICBDb25uZWN0aW9uRmFpbGVkRXJyb3IsXG4gIENvcnNPcmlnaW5FcnJvcixcbiAgRGlzY29ubmVjdEVycm9yLFxuICBNZXNzYWdlRXJyb3IsXG4gIE1lc3NhZ2VQYXJzZUVycm9yLFxuICBPYnNlcnZhYmxlUGF0Y2gsXG4gIE9ic2VydmFibGVTYW5pdHlDbGllbnQsXG4gIE9ic2VydmFibGVUcmFuc2FjdGlvbixcbiAgUGF0Y2gsXG4gIFNhbml0eUNsaWVudCxcbiAgU2VydmVyRXJyb3IsXG4gIFRyYW5zYWN0aW9uLFxuICBjb25uZWN0RXZlbnRTb3VyY2UsXG4gIGNyZWF0ZUNsaWVudCxcbiAgZGVwcmVjYXRlZENyZWF0ZUNsaWVudCBhcyBkZWZhdWx0LFxuICByZXF1ZXN0ZXIsXG4gIGFkYXB0ZXIgYXMgdW5zdGFibGVfX2FkYXB0ZXIsXG4gIGVudmlyb25tZW50IGFzIHVuc3RhYmxlX19lbnZpcm9ubWVudCxcbiAgdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIuanMubWFwXG4iXSwibmFtZXMiOlsiZ2V0SXQiLCJhZGFwdGVyIiwiZW52aXJvbm1lbnQiLCJyZXRyeSIsImpzb25SZXF1ZXN0IiwianNvblJlc3BvbnNlIiwicHJvZ3Jlc3MiLCJvYnNlcnZhYmxlIiwiT2JzZXJ2YWJsZSIsImRlZmVyIiwib2YiLCJpc09ic2VydmFibGUiLCJtZXJnZU1hcCIsImZyb20iLCJsYXN0VmFsdWVGcm9tIiwic2hhcmVSZXBsYXkiLCJjYXRjaEVycm9yIiwiY29uY2F0IiwidGhyb3dFcnJvciIsInRpbWVyIiwidGFwIiwiZmluYWxpemUiLCJzaGFyZSIsIm1lcmdlIiwiRU1QVFkiLCJzdGVnYUNsZWFuIiwiY29tYmluZUxhdGVzdFdpdGgiLCJtYXAiLCJmaWx0ZXIiLCJmaW5hbGl6ZSQxIiwiQ2xpZW50RXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwicmVzIiwicHJvcHMiLCJleHRyYWN0RXJyb3JQcm9wcyIsIm1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiT2JqZWN0IiwiYXNzaWduIiwiU2VydmVyRXJyb3IiLCJib2R5IiwicmVzcG9uc2UiLCJyZXNwb25zZUJvZHkiLCJzdHJpbmdpZnlCb2R5IiwiZGV0YWlscyIsImVycm9yIiwiaXNNdXRhdGlvbkVycm9yIiwiaXNBY3Rpb25FcnJvciIsImFsbEl0ZW1zIiwiaXRlbXMiLCJzbGljZSIsIml0ZW0iLCJkZXNjcmlwdGlvbiIsIkJvb2xlYW4iLCJpdGVtc1N0ciIsImxlbmd0aCIsImpvaW4iLCJodHRwRXJyb3JNZXNzYWdlIiwiaXNQbGFpbk9iamVjdCIsInR5cGUiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJzdGF0dXNNZXNzYWdlIiwibWV0aG9kIiwidXJsIiwiaGVhZGVycyIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsIkpTT04iLCJzdHJpbmdpZnkiLCJDb3JzT3JpZ2luRXJyb3IiLCJwcm9qZWN0SWQiLCJwcm9qZWN0SWQyIiwibmFtZSIsIlVSTCIsImxvY2F0aW9uIiwib3JpZ2luIiwic2VhcmNoUGFyYW1zIiwic2V0IiwiYWRkT3JpZ2luVXJsIiwiaHR0cEVycm9yIiwib25SZXNwb25zZSIsInByaW50V2FybmluZ3MiLCJzZWVuIiwid2FybiIsIndhcm5pbmdzIiwibXNnIiwiY29uc29sZSIsImRlZmluZUh0dHBSZXF1ZXN0IiwiZW52TWlkZGxld2FyZTIiLCJzaG91bGRSZXRyeSIsImltcGxlbWVudGF0aW9uIiwiZXJyIiwiYXR0ZW1wdCIsIm9wdGlvbnMiLCJtYXhSZXRyaWVzIiwiaXNTYWZlIiwiaXNRdWVyeTIiLCJ1cmkiLCJzdGFydHNXaXRoIiwiaXNSZXRyaWFibGVSZXNwb25zZSIsIkJBU0VfVVJMIiwiZ2VuZXJhdGVIZWxwVXJsIiwic2x1ZyIsIlZBTElEX0FTU0VUX1RZUEVTIiwiVkFMSURfSU5TRVJUX0xPQ0FUSU9OUyIsImRhdGFzZXQiLCJ0ZXN0IiwiaWQiLCJ2YWxpZGF0ZUFzc2V0VHlwZSIsInZhbGlkYXRlT2JqZWN0Iiwib3AiLCJ2YWwiLCJ2YWxpZGF0ZURvY3VtZW50SWQiLCJpbmNsdWRlcyIsInJlcXVpcmVEb2N1bWVudElkIiwiZG9jIiwiX2lkIiwidmFsaWRhdGVJbnNlcnQiLCJhdCIsInNlbGVjdG9yIiwic2lnbmF0dXJlIiwidmFsaWQiLCJsb2MiLCJoYXNEYXRhc2V0IiwiY29uZmlnIiwicmVxdWVzdFRhZyIsInRhZyIsInJlc291cmNlQ29uZmlnIiwic3BsaXQiLCJ0b1N0cmluZyIsInJlc291cmNlR3VhcmQiLCJzZXJ2aWNlIiwib25jZSIsImZuIiwiZGlkQ2FsbCIsInJldHVyblZhbHVlIiwiYXJncyIsImNyZWF0ZVdhcm5pbmdQcmludGVyIiwicHJpbnRDZG5BbmRXaXRoQ3JlZGVudGlhbHNXYXJuaW5nIiwicHJpbnRDZG5XYXJuaW5nIiwicHJpbnRDZG5QcmV2aWV3RHJhZnRzV2FybmluZyIsInByaW50UHJldmlld0RyYWZ0c0RlcHJlY2F0aW9uV2FybmluZyIsInByaW50QnJvd3NlclRva2VuV2FybmluZyIsInByaW50Q3JlZGVudGlhbGVkVG9rZW5XYXJuaW5nIiwicHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nIiwicHJpbnROb0RlZmF1bHRFeHBvcnQiLCJkZWZhdWx0Q2RuSG9zdCIsImRlZmF1bHRDb25maWciLCJhcGlIb3N0IiwiYXBpVmVyc2lvbiIsInVzZVByb2plY3RIb3N0bmFtZSIsInN0ZWdhIiwiZW5hYmxlZCIsIkxPQ0FMSE9TVFMiLCJpc0xvY2FsIiwiaG9zdCIsInZhbGlkYXRlQXBpVmVyc2lvbiIsImFwaURhdGUiLCJEYXRlIiwiZ2V0VGltZSIsInZhbGlkYXRlQXBpUGVyc3BlY3RpdmUiLCJwZXJzcGVjdGl2ZSIsIlR5cGVFcnJvciIsImluaXRDb25maWciLCJwcmV2Q29uZmlnIiwic3BlY2lmaWVkQ29uZmlnIiwibmV3Q29uZmlnIiwicHJvamVjdEJhc2VkIiwiUHJvbWlzZSIsImhlbHBVcmwiLCJzdHVkaW9VcmwiLCJpc0Jyb3dzZXIiLCJ3aW5kb3ciLCJob3N0bmFtZSIsImlzTG9jYWxob3N0IiwiaGFzVG9rZW4iLCJ0b2tlbiIsIndpdGhDcmVkZW50aWFscyIsImlnbm9yZUJyb3dzZXJUb2tlbldhcm5pbmciLCJ1c2VDZG4iLCJyZXF1ZXN0VGFnUHJlZml4IiwicmVwbGFjZSIsImlzRGVmYXVsdEFwaSIsImhvc3RQYXJ0cyIsInByb3RvY29sIiwiY2RuSG9zdCIsImNkblVybCIsIkNvbm5lY3Rpb25GYWlsZWRFcnJvciIsIkRpc2Nvbm5lY3RFcnJvciIsInJlYXNvbiIsIkNoYW5uZWxFcnJvciIsImRhdGEiLCJNZXNzYWdlRXJyb3IiLCJNZXNzYWdlUGFyc2VFcnJvciIsIlJFUVVJUkVEX0VWRU5UUyIsImNvbm5lY3RFdmVudFNvdXJjZSIsImluaXRFdmVudFNvdXJjZSIsImV2ZW50cyIsImVzIiwicGlwZSIsImNvbm5lY3RXaXRoRVNJbnN0YW5jZSIsIm9ic2VydmVyIiwiZW1pdE9wZW4iLCJlbWl0UmVjb25uZWN0Iiwib25FcnJvciIsImV2dCIsInBhcnNlRXJyb3IiLCJldmVudCIsInBhcnNlRXZlbnQiLCJjYXVzZSIsInJlYWR5U3RhdGUiLCJDTE9TRUQiLCJuZXh0Iiwib25PcGVuIiwib25NZXNzYWdlIiwiZXh0cmFjdEVycm9yTWVzc2FnZSIsImxhc3RFdmVudElkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFuZWRFdmVudHMiLCJTZXQiLCJmb3JFYWNoIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwicGFyc2UiLCJpc0VtcHR5T2JqZWN0IiwiXyIsImdldFNlbGVjdGlvbiIsInNlbCIsInF1ZXJ5IiwicGFyYW1zIiwiaWRzIiwic2VsZWN0aW9uT3B0cyIsIkJhc2VQYXRjaCIsInNlbGVjdGlvbiIsIm9wZXJhdGlvbnMiLCJhdHRycyIsIl9hc3NpZ24iLCJzZXRJZk1pc3NpbmciLCJkaWZmTWF0Y2hQYXRjaCIsInVuc2V0IiwiaW5jIiwiZGVjIiwiaW5zZXJ0IiwiYXBwZW5kIiwicHJlcGVuZCIsInNwbGljZSIsInN0YXJ0IiwiZGVsZXRlQ291bnQiLCJkZWxBbGwiLCJzdGFydEluZGV4IiwiZGVsQ291bnQiLCJNYXRoIiwibWF4IiwiZGVsUmFuZ2UiLCJyYW5nZVNlbGVjdG9yIiwiaWZSZXZpc2lvbklkIiwicmV2IiwiaWZSZXZpc2lvbklEIiwic2VyaWFsaXplIiwidG9KU09OIiwicmVzZXQiLCJtZXJnZTIiLCJfc2V0IiwiT2JzZXJ2YWJsZVBhdGNoIiwiY2xpZW50IiwiY2xvbmUiLCJjb21taXQiLCJyZXR1cm5GaXJzdCIsIm9wdHMiLCJyZXR1cm5Eb2N1bWVudHMiLCJtdXRhdGUiLCJwYXRjaCIsIlBhdGNoIiwiZGVmYXVsdE11dGF0ZU9wdGlvbnMiLCJCYXNlVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbklkIiwidHJ4SWQiLCJjcmVhdGUiLCJfYWRkIiwiY3JlYXRlSWZOb3RFeGlzdHMiLCJjcmVhdGVPclJlcGxhY2UiLCJkZWxldGUiLCJkb2N1bWVudElkIiwibXV0IiwicHVzaCIsIlRyYW5zYWN0aW9uIiwicGF0Y2hPckRvY3VtZW50SWQiLCJwYXRjaE9wcyIsImlzQnVpbGRlciIsImlzUGF0Y2giLCJpc011dGF0aW9uU2VsZWN0aW9uIiwiT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIiwicHJvamVjdEhlYWRlciIsInJlcXVlc3RPcHRpb25zIiwib3ZlcnJpZGVzIiwiQXV0aG9yaXphdGlvbiIsInVzZUdsb2JhbEFwaSIsInRpbWVvdXQiLCJwcm94eSIsImpzb24iLCJmZXRjaCIsImVuY29kZVF1ZXJ5U3RyaW5nIiwiVVJMU2VhcmNoUGFyYW1zIiwiaW5jbHVkZU11dGF0aW9ucyIsInJldHVyblF1ZXJ5Iiwia2V5IiwidmFsdWUiLCJlbnRyaWVzIiwiZXhjbHVkZUZhbHNleSIsInBhcmFtIiwiZGVmVmFsdWUiLCJnZXRNdXRhdGlvblF1ZXJ5IiwiZHJ5UnVuIiwicmV0dXJuSWRzIiwidmlzaWJpbGl0eSIsImF1dG9HZW5lcmF0ZUFycmF5S2V5cyIsInNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uIiwiaXNSZXNwb25zZSIsImdldEJvZHkiLCJpbmRleEJ5IiwiZG9jcyIsImF0dHIiLCJyZWR1Y2UiLCJpbmRleGVkIiwiZ2V0UXVlcnlTaXplTGltaXQiLCJfZmV0Y2giLCJodHRwUmVxdWVzdCIsIl9zdGVnYSIsIl9wYXJhbXMiLCJtYXBSZXNwb25zZSIsImZpbHRlclJlc3BvbnNlIiwicmVzdWx0IiwiY2FjaGUiLCJ1c2VBYm9ydFNpZ25hbCIsInNpZ25hbCIsInJlc3VsdFNvdXJjZU1hcCIsInJlcU9wdHMiLCIkcmVxdWVzdCIsIl9kYXRhUmVxdWVzdCIsInRoZW4iLCJuIiwic3RlZ2FFbmNvZGVTb3VyY2VNYXAkMSIsInN0ZWdhRW5jb2RlU291cmNlTWFwIiwiX2dldERvY3VtZW50IiwiX2dldERhdGFVcmwiLCJfcmVxdWVzdE9ic2VydmFibGUiLCJkb2N1bWVudHMiLCJfZ2V0RG9jdW1lbnRzIiwiX2NyZWF0ZUlmTm90RXhpc3RzIiwiX2NyZWF0ZSIsIl9jcmVhdGVPclJlcGxhY2UiLCJfZGVsZXRlIiwibXV0YXRpb25zIiwiX211dGF0ZSIsIm11dHMiLCJfYWN0aW9uIiwiYWN0aW9ucyIsImFjdHMiLCJlbmRwb2ludCIsImlzTXV0YXRpb24iLCJpc0FjdGlvbiIsInN0clF1ZXJ5IiwidXNlR2V0Iiwic3RyaW5nUXVlcnkiLCJsYXN0TGl2ZUV2ZW50SWQiLCJjYWNoZU1vZGUiLCJyZXFPcHRpb25zIiwiY2FuVXNlQ2RuIiwicmVzdWx0cyIsImRvY3VtZW50IiwibXV0YXRpb24iLCJoYXNEYXRhQ29uZmlnIiwiaXNRdWVyeSIsImlzTXV0YXRlIiwiaXNEb2MiLCJpc0xpc3RlbmVyIiwiaXNIaXN0b3J5IiwiaXNEYXRhIiwicGVyc3BlY3RpdmVPcHRpb24iLCJfZ2V0VXJsIiwicmVxdWVzdCIsInN1YnNjcmliZXIiLCJyZXF1ZXN0ZXIiLCJzdWJzY3JpYmUiLCJfd2l0aEFib3J0U2lnbmFsIiwiX3JlcXVlc3QiLCJvcGVyYXRpb24iLCJwYXRoIiwicmVzb3VyY2VCYXNlIiwicmVzb3VyY2VEYXRhQmFzZSIsInVyaTIiLCJjYXRhbG9nIiwiYmFzZVVyaSIsImlucHV0IiwiYWJvcnQiLCJfY3JlYXRlQWJvcnRFcnJvciIsImFib3J0ZWQiLCJzdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsImlzRG9tRXhjZXB0aW9uU3VwcG9ydGVkIiwiZ2xvYmFsVGhpcyIsIkRPTUV4Y2VwdGlvbiIsInNlZ21lbnRzIiwiT2JzZXJ2YWJsZUFzc2V0c0NsaWVudCIsInVwbG9hZCIsImFzc2V0VHlwZSIsIl91cGxvYWQiLCJBc3NldHNDbGllbnQiLCJvYnNlcnZhYmxlMiIsIm1ldGEiLCJleHRyYWN0Iiwib3B0aW9uc0Zyb21GaWxlIiwibGFiZWwiLCJ0aXRsZSIsImNyZWRpdExpbmUiLCJmaWxlbmFtZSIsInNvdXJjZSIsInNvdXJjZUlkIiwic291cmNlTmFtZSIsInNvdXJjZVVybCIsImJ1aWxkQXNzZXRVcGxvYWRVcmwiLCJjb250ZW50VHlwZSIsImFzc2V0VHlwZUVuZHBvaW50IiwiZGF0YXNldDIiLCJmaWxlIiwiRmlsZSIsInByZXNlcnZlRmlsZW5hbWUiLCJkZWZhdWx0cyIsImRlZmF1bHRzMiIsImtleXMiLCJ0YXJnZXQiLCJwcm9wIiwicGljayIsImV2ZW50U291cmNlUG9seWZpbGwiLCJkZWZhdWx0IiwiRXZlbnRTb3VyY2UyIiwicmVjb25uZWN0T25Db25uZWN0aW9uRmFpbHVyZSIsImNhdWdodCIsIk1BWF9VUkxfTEVOR1RIIiwicG9zc2libGVPcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJpbmNsdWRlUmVzdWx0IiwiX2xpc3RlbiIsImxpc3Rlbk9wdHMiLCJxcyIsImxpc3RlbkZvciIsImVzT3B0aW9ucyIsIkV2ZW50U291cmNlIiwic2hhcmVSZXBsYXlMYXRlc3QiLCJjb25maWdPclByZWRpY2F0ZSIsIl9zaGFyZVJlcGxheUxhdGVzdCIsInByZWRpY2F0ZSIsImxhdGVzdCIsImVtaXR0ZWQiLCJzaGFyZUNvbmZpZyIsIndyYXBwZWQiLCJlbWl0TGF0ZXN0IiwiY29tcGxldGUiLCJyZXF1aXJlZEFwaVZlcnNpb24iLCJMaXZlQ2xpZW50IiwiaW5jbHVkZURyYWZ0cyIsIl90YWciLCJfYXBpVmVyc2lvbiIsImdldFVybCIsImhyZWYiLCJleGlzdGluZyIsImV2ZW50c0NhY2hlIiwiZ2V0IiwicmVzdCIsInRhZ3MiLCJjaGVja0NvcnMiLCJmZXRjaE9ic2VydmFibGUiLCJtb2RlIiwiY3JlZGVudGlhbHMiLCJpbml0IiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsIk1hcCIsIk9ic2VydmFibGVEYXRhc2V0c0NsaWVudCIsIl9tb2RpZnkiLCJlZGl0IiwibGlzdCIsIkRhdGFzZXRzQ2xpZW50IiwiT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50IiwiaW5jbHVkZU1lbWJlcnMiLCJnZXRCeUlkIiwiUHJvamVjdHNDbGllbnQiLCJPYnNlcnZhYmxlVXNlcnNDbGllbnQiLCJVc2Vyc0NsaWVudCIsIk9ic2VydmFibGVTYW5pdHlDbGllbnQiLCJjbGllbnRDb25maWciLCJsaXN0ZW4iLCJhc3NldHMiLCJkYXRhc2V0cyIsImxpdmUiLCJwcm9qZWN0cyIsInVzZXJzIiwiYWxsb3dSZWNvbmZpZ3VyZSIsIndpdGhDb25maWciLCJ0aGlzQ29uZmlnIiwiZ2V0RG9jdW1lbnQiLCJnZXREb2N1bWVudHMiLCJ0cmFuc2FjdGlvbiIsImFjdGlvbiIsImdldERhdGFVcmwiLCJTYW5pdHlDbGllbnQiLCJkYXRhUmVxdWVzdCIsImRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMiLCJDbGFzc0NvbnN0cnVjdG9yIiwiY3JlYXRlQ2xpZW50IiwiY2xpZW50UmVxdWVzdGVyIiwicmVxdWVzdGVyMiIsIm1heFJlZGlyZWN0cyIsInJldHJ5RGVsYXkiLCJkZWZpbmVEZXByZWNhdGVkQ3JlYXRlQ2xpZW50IiwiY3JlYXRlQ2xpZW50MiIsImVudk1pZGRsZXdhcmUiLCJleHAiLCJkZXByZWNhdGVkQ3JlYXRlQ2xpZW50IiwidW5zdGFibGVfX2FkYXB0ZXIiLCJ1bnN0YWJsZV9fZW52aXJvbm1lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/.pnpm/@sanity+client@6.29.1_debug@4.4.3/node_modules/@sanity/client/dist/index.browser.js\n");

/***/ })

};
;